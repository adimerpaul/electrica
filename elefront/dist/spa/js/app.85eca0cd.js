(function(t){function e(e){for(var a,i,l=e[0],r=e[1],c=e[2],u=0,d=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],a=!0,i=1;i<o.length;i++){var r=o[i];0!==n[r]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=o[0]))}return t}var a={},n={1:0},s=[];function i(t){return l.p+"js/"+({}[t]||t)+"."+{2:"a67cc865",3:"02066227",4:"1b7961d8"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(t){var e=[],o=n[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,a){o=n[t]=[e,a]}));e.push(o[2]=a);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.src=i(t);var c=new Error;s=function(e){r.onerror=r.onload=null,clearTimeout(u);var o=n[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",c.name="ChunkLoadError",c.type=a,c.request=s,o[1](c)}n[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(o,a,function(e){return t[e]}.bind(null,a));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var p=c;s.push([0,0]),o()})({0:function(t,e,o){t.exports=o("2f39")},"2f39":function(t,e,o){"use strict";o.r(e);var a={};o.r(a),o.d(a,"isLoggedIn",(function(){return x})),o.d(a,"authStatus",(function(){return k})),o.d(a,"user",(function(){return w}));var n={};o.r(n),o.d(n,"auth_request",(function(){return C})),o.d(n,"auth_success",(function(){return $})),o.d(n,"auth_error",(function(){return _})),o.d(n,"salir",(function(){return P}));var s={};o.r(s),o.d(s,"login",(function(){return Q})),o.d(s,"register",(function(){return O})),o.d(s,"logout",(function(){return z}));o("5319"),o("7d6e"),o("e54f"),o("985d"),o("31cd");var i=o("2b0e"),l=o("df1a"),r=o("42d2"),c=o("b05d"),u=o("f508"),p=o("2a19");i["a"].use(c["a"],{config:{},lang:l["a"],iconSet:r["a"],plugins:{Loading:u["a"],Notify:p["a"]}});var d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"q-app"}},[o("router-view")],1)},m=[],f={name:"App"},b=f,h=o("2877"),v=Object(h["a"])(b,d,m,!1,null,null,null),g=v.exports,q=o("2f62"),y=function(){return{status:"",token:localStorage.getItem("tokenelec")||"",user:{}}};function x(t){return!!t.token}function k(t){return t.status}function w(t){return t.user}function C(t){t.status="loading"}function $(t,e){t.status="success",t.token=e.token,t.user=e.user}function _(t){t.status="error"}function P(t){t.status="",t.token=""}var S=o("bc3a"),I=o.n(S);function Q({commit:t},e){return new Promise(((o,a)=>{t("auth_request"),I.a.post("https://electricab.gamo.cf/api/login",e).then((e=>{const a=e.data.token,n=e.data.user;localStorage.setItem("tokenelec",a),I.a.defaults.headers.common["Authorization"]="Bearer "+a,t("auth_success",{token:a,user:n}),o(e)})).catch((e=>{t("auth_error"),localStorage.removeItem("tokenelec"),a(e)}))}))}function O({commit:t},e){return new Promise(((o,a)=>{t("auth_request"),I.a.post("https://electricab.gamo.cf/api/register",e).then((e=>{console.log(e.data);const a=e.data.token,n=e.data.user;localStorage.setItem("tokenelec",a),I.a.defaults.headers.common["Authorization"]="Bearer "+a,t("auth_success",{token:a,user:n}),o(e)})).catch((e=>{t("auth_error"),localStorage.removeItem("tokenelec"),a(e)}))}))}function z({commit:t}){return new Promise(((e,o)=>{I.a.post("https://electricab.gamo.cf/api/logout").then((o=>{t("salir"),localStorage.removeItem("tokenelec"),delete I.a.defaults.headers.common["Authorization"],e()})).catch((e=>{t("auth_error"),localStorage.removeItem("tokenelec"),o(e)}))}))}var E={namespaced:!0,state:y,getters:a,mutations:n,actions:s};i["a"].use(q["a"]);var T=function(){const t=new q["a"].Store({modules:{login:E},strict:!1});return t},A=o("8c4f"),N=(o("ddb0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",[o("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.puntos,(function(e){return o("l-marker",{key:e.id,attrs:{"lat-lng":[e.lat,e.lng]},on:{click:function(o){return t.frmmodalpunto(e)}}},[o("l-icon",[o("q-badge",{staticClass:"q-pa-xs",attrs:{color:"ACTIVO"==e.estado?"primary":"negative",label:e.nroposte}})],1)],1)}))],2),o("q-table",{attrs:{data:t.puntos,"hide-header":"",columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"body-cell-descripcion",fn:function(e){return[o("q-td",{attrs:{props:e},on:{click:function(o){return t.frmmodalpunto(e.row)}}},[o("div",{staticClass:"text-subtitle2",staticStyle:{"font-size":"0.8em","white-space":"initial"}},[t._v(t._s(e.row.descripcion))])])]}},{key:"body-cell-potencia",fn:function(e){return[o("q-td",{attrs:{props:e},on:{click:function(o){return t.frmmodalpunto(e.row)}}},[t._v("\n          "+t._s(e.row.potencia)+" W\n        ")])]}},{key:"body-cell-nroposte",fn:function(e){return[o("q-td",{attrs:{props:e},on:{click:function(o){return t.frmmodalpunto(e.row)}}},[t._v("\n          "+t._s(e.row.nroposte)+"\n        ")])]}},{key:"body-cell-ubicacion",fn:function(e){return[o("q-td",{attrs:{props:e}},[o("q-btn",{attrs:{color:"ACTIVO"==e.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(o){return t.clickclientes(e.row)}}})],1)]}},{key:"top-right",fn:function(){return[o("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])}),o("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[o("q-card",[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.punto.nroposte))])]),o("q-card-section",{staticClass:"q-pt-none"},[o("q-form",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",label:"codigo"},model:{value:t.punto.codigo,callback:function(e){t.$set(t.punto,"codigo",e)},expression:"punto.codigo"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",label:"nroposte"},model:{value:t.punto.nroposte,callback:function(e){t.$set(t.punto,"nroposte",e)},expression:"punto.nroposte"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",label:"potencia"},model:{value:t.punto.potencia,callback:function(e){t.$set(t.punto,"potencia",e)},expression:"punto.potencia"}})],1),o("div",{staticClass:"col-12"},[o("q-input",{attrs:{type:"textarea",dense:"",outlined:"",label:"descripcion"},model:{value:t.punto.descripcion,callback:function(e){t.$set(t.punto,"descripcion",e)},expression:"punto.descripcion"}})],1),o("div",{staticClass:"col-12"},[o("q-select",{attrs:{dense:"",outlined:"",label:"estado",options:t.estados},on:{input:function(e){return t.cambioestado()}},model:{value:t.punto.estado,callback:function(e){t.$set(t.punto,"estado",e)},expression:"punto.estado"}})],1)])])],1),o("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1)],1)}),j=[],D={data(){return{modalpunto:!1,estados:["ACTIVO","MANTENIMIENTO"],estado:"ACTIVO",filter:"",colums:[{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"descripcion",label:"descripcion",field:"descripcion"},{name:"potencia",label:"potencia",field:"potencia"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],puntos:[],punto:{},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:13,center:[-17.97031,-67.11178],markerLatLng:[-17.97031,-67.11178]}},created(){this.mispuntos()},methods:{frmmodalpunto(t){this.modalpunto=!0,this.punto=t},clickclientes(t){this.center=[t.lat,t.lng],this.zoom=18},cambioestado(){console.log(this.punto),this.$axios.put("punto/"+this.punto.id,this.punto)},mispuntos(){this.$q.loading.show(),this.$axios.get("punto").then((t=>{this.$q.loading.hide(),this.puntos=[],t.data.forEach((t=>{"MANTENIMIENTO"==t.estado&&this.puntos.push(t)}))}))}}},M=D,L=o("9989"),B=o("58a8"),V=o("eaac"),R=o("db86"),U=o("9c40"),F=o("27f9"),Y=o("0016"),K=o("24e8"),H=o("f09f"),J=o("a370"),G=o("0378"),W=o("ddd8"),X=o("4b7e"),Z=o("7f67"),tt=o("eebe"),et=o.n(tt),ot=Object(h["a"])(M,N,j,!1,null,null,null),at=ot.exports;et()(ot,"components",{QPage:L["a"],QBadge:B["a"],QTable:V["a"],QTd:R["a"],QBtn:U["a"],QInput:F["a"],QIcon:Y["a"],QDialog:K["a"],QCard:H["a"],QCardSection:J["a"],QForm:G["a"],QSelect:W["a"],QCardActions:X["a"]}),et()(ot,"directives",{ClosePopup:Z["a"]});var nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",[o("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.puntos,(function(e){return o("l-marker",{key:e.id,attrs:{"lat-lng":[e.lat,e.lng]},on:{click:function(o){return t.frmmodalpunto(e)}}},[o("l-icon",[o("q-badge",{staticClass:"q-pa-xs",attrs:{color:"ATENDIDO"==e.estado?"info":"negative",label:""}}),o("div",{staticStyle:{color:"white","font-size":"15px","font-family":"'Arial Black'",opacity:"0.8","text-shadow":"2px 2px 0 #000"}},[t._v(t._s(e.nroposte))])],1)],1)}))],2),o("q-table",{attrs:{data:t.puntostabla,"hide-header":"",columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"body-cell-nombre",fn:function(e){return[o("q-td",{attrs:{props:e},on:{click:function(o){return t.frmmodalpunto(e.row)}}},[o("div",{staticClass:"text-subtitle2",staticStyle:{"font-size":"0.8em","white-space":"initial"}},[t._v(t._s(e.row.nombre)+"-"+t._s(e.row.telefono))])])]}},{key:"body-cell-nroposte",fn:function(e){return[o("q-td",{attrs:{props:e},on:{click:function(o){return t.frmmodalpunto(e.row)}}},[t._v("\n          "+t._s(e.row.nroposte)+"\n        ")])]}},{key:"body-cell-ubicacion",fn:function(e){return[o("q-td",{attrs:{props:e}},[o("q-btn",{attrs:{color:"ACTIVO"==e.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(o){return t.clickclientes(e.row)}}})],1)]}},{key:"top-right",fn:function(){return[o("q-btn",{attrs:{icon:"refresh",color:"info"},on:{click:t.mispuntos}}),o("q-btn",{attrs:{icon:"adjust",color:"negative"},on:{click:t.centro}}),o("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])}),o("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[o("q-card",[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.punto.nroposte))])]),o("q-card-section",{staticClass:"q-pt-none"},[o("q-form",{on:{submit:t.updatedenuncia}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"nombre"},model:{value:t.punto.nombre,callback:function(e){t.$set(t.punto,"nombre",e)},expression:"punto.nombre"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"ci"},model:{value:t.punto.ci,callback:function(e){t.$set(t.punto,"ci",e)},expression:"punto.ci"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"telefono"},model:{value:t.punto.telefono,callback:function(e){t.$set(t.punto,"telefono",e)},expression:"punto.telefono"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"zona"},model:{value:t.punto.zona,callback:function(e){t.$set(t.punto,"zona",e)},expression:"punto.zona"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"direccion"},model:{value:t.punto.direccion,callback:function(e){t.$set(t.punto,"direccion",e)},expression:"punto.direccion"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"reclamo"},model:{value:t.punto.reclamo,callback:function(e){t.$set(t.punto,"reclamo",e)},expression:"punto.reclamo"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lat"},model:{value:t.punto.lat,callback:function(e){t.$set(t.punto,"lat",e)},expression:"punto.lat"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lng"},model:{value:t.punto.lng,callback:function(e){t.$set(t.punto,"lng",e)},expression:"punto.lng"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"fecha"},model:{value:t.punto.fecha,callback:function(e){t.$set(t.punto,"fecha",e)},expression:"punto.fecha"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"hora"},model:{value:t.punto.hora,callback:function(e){t.$set(t.punto,"hora",e)},expression:"punto.hora"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"estado"},model:{value:t.punto.estado,callback:function(e){t.$set(t.punto,"estado",e)},expression:"punto.estado"}})],1),o("div",{staticClass:"col-12 flex flex-center"},[o("q-btn",{staticClass:"full-width",attrs:{label:"generar ruta",color:"primary",icon:"map",type:"a",target:"_blank",href:"https://www.google.com.bo/maps/place/"+t.punto.lat+","+t.punto.lng+"/@"+t.punto.lat+","+t.punto.lng+",17z/data=!3m1!4b1!4m6!3m5!1s0x0:0xeda9371aeb8c1574!7e2!8m2!3d-17.981432!4d-67.1061122?hl=es"}})],1),o("div",{staticClass:"col-12"},[o("q-input",{attrs:{required:"",dense:"",outlined:"",label:"tecnico"},model:{value:t.punto.tecnico,callback:function(e){t.$set(t.punto,"tecnico",e)},expression:"punto.tecnico"}})],1),o("div",{staticClass:"col-12"},[o("q-input",{attrs:{required:"",dense:"",outlined:"",type:"textarea",label:"actividad"},model:{value:t.punto.actividad,callback:function(e){t.$set(t.punto,"actividad",e)},expression:"punto.actividad"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"fechaman"},model:{value:t.punto.fechaman,callback:function(e){t.$set(t.punto,"fechaman",e)},expression:"punto.fechaman"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",type:"time",label:"fechaman"},model:{value:t.punto.horaman,callback:function(e){t.$set(t.punto,"horaman",e)},expression:"punto.horaman"}})],1),o("div",{staticClass:"col-12 flex flex-center"},[o("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Realizar mantenimiento",color:"positive",icon:"construction"}})],1)])])],1),o("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1),o("q-dialog",{attrs:{"full-width":""},model:{value:t.modalatendido,callback:function(e){t.modalatendido=e},expression:"modalatendido"}},[o("q-card",[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.punto.nroposte))])]),o("q-card-section",{staticClass:"q-pt-none"},[o("q-form",{on:{submit:t.updatedenuncia}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"nombre"},model:{value:t.punto.nombre,callback:function(e){t.$set(t.punto,"nombre",e)},expression:"punto.nombre"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"ci"},model:{value:t.punto.ci,callback:function(e){t.$set(t.punto,"ci",e)},expression:"punto.ci"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"telefono"},model:{value:t.punto.telefono,callback:function(e){t.$set(t.punto,"telefono",e)},expression:"punto.telefono"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"zona"},model:{value:t.punto.zona,callback:function(e){t.$set(t.punto,"zona",e)},expression:"punto.zona"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"direccion"},model:{value:t.punto.direccion,callback:function(e){t.$set(t.punto,"direccion",e)},expression:"punto.direccion"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"reclamo"},model:{value:t.punto.reclamo,callback:function(e){t.$set(t.punto,"reclamo",e)},expression:"punto.reclamo"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lat"},model:{value:t.punto.lat,callback:function(e){t.$set(t.punto,"lat",e)},expression:"punto.lat"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lng"},model:{value:t.punto.lng,callback:function(e){t.$set(t.punto,"lng",e)},expression:"punto.lng"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"fecha"},model:{value:t.punto.fecha,callback:function(e){t.$set(t.punto,"fecha",e)},expression:"punto.fecha"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"hora"},model:{value:t.punto.hora,callback:function(e){t.$set(t.punto,"hora",e)},expression:"punto.hora"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"estado"},model:{value:t.punto.estado,callback:function(e){t.$set(t.punto,"estado",e)},expression:"punto.estado"}})],1),o("div",{staticClass:"col-12 flex flex-center"},[o("q-btn",{staticClass:"full-width",attrs:{label:"generar ruta",color:"primary",icon:"map",type:"a",target:"_blank",href:"https://www.google.com.bo/maps/place/"+t.punto.lat+","+t.punto.lng+"/@"+t.punto.lat+","+t.punto.lng+",17z/data=!3m1!4b1!4m6!3m5!1s0x0:0xeda9371aeb8c1574!7e2!8m2!3d-17.981432!4d-67.1061122?hl=es"}})],1),o("div",{staticClass:"col-12"},[o("q-input",{attrs:{required:"",dense:"",outlined:"",label:"tecnico"},model:{value:t.punto.tecnico,callback:function(e){t.$set(t.punto,"tecnico",e)},expression:"punto.tecnico"}})],1),o("div",{staticClass:"col-12"},[o("q-input",{attrs:{required:"",dense:"",outlined:"",type:"textarea",label:"actividad"},model:{value:t.punto.actividad,callback:function(e){t.$set(t.punto,"actividad",e)},expression:"punto.actividad"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"fechaman"},model:{value:t.punto.fechaman,callback:function(e){t.$set(t.punto,"fechaman",e)},expression:"punto.fechaman"}})],1),o("div",{staticClass:"col-6"},[o("q-input",{attrs:{dense:"",outlined:"",type:"time",label:"fechaman"},model:{value:t.punto.horaman,callback:function(e){t.$set(t.punto,"horaman",e)},expression:"punto.horaman"}})],1)])])],1),o("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1)],1)},st=[],it=o("bd4c"),lt={data(){return{modalpunto:!1,modalatendido:!1,estados:["ACTIVO","MANTENIMIENTO"],estado:"ACTIVO",filter:"",colums:[{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"nombre",label:"nombre",field:"nombre"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],puntos:[],puntostabla:[],punto:{},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:16,center:[-17.97031,-67.11178],markerLatLng:[-17.97031,-67.11178]}},created(){this.mispuntos()},methods:{updatedenuncia(){this.$q.loading.show(),this.punto.supervisor=this.$store.state.login.user.name,this.punto.estado="ATENDIDO",console.log(this.punto.id),this.modalpunto=!1,this.$axios.put("denuncia/1",this.punto).then((t=>{console.log(t.data),this.mispuntos()}))},frmmodalpunto(t){"EN ESPERA"==t.estado?this.modalpunto=!0:this.modalatendido=!0,this.punto=t},clickclientes(t){this.center=[t.lat,t.lng],this.zoom=18},centro(){this.center=[-17.97031,-67.11178],this.zoom=13},mispuntos(){this.$q.loading.show(),this.$axios.get("denuncia").then((t=>{this.puntos=[],this.puntostabla=[],t.data.forEach((t=>{t.fechaman=it["a"].formatDate(new Date,"YYYY-MM-DD"),t.horaman=it["a"].formatDate(new Date,"HH:mm"),"EN ESPERA"==t.estado&&this.puntostabla.push(t),this.puntos.push(t)})),this.$q.loading.hide()}))}}},rt=lt,ct=Object(h["a"])(rt,nt,st,!1,null,null,null),ut=ct.exports;et()(ct,"components",{QPage:L["a"],QBadge:B["a"],QTable:V["a"],QTd:R["a"],QBtn:U["a"],QInput:F["a"],QIcon:Y["a"],QDialog:K["a"],QCard:H["a"],QCardSection:J["a"],QForm:G["a"],QSelect:W["a"],QCardActions:X["a"]}),et()(ct,"directives",{ClosePopup:Z["a"]});var pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pa-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-2"}),o("div",{staticClass:"col-12 col-md-8"},[o("q-card",[o("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[o("q-tab",{attrs:{name:"login",label:"Ingresar"}})],1),o("q-separator"),o("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[o("q-tab-panel",{attrs:{name:"login"}},[o("div",{staticClass:"text-h6"},[t._v("Ingresar al sistema")]),t._v("\n            Por favor colocar email y contraseña\n            "),o("q-form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 "},[o("q-input",{attrs:{type:"email",outlined:"",label:"Email*",hint:"Porfavor ingresar email",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-input",{attrs:{outlined:"",label:"password*",type:t.isPwd?"password":"text",hint:"Porfavor ingresar password",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("div",{staticClass:"col-12 q-py-md"},[o("q-btn",{staticClass:"full-width",attrs:{label:"INGRESAR",color:"primary",icon:"login",type:"submit"}}),o("div",{staticClass:"text-caption q-py-xs"})],1)])])],1),o("q-tab-panel",{attrs:{name:"registro"}},[o("div",{staticClass:"text-h6"},[t._v("Registrate ")]),o("q-form",{on:{submit:function(e){return e.preventDefault(),t.registrar.apply(null,arguments)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("q-input",{attrs:{outlined:"",type:"email",label:"Email*",hint:"Porfavor ingresar email",rules:t.rule,required:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-input",{attrs:{outlined:"",label:"Carnet o NIT*",hint:"Porfavor ingresar carnet o nit",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"credit_card"}})]},proxy:!0}]),model:{value:t.user.carnet,callback:function(e){t.$set(t.user,"carnet",e)},expression:"user.carnet"}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-input",{attrs:{outlined:"",label:"Nombre completo*",hint:"Porfavor ingresar nombre completo",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"people"}})]},proxy:!0}]),model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-input",{attrs:{outlined:"",label:"password*",type:t.isPwd?"password":"text",hint:"Porfavor ingresar carnet de identidad",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),o("div",{staticClass:"col-12 q-py-md"},[o("q-btn",{staticClass:"full-width",attrs:{label:"Crea tu cuenta",color:"primary",icon:"login",type:"submit"}}),o("q-btn",{staticClass:"full-width q-mt-xs",attrs:{label:"Ingresa",color:"secondary",icon:"how_to_reg"},on:{click:function(e){t.tab="login"}}}),o("div",{staticClass:"text-caption q-py-xs"},[o("a",{attrs:{target:"_blank",href:"https://api.whatsapp.com/send?phone=59169603027&text=olvide mi contraseña gamo"}},[t._v("Olvidate tu contraseña?")])])],1)])])],1)],1)],1)],1),o("div",{staticClass:"col-12 col-md-2"})])])},dt=[],mt={name:"login",data(){return{rule:[t=>t&&t.length>0||"Porfavor ingresar dato"],email:"",password:"",tab:"login",user:{},isPwd:!0,units:[],units2:[]}},created(){this.$store.getters["login/isLoggedIn"]&&this.$router.push("/")},methods:{filterFn(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.units=this.units2.filter((t=>t.nombre.toLowerCase().indexOf(e)>-1))}:()=>{this.units=this.units2})},registrar(){this.$q.loading.show(),this.user.unit_id=1,this.$store.dispatch("login/register",this.user).then((()=>{this.$q.loading.hide(),this.$router.push("/asiganacion")})).catch((t=>{this.$q.loading.hide();let e="";Object.entries(t.response.data.errors).forEach((([t,o])=>{e+=` ${t}: ${o},`})),this.$q.notify({message:e,color:"red",icon:"error"})}))},login(){this.$q.loading.show(),this.$store.dispatch("login/login",{email:this.email,password:this.password}).then((()=>{this.$q.loading.hide(),this.$router.push("/")})).catch((t=>{this.$q.loading.hide(),console.log(t.response.data.res),this.$q.notify({message:t.response.data.res,color:"red",icon:"error"})}))}}},ft=mt,bt=o("429b"),ht=o("7460"),vt=o("eb85"),gt=o("adad"),qt=o("823b"),yt=Object(h["a"])(ft,pt,dt,!1,null,"2fb872dd",null),xt=yt.exports;et()(yt,"components",{QPage:L["a"],QCard:H["a"],QTabs:bt["a"],QTab:ht["a"],QSeparator:vt["a"],QTabPanels:gt["a"],QTabPanel:qt["a"],QForm:G["a"],QInput:F["a"],QIcon:Y["a"],QBtn:U["a"],QSelect:W["a"]});const kt=[{path:"/",component:()=>Promise.all([o.e(0),o.e(2)]).then(o.bind(null,"713b")),children:[{path:"",component:()=>o.e(4).then(o.bind(null,"8b24")),meta:{requiresAuth:!0}},{path:"mantenimiento",component:at,meta:{requiresAuth:!0}},{path:"denuncia",component:ut,meta:{requiresAuth:!0}},{path:"login",component:xt}]},{path:"*",component:()=>o.e(3).then(o.bind(null,"e51e"))}];var wt=kt;i["a"].use(A["a"]);var Ct=function(){const t=new A["a"]({scrollBehavior:()=>({x:0,y:0}),routes:wt,mode:"hash",base:""});return t.beforeEach(((t,e,o)=>{if(t.matched.some((t=>t.meta.requiresAuth))){if(T().getters["login/isLoggedIn"])return void o();o("/login")}else o()})),t},$t=async function(){const t="function"===typeof T?await T({Vue:i["a"]}):T,e="function"===typeof Ct?await Ct({Vue:i["a"],store:t}):Ct;t.$router=e;const o={router:e,store:t,render:t=>t(g),el:"#q-app"};return{app:o,store:t,router:e}},_t=o("2699"),Pt=o("a40a"),St=o("4e2b"),It=o("fbba"),Qt=(o("6cc5"),o("e11e")),Ot=o.n(Qt);delete Ot.a.Icon.Default.prototype._getIconUrl,Ot.a.Icon.Default.mergeOptions({iconRetinaUrl:o("584d"),iconUrl:o("6397"),shadowUrl:o("e2b9")}),i["a"].component("l-map",_t["a"]),i["a"].component("l-tile-layer",Pt["a"]),i["a"].component("l-marker",St["a"]),i["a"].component("l-icon",It["a"]),i["a"].prototype.$axios=I.a,i["a"].prototype.$axios.defaults.baseURL="https://electricab.gamo.cf/api/";const zt="";async function Et(){const{app:t,store:e,router:o}=await $t();let a=!1;const n=t=>{a=!0;const e=Object(t)===t?o.resolve(t).route.fullPath:t;window.location.href=e},s=window.location.href.replace(window.location.origin,""),l=[void 0];for(let c=0;!1===a&&c<l.length;c++)if("function"===typeof l[c])try{await l[c]({app:t,router:o,store:e,Vue:i["a"],ssrContext:null,redirect:n,urlPath:s,publicPath:zt})}catch(r){return r&&r.url?void(window.location.href=r.url):void console.error("[Quasar] boot error:",r)}!0!==a&&new i["a"](t)}Et()},"31cd":function(t,e,o){}});