(function(t){function e(e){for(var o,l,n=e[0],r=e[1],c=e[2],d=0,p=[];d<n.length;d++)l=n[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&p.push(i[l][0]),i[l]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,l=1;l<a.length;l++){var r=a[l];0!==i[r]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},i={1:0},s=[];function l(t){return n.p+"js/"+({}[t]||t)+"."+{2:"c3419383",3:"99a5a06f"}[t]+".js"}function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=i[t]=[e,o]}));e.push(a[2]=o);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.src=l(t);var c=new Error;s=function(e){r.onerror=r.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,a[1](c)}i[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(e)},n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var u=c;s.push([0,0]),a()})({0:function(t,e,a){t.exports=a("2f39")},1:function(t,e){},2:function(t,e){},"2f39":function(t,e,a){"use strict";a.r(e);var o={};a.r(o),a.d(o,"isLoggedIn",(function(){return y})),a.d(o,"authStatus",(function(){return _})),a.d(o,"user",(function(){return w}));var i={};a.r(i),a.d(i,"auth_request",(function(){return k})),a.d(i,"auth_success",(function(){return D})),a.d(i,"auth_error",(function(){return A})),a.d(i,"salir",(function(){return E}));var s={};a.r(s),a.d(s,"login",(function(){return R})),a.d(s,"register",(function(){return T})),a.d(s,"logout",(function(){return $}));a("7d6e"),a("e54f"),a("985d"),a("31cd");var l=a("2b0e"),n=a("df1a"),r=a("42d2"),c=a("b05d"),d=a("f508"),u=a("2a19"),p=a("436b");l["a"].use(c["a"],{config:{},lang:n["a"],iconSet:r["a"],plugins:{Loading:d["a"],Notify:u["a"],Dialog:p["a"]}});var h=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"q-app"}},[e("router-view")],1)},m=[],b={name:"App"},g=b,f=a("2877"),v=Object(f["a"])(g,h,m,!1,null,null,null),q=v.exports,C=a("2f62"),x=function(){return{status:"",token:localStorage.getItem("tokenelec")||"",user:{},pedido:[],boolusuario:!1,booledituser:!1,boolpuntos:!1,boolgeneral:!1,boolmtto:!1,booldistrito:!1,booldenuncia:!1,boolreporte:!1,boolcronograma:!1,booltecnico:!1,booljunta:!1,boolgestionar:!1,boolreclamo:!1,boolalmacen:!1,booldependencia:!1,boolreporte2:!1,boolveracta:!1,boolregacta:!1,booleditacta:!1,boolagenda:!1,boolreportemat:!1}};function y(t){return!!t.token}function _(t){return t.status}function w(t){return t.user}function k(t){t.status="loading"}function D(t,e){t.status="success",t.token=e.token,t.user=e.user,t.boolusuario=void 0!=e.user.permisos.find((t=>1===t.id)),t.booledituser=void 0!=e.user.permisos.find((t=>2===t.id)),t.boolpuntos=void 0!=e.user.permisos.find((t=>3===t.id)),t.boolgeneral=void 0!=e.user.permisos.find((t=>4===t.id)),t.boolmtto=void 0!=e.user.permisos.find((t=>5===t.id)),t.booldistrito=void 0!=e.user.permisos.find((t=>6===t.id)),t.booldenuncia=void 0!=e.user.permisos.find((t=>7===t.id)),t.boolreporte=void 0!=e.user.permisos.find((t=>8===t.id)),t.boolcronograma=void 0!=e.user.permisos.find((t=>9===t.id)),t.booltecnico=void 0!=e.user.permisos.find((t=>10===t.id)),t.booljunta=void 0!=e.user.permisos.find((t=>11===t.id)),t.boolgestionar=void 0!=e.user.permisos.find((t=>12===t.id)),t.boolreclamo=void 0!=e.user.permisos.find((t=>13===t.id)),t.boolalmacen=void 0!=e.user.permisos.find((t=>14===t.id)),t.booldependencia=void 0!=e.user.permisos.find((t=>15===t.id)),t.boolreporte2=void 0!=e.user.permisos.find((t=>16===t.id)),t.boolveracta=void 0!=e.user.permisos.find((t=>17===t.id)),t.boolregacta=void 0!=e.user.permisos.find((t=>18===t.id)),t.booleditacta=void 0!=e.user.permisos.find((t=>19===t.id)),t.boolagenda=void 0!=e.user.permisos.find((t=>20===t.id)),t.boolreportemat=void 0!=e.user.permisos.find((t=>21===t.id))}function A(t){t.status="error"}function E(t){t.status="",t.token="",t.boolusuario=!1,t.booledituser=!1,t.boolpuntos=!1,t.boolgeneral=!1,t.boolmtto=!1,t.booldistrito=!1,t.booldenuncia=!1,t.boolreporte=!1,t.boolcronograma=!1,t.booltecnico=!1,t.booljunta=!1,t.boolgestionar=!1,t.boolreclamo=!1,t.boolalmacen=!1,t.booldependencia=!1,t.boolreporte2=!1,t.boolveracta=!1,t.boolregacta=!1,t.booleditacta=!1,t.boolagenda=!1,t.boolreportemat=!1}var O=a("bc3a"),I=a.n(O);function R({commit:t},e){return new Promise(((a,o)=>{t("auth_request"),I.a.post("https://alumbradoback.gamo.gob.bo/api/login",e).then((e=>{const o=e.data.token,i=e.data.user;localStorage.setItem("tokenelec",o),I.a.defaults.headers.common["Authorization"]="Bearer "+o,t("auth_success",{token:o,user:i}),a(e)})).catch((e=>{t("auth_error"),localStorage.removeItem("tokenelec"),o(e)}))}))}function T({commit:t},e){return new Promise(((a,o)=>{t("auth_request"),I.a.post("https://alumbradoback.gamo.gob.bo/api/register",e).then((e=>{console.log(e.data);const o=e.data.token,i=e.data.user;localStorage.setItem("tokenelec",o),I.a.defaults.headers.common["Authorization"]="Bearer "+o,t("auth_success",{token:o,user:i}),a(e)})).catch((e=>{t("auth_error"),localStorage.removeItem("tokenelec"),o(e)}))}))}function $({commit:t}){return new Promise(((e,a)=>{I.a.post("https://alumbradoback.gamo.gob.bo/api/logout").then((a=>{t("salir"),localStorage.removeItem("tokenelec"),delete I.a.defaults.headers.common["Authorization"],e()})).catch((e=>{t("auth_error"),localStorage.removeItem("tokenelec"),a(e)}))}))}var S={namespaced:!0,state:x,getters:o,mutations:i,actions:s};l["a"].use(C["a"]);var N=function(){const t=new C["a"].Store({modules:{login:S},strict:!1});return t},M=a("8c4f"),j=function(){var t=this,e=t._self._c;return e("q-page",[e("div",{staticClass:"col-12"},[e("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center}},[e("l-tile-layer",{attrs:{url:t.styleMap?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}","layer-type":"base",name:"OpenStreetMap",attribution:t.attribution,options:{maxNativeZoom:18,maxZoom:20}}}),e("l-marker",{attrs:{"lat-lng":[t.lat,t.lng],draggable:"",title:"Usted esta Aqui"}},[e("l-icon",{attrs:{"icon-url":"pinyw.png"}})],1),t._l(t.puntos,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){t.center=[a.lat,a.lng],t.punto=a,t.frmmodalpunto(a)}}},[e("l-icon",{attrs:{"icon-url":"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}})],1)})),e("l-control",{attrs:{position:"topright"}},[e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"my_location",dense:"",round:""},on:{click:t.geolocate}}),e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"map",dense:"",round:""},on:{click:function(e){t.styleMap=!t.styleMap}}})],1)],2)],1),e("q-table",{attrs:{data:t.puntos,columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"body-cell-ubicacion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"ACTIVO"==a.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(e){return t.clickclientes(a.row)}}})],1)]}},{key:"top-right",fn:function(){return[e("q-btn",{attrs:{icon:"refresh",color:"info"},on:{click:t.mispuntos}}),e("q-btn",{attrs:{icon:"adjust",color:"negative"},on:{click:t.centro}}),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])}),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.poste.nroposte)+" lat:"+t._s(t.poste.lat)+" lng:"+t._s(t.poste.lng))])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-form",{on:{submit:t.regmatto}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-3"},[e("b",[t._v("Reclamo: ")]),t._v(t._s(t.punto.reclamo)+"\n              ")]),e("div",{staticClass:"col-xs-6"},[e("b",[t._v("Tecnico: ")]),t._v(t._s(t.punto.tecnico)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Fecha Hora:")]),t._v(" "+t._s(t.punto.fecha)+" "+t._s(t.punto.hora)+"\n              ")])]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Luminaria: ")]),t._v(" "+t._s(t.poste.luminaria)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Material: ")]),t._v(t._s(t.poste.material)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Altura: ")]),t._v(t._s(t.poste.altura)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Potencia: ")]),t._v(t._s(t.poste.potencia)+"\n              ")]),e("div",{staticClass:"col-md-12"},[e("b",[t._v("Observacion: ")]),t._v(t._s(t.poste.observacion)+"\n              ")])]),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{label:"Generar Ruta",color:"primary",icon:"map",type:"a",target:"_blank",href:"https://www.google.com.bo/maps/place/"+t.poste.lat+","+t.poste.lng+"/@"+t.poste.lat+","+t.poste.lng+",17z/data=!3m1!4b1!4m6!3m5!1s0x0:0xeda9371aeb8c1574!7e2!8m2!3d-17.981432!4d-67.1061122?hl=es"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{required:"",dense:"",outlined:"",type:"textarea",label:"Actividad"},model:{value:t.punto.actividad,callback:function(e){t.$set(t.punto,"actividad",e)},expression:"punto.actividad"}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",options:t.listMaterial,label:"Materiales",outlined:""},on:{input:function(e){return t.buscar()}},model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",options:t.codigos,label:"Codigo",outlined:""},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Disponible:")]),t._v(t._s(t.codigo.saldo)+"\n                ")]),e("div",{staticClass:"col-md-2 col-xs-4"},[e("q-input",{attrs:{type:"number",label:"Cantidad",required:"",outlined:"",dense:""},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),e("div",{staticClass:"col-md-1 col-xs-2 q-pa-xs"},[e("q-btn",{attrs:{color:"green",icon:"add_circle",dense:""},on:{click:t.agregar}})],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"DETALLE",data:t.detalle,columns:t.coldetalle,"row-key":"name",dense:""},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"red",icon:"delete",size:"xs",round:""},on:{click:function(e){return t.delDetalle(a.rowIndex)}}})],1)]}}])})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha Man"},model:{value:t.punto.fechaman,callback:function(e){t.$set(t.punto,"fechaman",e)},expression:"punto.fechaman"}})],1),e("div",{staticClass:"col-md-6 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"time",label:"Hora Man"},model:{value:t.punto.horaman,callback:function(e){t.$set(t.punto,"horaman",e)},expression:"punto.horaman"}})],1),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Realizar mantenimiento",color:"positive",icon:"construction"}})],1)])])],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},L=[],P=(a("14d9"),a("bd4c")),Q=a("3748");a("4362");const z=a("d055");var F={data(){return{modalpunto:!1,styleMap:!0,detalle:[],material:{},codigo:{},codigos:[],fechaplan:P["a"].formatDate(new Date,"YYYY-MM-DD"),filter:"",url:"https://electrica.gamo.cf/#/consulta",poste:{},persona:{},qrImage2:"",cantidad:1,qrImage:"",colums:[{name:"nroposte",label:"nroposte",field:t=>t.poste.nroposte},{name:"potencia",label:"potencia",field:t=>t.poste.potencia},{name:"luminaria",label:"luminaria",field:t=>t.poste.luminaria},{name:"ubicacion",label:"ubicacion",field:t=>t.poste.ubicacion}],coldetalle:[{label:"OP",field:"opcion",name:"opcion"},{label:"MATERIAL",field:"material",name:"material"},{label:"CODIGO",field:t=>t.inventario.codigo,name:"codigo"},{label:"CANT",field:"uso",name:"uso"}],puntos:[],puntostabla:[],listMaterial:[],punto:{},attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:13,center:{lat:-17.97031,lng:-67.11178},markerLatLng:[-17.97031,-67.11178],lat:0,lng:0,opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}},opts2:{errorCorrectionLevel:"M",type:"png",quality:.95,width:50,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.mispuntos(),this.cargarMaterial()},methods:{async geolocate(){this.ubicacion=[0,0],console.log(navigator.geolocation),navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.zoom=18,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion}))},regmatto(){this.$axios.post("reclamofin",{punto:this.punto,detalle:this.detalle}).then((t=>{console.log(t.data),this.modalpunto=!1,this.mispuntos(),this.cargarMaterial()}))},delDetalle(t){this.detalle.splice(t,1),this.llenarActividad},agregar(){if(void 0==this.cantidad||""==this.cantidad||this.cantidad<=0)return this.cantidad=1,!1;this.cantidad>this.codigo.saldo&&(this.cantidad=this.codigo.saldo),this.detalle.find((t=>t.id===this.codigo.id))||(this.codigo.uso=this.cantidad,this.detalle.push(this.codigo),this.llenarActividad())},llenarActividad(){let t="Cambio o instalacion materiales: ";0==this.detalle.length&&(t=""),this.detalle.forEach((e=>{t+=" "+e.material+" Cod: "+e.inventario.codigo+", "})),this.punto.actividad=t},buscar(){this.codigos=this.material.lista,this.codigo=this.material.lista[0],this.cantidad=1},cargarMaterial(){this.$axios.post("disponible").then((t=>{t.data.forEach((t=>{t.label=t.inventario.codigo;let e=this.listMaterial.find((e=>e.id===t.material_id));e?e.lista.push(t):this.listMaterial.push({id:t.material_id,label:t.material,lista:[t]})})),console.log(this.listMaterial),this.listMaterial.length>0?(this.material=this.listMaterial[0],this.codigo=this.material.lista[0],this.codigos=this.material.lista,this.cantidad=1):(this.material={label:""},this.codigo={label:""},this.cantidad=0)}))},async printReclamo(t){this.qrImage2=await z.toDataURL(""+t.persona.ci,this.opts2),this.qrImage=await z.toDataURL(this.url+"/"+t.persona.ci,this.opts);let e="<style>      .titulo{      font-size: 10px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      font-weight: bold;      text-align: center;      }            .titulo3{      font-size: 9px;      text-align: center;      width:70%;      }            .contenido{      font-size: 9px;      text-align: left;      }      .conte2{      font-size: 9px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 10px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='background-image:url(logo3.png);background-repeat: no-repeat; background-size: 30px 60px;'>      <div class='titulo2' >        GOBIERNO AUTONOMO MUNICIPAL DE ORURO<br>        UNIDAD DE ALUMBRADO PUBLICO <br>Y SERVICIOS ELECTRICOS<br>        Reclamo Nro: "+t.id+"<br>        Oruro      </div>      <hr>      <table><tr><td>      <table>        <tr><td class='titder'>FECHA REGISTRO:</td><td class='contenido'>"+t.fecha+"</td></tr>        <tr><td class='titder'>CI:</td><td class='contenido'>"+t.persona.ci+"</td></tr>        <tr><td class='titder'>NOMBRE:</td><td class='contenido'>"+t.persona.nombre+"</td></tr>        <tr><td class='titder'>TELEFONO:</td><td class='contenido'>"+t.persona.telefono+"</td></tr>      </table></<td>       <td>        <div style='display: flex;justify-content: center;'>        <img src="+this.qrImage2+" >        </div>      </td></tr></table>      <hr>      <div class='titulo'>DETALLE RECLAMO</div>      <div  class='contenido'>"+t.reclamo+"</div>      <div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>      </div>            ";document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))},regActividad(){this.punto.actividad="",""!=this.punto.l70&&void 0!=this.punto.l70&&null!=this.punto.l70&&(this.punto.actividad+="LAMPARA 70W COD "+this.punto.l70+","),""!=this.punto.l150&&void 0!=this.punto.l150&&null!=this.punto.l150&&(this.punto.actividad+="LAMPARA 150W COD "+this.punto.l150+","),""!=this.punto.l250&&void 0!=this.punto.l250&&null!=this.punto.l250&&(this.punto.actividad+="LAMPARA 250W COD "+this.punto.l250+","),""!=this.punto.r70&&void 0!=this.punto.r70&&null!=this.punto.r70&&(this.punto.actividad+=" REACTOR 70W COD "+this.punto.r70+","),""!=this.punto.r150&&void 0!=this.punto.r150&&null!=this.punto.r150&&(this.punto.actividad+=" REACTOR 150W COD "+this.punto.r150+","),""!=this.punto.r250&&void 0!=this.punto.r250&&null!=this.punto.r250&&(this.punto.actividad+=" REACTOR 250W COD "+this.punto.r250+","),""!=this.punto.foto&&void 0!=this.punto.foto&&null!=this.punto.foto&&(this.punto.actividad+=" FOTOCELULA FOTO  "+this.punto.foto+","),""!=this.punto.base&&void 0!=this.punto.base&&null!=this.punto.base&&(this.punto.actividad+=" FOTOCELULA BASE  "+this.punto.base+","),""!=this.punto.ignitor&&void 0!=this.punto.ignitor&&null!=this.punto.ignitor&&(this.punto.actividad+=" IGNITOR COD "+this.punto.ignitor+","),""!=this.punto.cable&&void 0!=this.punto.cable&&null!=this.punto.cable&&(this.punto.actividad+=" CABLE M/L "+this.punto.cable+","),""!=this.punto.contactor&&void 0!=this.punto.contactor&&null!=this.punto.contactor&&"NO"!=this.punto.contactor&&(this.punto.actividad+=" SI CONTACTOR,"),""!=this.punto.termico&&void 0!=this.punto.termico&&null!=this.punto.termico&&"NO"!=this.punto.termico&&(this.punto.actividad+=" SI TERMICO,"),""!=this.punto.soquet&&void 0!=this.punto.soquet&&null!=this.punto.soquet&&(this.punto.actividad+=" soquet COD "+this.punto.soquet+",")},updatedenuncia(){this.$q.loading.show(),this.punto.supervisor=this.$store.state.login.user.name,this.punto.estado="ATENDIDO",void 0!=this.fechaplan&&""!=this.fechaplan&&(this.punto.fechaplan=this.fechaplan),this.modalpunto=!1,this.$axios.put("reclamo/"+this.punto.id,this.punto).then((t=>{console.log(t.data),this.mispuntos(),this.fechaplan=P["a"].formatDate(new Date,"YYYY-MM-DD")}))},frmmodalpunto(t){console.log(t),this.modalpunto=!0,this.punto=t,this.detalle=[],this.persona=t.persona,this.poste=t.poste},clickclientes(t){this.center={lat:t.lat,lng:t.lng},this.zoom=18},centro(){this.center=[-17.97031,-67.11178],this.zoom=13},mispuntos(){this.$q.loading.show(),this.$axios.get("listmtto").then((t=>{console.log(t.data),this.puntos=[],t.data.forEach((t=>{null==t.poste.nroposte&&(t.poste.nroposte=""),t.lat=t.poste.lat,t.lng=t.poste.lng,t.fechaman=P["a"].formatDate(new Date,"YYYY-MM-DD"),t.horaman=P["a"].formatDate(new Date,"HH:mm"),this.puntos.push(t)})),this.$q.loading.hide(),console.log(this.puntos)}))}}},U=F,Y=a("9989"),B=a("9c40"),V=a("eaac"),H=a("db86"),G=a("27f9"),Z=a("0016"),J=a("24e8"),W=a("f09f"),X=a("a370"),K=a("0378"),tt=a("ddd8"),et=a("eebe"),at=a.n(et),ot=Object(f["a"])(U,j,L,!1,null,null,null),it=ot.exports;at()(ot,"components",{QPage:Y["a"],QBtn:B["a"],QTable:V["a"],QTd:H["a"],QInput:G["a"],QIcon:Z["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QSelect:tt["a"]});var st=function(){var t=this,e=t._self._c;return e("q-page",[e("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center}},[e("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.puntostabla,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){return t.frmmodalpunto(a)}}},[e("l-icon",[e("q-badge",{staticClass:"q-pa-xs",attrs:{color:"ATENDIDO"==a.estado?"info":"negative",label:""}}),e("div",{staticStyle:{color:"white","font-size":"15px","font-family":"'Arial Black'",opacity:"0.8","text-shadow":"2px 2px 0 #000"}},[t._v(t._s(a.nroposte))])],1)],1)}))],2),e("q-table",{attrs:{data:t.puntostabla,"hide-header":"",columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"body-cell-nombre",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[e("div",{staticClass:"text-subtitle2",staticStyle:{"font-size":"0.8em","white-space":"initial"}},[t._v(t._s(a.row.nombre)+"-"+t._s(a.row.telefono))])])]}},{key:"body-cell-nroposte",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n          "+t._s(a.row.nroposte)+"\n        ")])]}},{key:"body-cell-ubicacion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"ACTIVO"==a.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(e){return t.clickclientes(a.row)}}})],1)]}},{key:"top-right",fn:function(){return[e("q-btn",{attrs:{icon:"refresh",color:"info"},on:{click:t.mispuntos}}),e("q-btn",{attrs:{icon:"adjust",color:"negative"},on:{click:t.centro}}),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])}),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.punto.nroposte))])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-form",{on:{submit:t.updatedenuncia}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"nombre"},model:{value:t.punto.nombre,callback:function(e){t.$set(t.punto,"nombre",e)},expression:"punto.nombre"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"ci"},model:{value:t.punto.ci,callback:function(e){t.$set(t.punto,"ci",e)},expression:"punto.ci"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"telefono"},model:{value:t.punto.telefono,callback:function(e){t.$set(t.punto,"telefono",e)},expression:"punto.telefono"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"zona"},model:{value:t.punto.zona,callback:function(e){t.$set(t.punto,"zona",e)},expression:"punto.zona"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"direccion"},model:{value:t.punto.direccion,callback:function(e){t.$set(t.punto,"direccion",e)},expression:"punto.direccion"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"reclamo"},model:{value:t.punto.reclamo,callback:function(e){t.$set(t.punto,"reclamo",e)},expression:"punto.reclamo"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lat"},model:{value:t.punto.lat,callback:function(e){t.$set(t.punto,"lat",e)},expression:"punto.lat"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lng"},model:{value:t.punto.lng,callback:function(e){t.$set(t.punto,"lng",e)},expression:"punto.lng"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"fecha"},model:{value:t.punto.fecha,callback:function(e){t.$set(t.punto,"fecha",e)},expression:"punto.fecha"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"hora"},model:{value:t.punto.hora,callback:function(e){t.$set(t.punto,"hora",e)},expression:"punto.hora"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"estado"},model:{value:t.punto.estado,callback:function(e){t.$set(t.punto,"estado",e)},expression:"punto.estado"}})],1),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{label:"generar ruta",color:"primary",icon:"map",type:"a",target:"_blank",href:"https://www.google.com.bo/maps/place/"+t.punto.lat+","+t.punto.lng+"/@"+t.punto.lat+","+t.punto.lng+",17z/data=!3m1!4b1!4m6!3m5!1s0x0:0xeda9371aeb8c1574!7e2!8m2!3d-17.981432!4d-67.1061122?hl=es"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{required:"",dense:"",outlined:"",label:"tecnico"},model:{value:t.punto.tecnico,callback:function(e){t.$set(t.punto,"tecnico",e)},expression:"punto.tecnico"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{required:"",dense:"",outlined:"",type:"textarea",label:"actividad"},model:{value:t.punto.actividad,callback:function(e){t.$set(t.punto,"actividad",e)},expression:"punto.actividad"}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-12"},[e("div",{staticClass:"text-h6"},[t._v("LAMPARA W")]),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"70W"},model:{value:t.punto.l70,callback:function(e){t.$set(t.punto,"l70",e)},expression:"punto.l70"}}),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"150W"},model:{value:t.punto.l150,callback:function(e){t.$set(t.punto,"l150",e)},expression:"punto.l150"}}),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"250W"},model:{value:t.punto.l250,callback:function(e){t.$set(t.punto,"l250",e)},expression:"punto.l250"}}),e("q-btn",{attrs:{dense:"",color:"yellow",icon:"check"},on:{click:t.regActividad}})],1),e("div",{staticClass:"col-md-3 col-xs-12"},[e("div",{staticClass:"text-h6"},[t._v("REACTOR W")]),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"70W"},model:{value:t.punto.r70,callback:function(e){t.$set(t.punto,"r70",e)},expression:"punto.r70"}}),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"150W"},model:{value:t.punto.r150,callback:function(e){t.$set(t.punto,"r150",e)},expression:"punto.r150"}}),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"250W"},model:{value:t.punto.r250,callback:function(e){t.$set(t.punto,"r250",e)},expression:"punto.r250"}})],1),e("div",{staticClass:"col-md-3 col-xs-12"},[e("div",{staticClass:"text-h6"},[t._v("FOTOCELULA")]),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"Foto"},model:{value:t.punto.foto,callback:function(e){t.$set(t.punto,"foto",e)},expression:"punto.foto"}}),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"Base"},model:{value:t.punto.base,callback:function(e){t.$set(t.punto,"base",e)},expression:"punto.base"}})],1),e("div",{staticClass:"col-md-3 col-xs-12"},[e("div",{staticClass:"text-h6"},[t._v("VARIOS")]),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"IGNITOR"},model:{value:t.punto.ignitor,callback:function(e){t.$set(t.punto,"ignitor",e)},expression:"punto.ignitor"}}),e("q-input",{attrs:{outlined:"",dense:"",type:"number",step:"0.01",label:"CABLE M/L"},model:{value:t.punto.cable,callback:function(e){t.$set(t.punto,"cable",e)},expression:"punto.cable"}}),e("div",{staticClass:"row"},[e("q-toggle",{attrs:{"false-value":"NO",label:`Contactor ${t.punto.contactor}`,"true-value":"SI",color:"green"},model:{value:t.punto.contactor,callback:function(e){t.$set(t.punto,"contactor",e)},expression:"punto.contactor"}}),e("q-toggle",{attrs:{"false-value":"NO",label:`Termico ${t.punto.termico}`,"true-value":"SI",color:"green"},model:{value:t.punto.termico,callback:function(e){t.$set(t.punto,"termico",e)},expression:"punto.termico"}})],1),e("q-input",{attrs:{outlined:"",dense:"",type:"text",label:"SOQUET"},model:{value:t.punto.soquet,callback:function(e){t.$set(t.punto,"soquet",e)},expression:"punto.soquet"}})],1)]),e("div",{staticClass:"col-md-12 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"fechaman"},model:{value:t.punto.fechaman,callback:function(e){t.$set(t.punto,"fechaman",e)},expression:"punto.fechaman"}})],1),e("div",{staticClass:"col-md-12 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"time",label:"fechaman"},model:{value:t.punto.horaman,callback:function(e){t.$set(t.punto,"horaman",e)},expression:"punto.horaman"}})],1),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Realizar mantenimiento",color:"positive",icon:"construction"}})],1)])])],1),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalatendido,callback:function(e){t.modalatendido=e},expression:"modalatendido"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.punto.nroposte))])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-form",{on:{submit:t.updatedenuncia}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"nombre"},model:{value:t.punto.nombre,callback:function(e){t.$set(t.punto,"nombre",e)},expression:"punto.nombre"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"ci"},model:{value:t.punto.ci,callback:function(e){t.$set(t.punto,"ci",e)},expression:"punto.ci"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"telefono"},model:{value:t.punto.telefono,callback:function(e){t.$set(t.punto,"telefono",e)},expression:"punto.telefono"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"zona"},model:{value:t.punto.zona,callback:function(e){t.$set(t.punto,"zona",e)},expression:"punto.zona"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"direccion"},model:{value:t.punto.direccion,callback:function(e){t.$set(t.punto,"direccion",e)},expression:"punto.direccion"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"textarea",label:"reclamo"},model:{value:t.punto.reclamo,callback:function(e){t.$set(t.punto,"reclamo",e)},expression:"punto.reclamo"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lat"},model:{value:t.punto.lat,callback:function(e){t.$set(t.punto,"lat",e)},expression:"punto.lat"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"lng"},model:{value:t.punto.lng,callback:function(e){t.$set(t.punto,"lng",e)},expression:"punto.lng"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"fecha"},model:{value:t.punto.fecha,callback:function(e){t.$set(t.punto,"fecha",e)},expression:"punto.fecha"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"hora"},model:{value:t.punto.hora,callback:function(e){t.$set(t.punto,"hora",e)},expression:"punto.hora"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"estado"},model:{value:t.punto.estado,callback:function(e){t.$set(t.punto,"estado",e)},expression:"punto.estado"}})],1),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{label:"generar ruta",color:"primary",icon:"map",type:"a",target:"_blank",href:"https://www.google.com.bo/maps/place/"+t.punto.lat+","+t.punto.lng+"/@"+t.punto.lat+","+t.punto.lng+",17z/data=!3m1!4b1!4m6!3m5!1s0x0:0xeda9371aeb8c1574!7e2!8m2!3d-17.981432!4d-67.1061122?hl=es"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{required:"",dense:"",outlined:"",label:"tecnico"},model:{value:t.punto.tecnico,callback:function(e){t.$set(t.punto,"tecnico",e)},expression:"punto.tecnico"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{required:"",dense:"",outlined:"",type:"textarea",label:"actividad"},model:{value:t.punto.actividad,callback:function(e){t.$set(t.punto,"actividad",e)},expression:"punto.actividad"}})],1),e("div",{staticClass:"col-12"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"text-h6"},[t._v("LAMPARA W")]),e("q-input",{attrs:{type:"text",label:"70"},model:{value:t.punto.l70,callback:function(e){t.$set(t.punto,"l70",e)},expression:"punto.l70"}}),e("q-input",{attrs:{type:"text",label:"150"},model:{value:t.punto.l150,callback:function(e){t.$set(t.punto,"l150",e)},expression:"punto.l150"}}),e("q-input",{attrs:{type:"text",label:"250"},model:{value:t.punto.l250,callback:function(e){t.$set(t.punto,"l250",e)},expression:"punto.l250"}})],1)]),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"fechaman"},model:{value:t.punto.fechaman,callback:function(e){t.$set(t.punto,"fechaman",e)},expression:"punto.fechaman"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"time",label:"fechaman"},model:{value:t.punto.horaman,callback:function(e){t.$set(t.punto,"horaman",e)},expression:"punto.horaman"}})],1)])])],1),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1)],1)},lt=[],nt={data(){return{modalpunto:!1,modalatendido:!1,estados:["ACTIVO","MANTENIMIENTO"],estado:"ACTIVO",filter:"",colums:[{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"nombre",label:"nombre",field:"nombre"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],puntos:[],puntostabla:[],punto:{},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:16,center:[-17.97031,-67.11178],markerLatLng:[-17.97031,-67.11178]}},created(){this.$store.state.login.booldenuncia||this.$router.replace({path:"/"}),this.mispuntos()},methods:{regActividad(){this.punto.actividad="",""!=this.punto.l70&&void 0!=this.punto.l70&&null!=this.punto.l70&&(this.punto.actividad+="LAMPARA 70W COD "+this.punto.l70+","),""!=this.punto.l150&&void 0!=this.punto.l150&&null!=this.punto.l150&&(this.punto.actividad+="LAMPARA 150W COD "+this.punto.l150+","),""!=this.punto.l250&&void 0!=this.punto.l250&&null!=this.punto.l250&&(this.punto.actividad+="LAMPARA 250W COD "+this.punto.l250+","),""!=this.punto.r70&&void 0!=this.punto.r70&&null!=this.punto.r70&&(this.punto.actividad+=" REACTOR 70W COD "+this.punto.r70+","),""!=this.punto.r150&&void 0!=this.punto.r150&&null!=this.punto.r150&&(this.punto.actividad+=" REACTOR 150W COD "+this.punto.r150+","),""!=this.punto.r250&&void 0!=this.punto.r250&&null!=this.punto.r250&&(this.punto.actividad+=" REACTOR 250W COD "+this.punto.r250+","),""!=this.punto.foto&&void 0!=this.punto.foto&&null!=this.punto.foto&&(this.punto.actividad+=" FOTOCELULA FOTO  "+this.punto.foto+","),""!=this.punto.base&&void 0!=this.punto.base&&null!=this.punto.base&&(this.punto.actividad+=" FOTOCELULA BASE  "+this.punto.base+","),""!=this.punto.ignitor&&void 0!=this.punto.ignitor&&null!=this.punto.ignitor&&(this.punto.actividad+=" IGNITOR COD "+this.punto.ignitor+","),""!=this.punto.cable&&void 0!=this.punto.cable&&null!=this.punto.cable&&(this.punto.actividad+=" CABLE M/L "+this.punto.cable+","),""!=this.punto.contactor&&void 0!=this.punto.contactor&&null!=this.punto.contactor&&"NO"!=this.punto.contactor&&(this.punto.actividad+=" SI CONTACTOR,"),""!=this.punto.termico&&void 0!=this.punto.termico&&null!=this.punto.termico&&"NO"!=this.punto.termico&&(this.punto.actividad+=" SI TERMICO,"),""!=this.punto.soquet&&void 0!=this.punto.soquet&&null!=this.punto.soquet&&(this.punto.actividad+=" soquet COD "+this.punto.soquet+",")},updatedenuncia(){this.$q.loading.show(),this.punto.supervisor=this.$store.state.login.user.name,this.punto.estado="ATENDIDO",console.log(this.punto.id),this.modalpunto=!1,this.$axios.put("denuncia/1",this.punto).then((t=>{console.log(t.data),this.mispuntos()}))},frmmodalpunto(t){"EN ESPERA"==t.estado?this.modalpunto=!0:this.modalatendido=!0,this.punto=t},clickclientes(t){this.center=[t.lat,t.lng],this.zoom=18},centro(){this.center=[-17.97031,-67.11178],this.zoom=13},mispuntos(){this.$q.loading.show(),this.$axios.get("denuncia").then((t=>{console.log(t.data),this.puntos=[],this.puntostabla=[],t.data.forEach((t=>{t.fechaman=P["a"].formatDate(new Date,"YYYY-MM-DD"),t.horaman=P["a"].formatDate(new Date,"HH:mm"),"EN ESPERA"==t.estado&&this.puntostabla.push(t),this.puntos.push(t)})),this.$q.loading.hide(),console.log(this.puntos)}))}}},rt=nt,ct=a("58a8"),dt=a("9564"),ut=a("4b7e"),pt=a("7f67"),ht=Object(f["a"])(rt,st,lt,!1,null,null,null),mt=ht.exports;at()(ht,"components",{QPage:Y["a"],QBadge:ct["a"],QTable:V["a"],QTd:H["a"],QBtn:B["a"],QInput:G["a"],QIcon:Z["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QToggle:dt["a"],QSelect:tt["a"],QCardActions:ut["a"]}),at()(ht,"directives",{ClosePopup:pt["a"]});var bt=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-md"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-2"}),e("div",{staticClass:"col-12 col-md-8"},[e("q-card",[e("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("q-tab",{attrs:{name:"login",label:"Ingresar"}})],1),e("q-separator"),e("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("q-tab-panel",{attrs:{name:"login"}},[e("div",{staticClass:"text-h6"},[t._v("Ingresar al sistema")]),t._v("\n            Por favor colocar email y contraseña\n            "),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{type:"email",outlined:"",label:"Email*",hint:"Porfavor ingresar email",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e("div",{staticClass:"col-12 q-pt-md"},[e("q-input",{attrs:{outlined:"",label:"password*",type:t.isPwd?"password":"text",hint:"Porfavor ingresar password",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("div",{staticClass:"col-12 q-py-md"},[e("q-btn",{staticClass:"full-width",attrs:{label:"INGRESAR",color:"primary",icon:"login",type:"submit"}}),e("div",{staticClass:"text-caption q-py-xs"})],1)])])],1),e("q-tab-panel",{attrs:{name:"registro"}},[e("div",{staticClass:"text-h6"},[t._v("Registrate ")]),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.registrar.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",type:"email",label:"Email*",hint:"Porfavor ingresar email",rules:t.rule,required:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),e("div",{staticClass:"col-12 q-pt-md"},[e("q-input",{attrs:{outlined:"",label:"Carnet o NIT*",hint:"Porfavor ingresar carnet o nit",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"credit_card"}})]},proxy:!0}]),model:{value:t.user.carnet,callback:function(e){t.$set(t.user,"carnet",e)},expression:"user.carnet"}})],1),e("div",{staticClass:"col-12 q-pt-md"},[e("q-input",{attrs:{outlined:"",label:"Nombre completo*",hint:"Porfavor ingresar nombre completo",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"people"}})]},proxy:!0}]),model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),e("div",{staticClass:"col-12 q-pt-md"},[e("q-input",{attrs:{outlined:"",label:"password*",type:t.isPwd?"password":"text",hint:"Porfavor ingresar carnet de identidad",rules:t.rule},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),e("div",{staticClass:"col-12 q-py-md"},[e("q-btn",{staticClass:"full-width",attrs:{label:"Crea tu cuenta",color:"primary",icon:"login",type:"submit"}}),e("q-btn",{staticClass:"full-width q-mt-xs",attrs:{label:"Ingresa",color:"secondary",icon:"how_to_reg"},on:{click:function(e){t.tab="login"}}}),e("div",{staticClass:"text-caption q-py-xs"},[e("a",{attrs:{target:"_blank",href:"https://api.whatsapp.com/send?phone=59169603027&text=olvide mi contraseña gamo"}},[t._v("Olvidate tu contraseña?")])])],1)])])],1)],1)],1)],1),e("div",{staticClass:"col-12 col-md-2"})])])},gt=[],ft={name:"login",data(){return{rule:[t=>t&&t.length>0||"Porfavor ingresar dato"],email:"",password:"",tab:"login",user:{},isPwd:!0,units:[],units2:[]}},created(){this.$store.getters["login/isLoggedIn"]&&this.$router.push("/home")},methods:{filterFn(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.units=this.units2.filter((t=>t.nombre.toLowerCase().indexOf(e)>-1))}:()=>{this.units=this.units2})},registrar(){this.$q.loading.show(),this.user.unit_id=1,this.$store.dispatch("login/register",this.user).then((()=>{this.$q.loading.hide(),this.$router.push("/asiganacion")})).catch((t=>{this.$q.loading.hide();let e="";Object.entries(t.response.data.errors).forEach((([t,a])=>{e+=` ${t}: ${a},`})),this.$q.notify({message:e,color:"red",icon:"error"})}))},login(){this.$q.loading.show(),this.$store.dispatch("login/login",{email:this.email,password:this.password}).then((t=>{this.$q.loading.hide(),this.$router.push("/home")})).catch((t=>{this.$q.loading.hide(),console.log(t.response.data.message),this.$q.notify({message:t.response.data.message,color:"red",icon:"error"})}))}}},vt=ft,qt=a("429b"),Ct=a("7460"),xt=a("eb85"),yt=a("adad"),_t=a("823b"),wt=Object(f["a"])(vt,bt,gt,!1,null,"238363c2",null),kt=wt.exports;at()(wt,"components",{QPage:Y["a"],QCard:W["a"],QTabs:qt["a"],QTab:Ct["a"],QSeparator:xt["a"],QTabPanels:yt["a"],QTabPanel:_t["a"],QForm:K["a"],QInput:G["a"],QIcon:Z["a"],QBtn:B["a"],QSelect:tt["a"]});var Dt=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-none"},[e("GmapMap",{staticStyle:{width:"100%",height:"550px"},attrs:{center:{lat:-17.97031,lng:-67.11178},zoom:13,"map-type-id":"terrain"}},[e("GmapMarker",{staticClass:"bg-red text-bold",attrs:{position:{lat:-17.97031,lng:-67.11178},label:"a",options:{style:"color-red"},clickable:!0,draggable:!0,icon1:{url:"https://toppng.com/uploads/preview/map-marker-icon-600x-map-marker-11562939743ayfahlvygl.png",scaledSize:{width:20,height:20},labelOrigin:{x:20,y:20}}}})],1),t._v("\r\n  "+t._s(t.center)+"\r\n")],1)},At=[],Et=(a("6cee"),{name:"Mapa",components:{},data(){return{center:{lat:10,lng:10},options:{styles:["color:green"]},markers:[],marker:{lat:-17.97031,lng:-67.11178}}},created(){this.mispuntos()},methods:{getOptions(){return{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}},mispuntos(){this.$q.loading.show();var t="https://maps.google.com/mapfiles/kml/shapes/",e={parking:{icon:t+"parking_lot_maps.png"},library:{icon:t+"library_maps.png"},info:{icon:t+"info-i_maps.png"}};this.$axios.get("punto").then((t=>{this.markers=[],t.data.forEach((t=>{t.position={lat:t.lat,lng:t.lng},t.icon=e["info"].icon,this.markers.push(t)})),this.$q.loading.hide()}))}}}),Ot=Et,It=Object(f["a"])(Ot,Dt,At,!1,null,"0b6602e3",null),Rt=It.exports;at()(It,"components",{QPage:Y["a"]});var Tt=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-xs"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-card",[e("q-card-section",{staticClass:"bg-green text-white text-center text-subtitle2"},[t._v("Reporte de denuncias")]),e("q-card-section",[e("q-form",{on:{submit:function(e){return e.preventDefault(),t.reporte2.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-4"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha inicio",type:"date"},model:{value:t.fecha1,callback:function(e){t.fecha1=e},expression:"fecha1"}})],1),e("div",{staticClass:"col-12 col-sm-4"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha fin",type:"date"},model:{value:t.fecha2,callback:function(e){t.fecha2=e},expression:"fecha2"}})],1),e("div",{staticClass:"col-12 col-sm-4 flex flex-center"},[e("q-btn",{staticClass:"full-width full-height",attrs:{type:"submit",label:"Generar reporte",color:"positive",icon:"print"}})],1)])])],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"Denuncias",data:t.misdenuncias,color:"primary","row-key":"name",columns:t.columns},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-btn",{attrs:{color:"primary","icon-right":"archive",label:"Exportar a csv","no-caps":""},on:{click:t.exportTable}})]},proxy:!0}])})],1)]),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})])},$t=[],St=a("8baf"),Nt=a("a357");function Mt(t,e,a){let o=void 0!==e?e(t,a):t;return o=void 0===o||null===o?"":String(o),o=o.split('"').join('""'),`"${o}"`}var jt={name:"Reportedenuncia",data(){return{fecha1:P["a"].formatDate(new Date,"YYYY-MM-DD"),fecha2:P["a"].formatDate(new Date,"YYYY-MM-DD"),misdenuncias:[],cadena:"",columns:[{name:"actividad",field:"actividad",label:"ACTIVIDAD"},{name:"ci",field:"ci",label:"CI"},{name:"direccion",field:"direccion",label:"DIRECCION"},{name:"estado",field:"estado",label:"ESTADO"},{name:"fecha",field:"fecha",label:"FECHA"},{name:"fechaman",field:"fechaman",label:"FECHA MAN"},{name:"hora",field:"hora",label:"HORA"},{name:"horaman",field:"horaman",label:"HORA MAN"},{name:"id",field:"id",label:"ID"},{name:"lat",field:"lat",label:"lat"},{name:"lng",field:"lng",label:"lng"},{name:"nombre",field:"nombre",label:"NOMBRE"},{name:"nroposte",field:"nroposte",label:"NRO POSTE"},{name:"reclamo",field:"reclamo",label:"RECLAMO"},{name:"supervisor",field:"supervisor",label:"SUPERVISOR"},{name:"tecnico",field:"tecnico",label:"TECNICO"},{name:"telefono",field:"telefono",label:"TELEFONO"},{name:"zona",field:"zona",label:"ZONA"}]}},created(){this.$store.state.login.boolreporte||this.$router.replace({path:"/"})},methods:{exportTable(){const t=[this.columns.map((t=>Mt(t.label)))].concat(this.misdenuncias.map((t=>this.columns.map((e=>Mt("function"===typeof e.field?e.field(t):t[void 0===e.field?e.name:e.field],e.format,t))).join(",")))).join("\r\n"),e=Object(Nt["a"])(P["a"].formatDate(new Date,"YYYY-MM-DD")+"Denuncias.csv",t,"text/csv");!0!==e&&$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},reporte2(){this.cadena="",this.$axios.post("consulta",{inicio:this.fecha1,fin:this.fecha2}).then((t=>{this.misdenuncias=t.data,this.cadena="<style>          *{font-size:10px}          table{width:100%; border-collapse: collapse;}          table, th, td {  border: 1px solid;}          titulo{font-weight: bold; font-size:16px; text-align: center;}          </style>          <div >            <table style='border:0;'><tr><td style='border:0;width:20%;'><img src='logo.jpg' style='width:50px; height:50px;'/></td>               <td class='titulo' style='border:0;'> RESUMEN DE DENUNCIAS DEL "+this.fecha1+" AL "+this.fecha2+"</td>               </tr>            </table>            <table>            <thead><tr><th>N</th><th>FECHA</th><th>N POSTE</th><th>ESTADO</th><th>CONTRIBUYENTE</th><th>CI/RUN</th><th>HORA</th><th>OPERADOR</th><th>FECHA MAN</th><th>ACTIVIDAD</th></tr></thead>          <tbody>";let e=0;this.misdenuncias.forEach((t=>{e++,null==t.tecnico&&(t.tecnico=""),null==t.fechaman&&(t.fechaman=""),null==t.actividad&&(t.actividad=""),this.cadena+="<tr>              <td>"+e+"</td>              <td>"+t.fecha+"</td>              <td>"+t.nroposte+"</td>              <td>"+t.estado+"</td>              <td>"+t.nombre+"</td>              <td>"+t.ci+"</td>              <td>"+t.hora+"</td>              <td>"+t.tecnico+"</td>              <td>"+t.fechaman+"</td>              <td>"+t.actividad+"</td>              </tr>"})),this.cadena+="</tbody></table></div>",console.log(this.cadena),document.getElementById("myelement").innerHTML=this.cadena;const a=new Q["Printd"];a.print(document.getElementById("myelement"))}))},reporte(){this.$q.loading.show(),this.$axios.post("consulta",{inicio:this.fecha1,fin:this.fecha2}).then((t=>{this.misdenuncias=t.data;let e=this;function a(){var t=new Image;t.src="logo.jpg",o.addImage(t,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.setFontSize(9),o.text(5,1,"RESUMEN DIARIO DE INGRESOS"),o.text(5,1.5,"DEL "+e.fecha1+" AL "+e.fecha2),o.text(1,3,"__________________________________________________________________________________________________"),o.text(1,3,"FECHA"),o.text(3,3,"Nº POSTE"),o.text(5.5,3,"ESTADO"),o.text(7.5,3,"CONTRIBUYENTE"),o.text(12.8,3,"CI/RUN"),o.text(14.3,3,"HORA."),o.text(16,3,"OPERADOR"),o.text(18.7,3,"Fecha Man."),o.text(21.2,3,"Actividad"),o.setFont(void 0,"normal")}var o=new St["a"]("L","cm","letter");o.setFont("courier"),a(this.fecha);let i=0,s=0;this.misdenuncias.forEach((t=>{console.log(t),i+=.4,s++,o.setFontSize(8),o.text(1,i+3,t.fecha),o.text(3,i+3,t.nroposte.substring(0,15)),o.text(5.5,i+3,t.estado),o.text(7.5,i+3,t.nombre.substring(0,30)),o.text(12.8,i+3,t.ci),o.text(14.3,i+3,t.hora),o.text(16,i+3,null==t.tecnico?"":t.tecnico.substring(0,15)),o.text(18.7,i+3,null==t.fechaman?"":t.fechaman),o.text(21.2,i+3,null==t.actividad?"":t.actividad.substring(30)),i>=16&&(o.addPage(),a(),i=0)})),o.setFontSize(9),o.setFont(void 0,"bold"),o.text(3,i+3.5,"SON: "+s+" DENUNCIAS"),o.text(1.8,i+5,"_____________________          _____________________________       _________________________"),o.text(2,i+5.3,"FIRMA SELLO CAJERO"),o.text(8,i+5.3,"FIRMA SELLO CONTROL INTERNO"),o.text(15,i+5.3,"FIRMA SELLO LIQUIDADOR"),window.open(o.output("bloburl"),"_blank"),this.$q.loading.hide()}))}}},Lt=jt,Pt=Object(f["a"])(Lt,Tt,$t,!1,null,"65663a43",null),Qt=Pt.exports;at()(Pt,"components",{QPage:Y["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QInput:G["a"],QBtn:B["a"],QTable:V["a"]});var zt=function(){var t=this,e=t._self._c;return e("q-page",[e("div",{staticClass:"row col-12"},[e("div",{staticClass:"col-md-3 col-xs-8"},[e("q-select",{attrs:{dense:"",options:t.distritos,label:"Distritos",ourlined:""},model:{value:t.distrito,callback:function(e){t.distrito=e},expression:"distrito"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"green",icon:"search"},on:{click:t.mispuntos}})],1),e("div",{staticClass:"col-md-3 col-xs-10"},[e("q-input",{attrs:{dense:"",outlined:"",type:"text",label:"Numero Poste"},model:{value:t.numeroposte,callback:function(e){t.numeroposte=e},expression:"numeroposte"}})],1),e("div",{staticClass:"col-1"},[e("q-btn",{attrs:{color:"info",icon:"place"},on:{click:t.searchPlace}})],1)]),e("div",{staticClass:"col-12"},[e("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center},on:{click:t.cargarpunto}},[e("l-tile-layer",{attrs:{url:t.styleMap?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}","layer-type":"base",name:"OpenStreetMap",attribution:t.attribution,options:{maxNativeZoom:18,maxZoom:20}}}),e("l-marker",{attrs:{"lat-lng":[t.lat,t.lng],draggable:"",title:"Usted esta Aqui"},on:{moveend:t.updateCoordinates,click:t.cargarUbicacion}},[e("l-icon",{attrs:{"icon-url":"img/pinyw.png"}})],1),t._l(t.datos,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){t.center=[a.lat,a.lng],t.punto=a,t.modalpunto=!0,t.recmtto=""}}},[e("l-icon",[e("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"img/"+a.color}}),e("div",{staticClass:"headline"},[t._v("\n           "+t._s(a.nroposte)+"\n         ")])])],1)})),e("l-control",{attrs:{position:"topright"}},[e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"my_location",dense:"",round:""},on:{click:t.geolocate}}),e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"map",dense:"",round:""},on:{click:function(e){t.styleMap=!t.styleMap}}})],1)],2)],1),e("q-table",{attrs:{data:t.datos,columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"body-cell-potencia",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n         "+t._s(a.row.potencia)+"\n       ")])]}},{key:"body-cell-nroposte",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n         "+t._s(a.row.nroposte)+"\n       ")])]}},{key:"body-cell-material",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[e("div",{staticClass:"text-subtitle2",staticStyle:{"font-size":"0.8em","white-space":"initial"}},[t._v(t._s(a.row.material))])])]}},{key:"body-cell-observacion",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[e("div",{staticClass:"text-subtitle2",staticStyle:{"font-size":"0.8em","white-space":"initial"}},[t._v(t._s(a.row.observacion))])])]}},{key:"body-cell-ubicacion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"ACTIVO"==a.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(e){return t.clickclientes(a.row)}}})],1)]}},{key:"top-right",fn:function(){return[e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])}),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.punto.nroposte)+" latlng ("+t._s(t.punto.lat)+","+t._s(t.punto.lng)+")")])]),e("q-card-section",{staticClass:"q-pt-none"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Nro Poste",readonly:""},model:{value:t.punto.nroposte,callback:function(e){t.$set(t.punto,"nroposte",e)},expression:"punto.nroposte"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Potencia",readonly:""},model:{value:t.punto.potencia,callback:function(e){t.$set(t.punto,"potencia",e)},expression:"punto.potencia"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Material",readonly:""},model:{value:t.punto.material,callback:function(e){t.$set(t.punto,"material",e)},expression:"punto.material"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Luminaria",readonly:""},model:{value:t.punto.luminaria,callback:function(e){t.$set(t.punto,"luminaria",e)},expression:"punto.luminaria"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Cant Luminarias",readonly:""},model:{value:t.punto.cantidad,callback:function(e){t.$set(t.punto,"cantidad",e)},expression:"punto.cantidad"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Observacion",readonly:""},model:{value:t.punto.observacion,callback:function(e){t.$set(t.punto,"observacion",e)},expression:"punto.observacion"}})],1)])]),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Mantenimiento",color:"accent"},on:{click:t.registroMtto}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"cerrar",color:"green"}})],1)],1)],1)],1)},Ft=[],Ut={data(){return{datos:[],iconSize:[32,37],iconAnchor:[16,37],prueba:"",styleMap:!0,numeroposte:"",recmtto:"",distritos:[{label:"Distrito 1",value:"D1"},{label:"Distrito 2",value:"D2"},{label:"Distrito 2 Ext",value:"D2 EXT"},{label:"Distrito 3",value:"D3"},{label:"Distrito 3 Ext",value:"D3 EXT"},{label:"Distrito 4",value:"D4"},{label:"Distrito 4 Ext",value:"D4 EXT"},{label:"Distrito 5",value:"D5"},{label:"Distrito 5 Ext",value:"D5 EXT"}],distrito:{label:"Distrito 1",value:"D1"},modalpunto:!1,plan:{},estados:["ACTIVO","MANTENIMIENTO"],postes:[],d1:[],d1e:[],d2:[],d2e:[],d3:[],d3e:[],d4:[],d4e:[],d5:[],d5e:[],lat:0,lng:0,estado:"ACTIVO",filter:"",colums:[{name:"id",label:"id",field:"id"},{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"potencia",label:"potencia",field:"potencia"},{name:"material",label:"material",field:"material"},{name:"observacion",label:"observacion",field:"observacion"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],puntos:[],map:null,punto:{},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:16,center:[-17.97031,-67.11178],markerLatLng:[-17.97031,-67.11178]}},created(){this.$store.state.login.booldistrito||this.$router.replace({path:"/"})},methods:{async geolocate(){this.ubicacion=[0,0],console.log(navigator.geolocation),navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.zoom=18,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion,this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))}))},cargarpunto(t){console.log(t.latlng),this.lat=t.latlng.lat,this.lng=t.latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},updateCoordinates(t){this.lat=t.target._latlng.lat,this.lng=t.target._latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},cargarUbicacion(){this.datos=[],this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))},searchPlace(){if(""==this.numeroposte||void 0==this.numeroposte)return this.datos=[],!1;this.datos=[],this.$axios.get("buscarPoste/"+this.numeroposte).then((t=>{console.log(t.data),t.data.length>0&&(this.datos.push(t.data[0]),this.ubicacion={lat:t.data[0].lat,lng:t.data[0].lng},this.center=this.ubicacion,this.zoom=18)}))},registroMtto(){this.$q.dialog({title:"Enviar a Mantenimiento",message:"Esta Seguro?",cancel:!0,persistent:!1}).onOk((()=>{this.plan.fecha=P["a"].formatDate(new Date,"YYYY-MM-DD"),this.plan.hora=P["a"].formatDate(new Date,"HH:mm"),this.plan.punto=this.punto,this.plan.reclamo="MANTENIMIENTO ",this.$axios.post("matto",this.plan).then((t=>{this.modalpunto=!1,this.recmtto="",this.$q.notify({message:"Su Reclamo fue Registrado",color:"green",icon:"info"})})).catch((t=>{this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},async onClick(){switch(console.log(this.distrito.value),this.distrito.value){case"D1":this.datos=this.d1;break;case"D1 EXT":this.datos=this.d1e;break;case"D2":this.datos=this.d2;break;case"D2 EXT":this.datos=this.d2e;break;case"D3":this.datos=this.d3;break;case"D3 EXT":this.datos=this.d3e;break;case"D4":this.datos=this.d4;break;case"D4 EXT":this.datos=this.d4e;break;case"D5":this.datos=this.d5;break;case"D5 EXT":this.datos=this.d5e;break;default:this.datos=[];break}},frmmodalpunto(t){this.modalpunto=!0,this.punto=t,this.recmtto=""},async clickclientes(t){this.center=[t.lat,t.lng],this.zoom=18},cambioestado(){console.log(this.punto),this.$axios.put("poste/"+this.punto.id,this.punto)},mispuntos(){this.postes=[],this.$q.loading.show(),this.$axios.post("listaposte",{distrito:this.distrito.value}).then((t=>{this.datos=t.data,this.$q.loading.hide(),console.log(this.datos)}))}},computed:{dynamicSize(){return[this.iconSize,1.15*this.iconSize]},dynamicAnchor(){return[this.iconSize/2,1.15*this.iconSize]}}},Yt=Ut,Bt=Object(f["a"])(Yt,zt,Ft,!1,null,null,null),Vt=Bt.exports;at()(Bt,"components",{QPage:Y["a"],QBadge:ct["a"],QSelect:tt["a"],QBtn:B["a"],QInput:G["a"],QTable:V["a"],QTd:H["a"],QIcon:Z["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QCardActions:ut["a"]}),at()(Bt,"directives",{ClosePopup:pt["a"]});var Ht=function(){var t=this,e=t._self._c;return e("q-page",[e("iframe",{attrs:{src:"https://www.google.com/maps/d/embed?mid=1p-L6PAC7LgRAPOhdxNBScFUvJfL3iAU&ehbc=2E312F",width:"100%",height:"480"}}),e("iframe",{attrs:{src:"https://www.google.com/maps/d/u/0/embed?mid=1OXQlfLi5c9u-UVoyMmRKXUQ9Tom3Kb4&ehbc=2E312F",width:"100%",height:"480"}}),e("iframe",{attrs:{src:"https://www.google.com/maps/d/u/0/embed?mid=1uhvCU2-Vex489UDhTOdwqlUQuYNy7h0&ehbc=2E312F",width:"100%",height:"480"}})])},Gt=[],Zt={data(){return{accessToken:"pk.eyJ1IjoiYWxleGxvcGV6ZyIsImEiOiJjbGYxazg1YmkwNGlkM3hudmpkZWVlczVuIn0.b6sTYHtmkdGnfqUsQzYprw",modalpunto:!1,estados:["ACTIVO","MANTENIMIENTO"],postes:[],d1:[],d1e:[],d2:[],d2e:[],d3:[],d3e:[],d4:[],d4e:[],d5:[],d5e:[],d6:[],d6e:[],estado:"ACTIVO",filter:"",colums:[{name:"id",label:"id",field:"id"},{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"potencia",label:"potencia",field:"potencia"},{name:"material",label:"material",field:"material"},{name:"observacion",label:"observacion",field:"observacion"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],puntos:[],map:null,punto:{},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:16,center:{lat:-17.97031,lng:-67.11178},markerLatLng:[-17.97031,-67.11178]}},created(){},methods:{frmmodalpunto(t){this.modalpunto=!0,this.punto=t},clickclientes(t){this.center={lat:t.lat,lng:t.lng},this.zoom=18}}},Jt=Zt,Wt=Object(f["a"])(Jt,Ht,Gt,!1,null,null,null),Xt=Wt.exports;at()(Wt,"components",{QPage:Y["a"]});var Kt=function(){var t=this,e=t._self._c;return e("q-layout",{attrs:{view:"lHh Lpr lFf"}},[e("q-header",{attrs:{elevated:""}},[e("q-toolbar",[e("q-toolbar-title",[e("div",{staticClass:"text-center full-width text-h6 text-bold",staticStyle:{"font-size":"14px"}},[e("q-img",{staticStyle:{height:"40px","max-width":"50px"},attrs:{src:"logo.png","spinner-color":"white"}}),t._v("\r\n          Gobierno Autonomo Municipal de Oruro "),e("br"),t._v("Unidad de Alumbrado Publico y Servicios Electricos\r\n        ")],1)]),e("div")],1)],1),e("q-page-container",[e("q-page",[e("div",{staticClass:"row",style:t.backgroundDiv},[e("div",{staticClass:"q-pa-md col-md-6 col-xs-12"},[e("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[e("q-btn",{staticClass:"text-h6",attrs:{dense:"",color:"green"},on:{click:function(e){return t.$router.replace({path:"/consulta"})}}},[t._v("IR CONSULTA RECLAMOS")])],1),e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",outlined:"",rounded:"",label:"Cedula de Identidad *"},on:{change:t.buscar},model:{value:t.persona.ci,callback:function(e){t.$set(t.persona,"ci",e)},expression:"persona.ci"}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",outlined:"",rounded:"",type:"text",label:"Nombre Completo *"},model:{value:t.persona.nombre,callback:function(e){t.$set(t.persona,"nombre",e)},expression:"persona.nombre"}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",outlined:"",rounded:"",type:"text",label:"Celular *"},model:{value:t.persona.telefono,callback:function(e){t.$set(t.persona,"telefono",e)},expression:"persona.telefono"}})],1),e("div",{staticClass:"q-pa-xs row"},[e("div",{staticClass:"col-10"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",dense:"",outlined:"",rounded:"",type:"text",label:"Nro Poste"},model:{value:t.nposte,callback:function(e){t.nposte=e},expression:"nposte"}})],1),e("q-btn",{attrs:{color:"green",icon:"search"},on:{click:t.buscarPoste}})],1),e("div",{staticStyle:{color:"white","font-weight":"bold",background:"gray","font-size":"10px"}},[t._v(" * Puede arrastrar su ubicacion o hacer click en cualquier parte del mapa")]),e("div",{staticStyle:{color:"white","font-weight":"bold",background:"gray","font-size":"10px"}},[t._v(" * Hacer click al punto de su ubicacion para cargar los postes cercanos")]),e("div",{staticStyle:{color:"white","font-weight":"bold",background:"gray","font-size":"10px"}},[t._v(" * Click sobre alguno de los postes para registrar su reclamo")])]),e("div",{staticClass:"q-pa-md col-md-6 col-xs-12"},[e("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center},on:{click:t.cargarpunto}},[e("l-tile-layer",{attrs:{url:t.styleMap?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}","layer-type":"base",name:"OpenStreetMap",attribution:t.attribution,options:{maxNativeZoom:18,maxZoom:20}}}),e("l-marker",{attrs:{"lat-lng":[t.lat,t.lng],draggable:"",title:"Usted esta Aqui"},on:{moveend:t.updateCoordinates,click:t.cargarUbicacion}},[e("l-icon",{attrs:{"icon-url":"pinyw.png"}})],1),t._l(t.datos,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){t.center=[a.lat,a.lng],t.punto=a,t.seleccionar()}}},[e("l-icon",{attrs:{"icon-url":"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}})],1)})),e("l-control",{attrs:{position:"topright"}},[e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"my_location",dense:"",round:""},on:{click:t.geolocate}}),e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"map",dense:"",round:""},on:{click:function(e){t.styleMap=!t.styleMap}}})],1)],2)],1)]),e("q-dialog",{attrs:{"full-width":""},model:{value:t.dialogReclamo,callback:function(e){t.dialogReclamo=e},expression:"dialogReclamo"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Datos de Alumbrado "+t._s(t.punto.nroposte))]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("MATERIAL :")]),t._v(" "+t._s(t.punto.material))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("LUMINARIA :")]),t._v(" "+t._s(t.punto.luminaria))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("ALTURA :")]),t._v(" "+t._s(t.punto.altura))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("POTENCIA :")]),t._v(" "+t._s(t.punto.potencia))]),e("div",{staticClass:"col-12"},[e("b",[t._v("OBSERVACION : ")]),t._v(t._s(t.punto.observacion))])])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Detalle del reclamo",type:"textarea"},model:{value:t.denuncia.reclamo,callback:function(e){t.$set(t.denuncia,"reclamo",e)},expression:"denuncia.reclamo"}})],1),e("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"red",icon:"cancel"}}),e("q-btn",{attrs:{flat:"",label:"Registrar",color:"green",icon:"send"},on:{click:t.registrarReclamo}})],1)],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)],1)},te=[];a("df7c");const ee=a("d055");var ae={name:"PageIndex",data(){return{styleMap:!0,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",url2:"http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:16,markerLatLng:[-17.97031,-67.11178],persona:{},punto:{},denuncia:{},nposte:"",dialogReclamo:!1,lat:0,lng:0,marker:{},postes:[],urlbase:"https://alumbradop.gamo.gob.bo/#/consulta",datos:[],ubicacion:[-17.97031,-67.11178],center:[-17.97031,-67.11178],backgroundDiv:{backgroundImage:"url(bg.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}},opts2:{errorCorrectionLevel:"M",type:"png",quality:.95,width:50,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.geolocate()},methods:{async printReclamo(t){this.qrImage=await ee.toDataURL(this.urlbase+"/"+t.persona.ci,this.opts);let e="<style>      .titulo{      font-size: 10px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      font-weight: bold;      text-align: center;      }            .titulo3{      font-size: 9px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 9px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 10px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='background-image:url(logo3.png);background-repeat: no-repeat; background-size: 30px 60px;'>      <div class='titulo2' >        GOBIERNO AUTONOMO MUNICIPAL DE ORURO<br>        UNIDAD DE ALUMBRADO PUBLICO <br>Y SERVICIOS ELECTRICOS<br>        Reclamo Nro: "+t.id+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA REGISTRO:</td><td class='contenido'>"+t.fecha+"</td></tr>        <tr><td class='titder'>CI:</td><td class='contenido'>"+t.persona.ci+"</td></tr>        <tr><td class='titder'>NOMBRE:</td><td class='contenido'>"+t.persona.nombre+"</td></tr>        <tr><td class='titder'>TELEFONO:</td><td class='contenido'>"+t.persona.telefono+"</td></tr>      </table>       <hr>      <div class='titulo'>DETALLE RECLAMO</div>      <div  class='contenido'>"+t.reclamo+"</div>      <div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>      </div>            ";document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))},handleMarkerDrag(t){this.ubicacion={lat:t.latLng.lat(),lng:t.latLng.lng()}},cargarUbicacion(){this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))},cargarpunto(t){console.log(t.latlng),this.lat=t.latlng.lat,this.lng=t.latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},updateCoordinates(t){this.lat=t.target._latlng.lat,this.lng=t.target._latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},registrarReclamo(){if(void 0==this.denuncia.reclamo||""==this.denuncia.reclamo)return this.$q.notify({message:"Ingrese su Reclamo",color:"red",icon:"info"}),!1;void 0==this.persona.id&&(this.persona.id=""),this.denuncia.persona=this.persona,this.denuncia.fecha=P["a"].formatDate(new Date,"YYYY-MM-DD"),this.denuncia.hora=P["a"].formatDate(new Date,"HH:mm"),this.denuncia.punto=this.punto,this.$axios.post("reclamo",this.denuncia).then((t=>{console.log(t.data),this.printReclamo(t.data),this.dialogReclamo=!1,this.$q.notify({message:"Su Reclamo fue Registrado",color:"green",icon:"info"})})).catch((t=>{this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})})),this.denuncia.reclamo="",this.persona={},this.denuncia={},this.nposte=""},seleccionar(){if(void 0==this.persona.ci||void 0==this.persona.nombre||void 0==this.persona.telefono)return this.$q.notify({message:"Ingrese su Datos",color:"red",icon:"info"}),!1;this.zoom=19,this.dialogReclamo=!0},cargar(t){switch(this.$q.loading.show(),t){case"D1":this.datos=this.d1;break;case"D2":this.datos=this.d2;break;case"D3":this.datos=this.d3;break;case"D4":this.datos=this.d4;break;case"D5":this.datos=this.d5;break;default:this.datos=[];break}this.$q.loading.hide()},buscarPoste(){this.datos=[],this.$axios.get("buscarPoste/"+this.nposte).then((t=>{console.log(),t.data.length>0&&(this.datos.push(t.data[0]),this.ubicacion={lat:t.data[0].lat,lng:t.data[0].lng},this.center=this.ubicacion,this.zoom=18)}))},buscar(){let t=this.persona.ci;this.$axios.get("buscarPersona/"+t).then((e=>{console.log(e.data),e.data?this.persona=e.data:(this.persona={},this.persona.ci=t)}))},async geolocate(){this.ubicacion=[0,0],console.log(navigator.geolocation),navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{console.log(t),this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.zoom=18,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion,this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))}),(function(t){switch(t.code){case t.PERMISSION_DENIED:console.log("El usuario denegó el permiso para la Geolocalización");break;case t.POSITION_UNAVAILABLE:console.log("La ubicación no está disponible.");break;case t.TIMEOUT:console.log("Se ha excedido el tiempo para obtener la ubicación");break;case t.UNKNOWN_ERROR:console.log(" Un error desconocido.");break}}))}}},oe=ae,ie=a("4d5a"),se=a("e359"),le=a("65c6"),ne=a("6ac5"),re=a("068f"),ce=a("09e3"),de=a("54e1"),ue=Object(f["a"])(oe,Kt,te,!1,null,null,null),pe=ue.exports;at()(ue,"components",{QLayout:ie["a"],QHeader:se["a"],QToolbar:le["a"],QToolbarTitle:ne["a"],QImg:re["a"],QPageContainer:ce["a"],QPage:Y["a"],QBanner:de["a"],QBtn:B["a"],QInput:G["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QCardActions:ut["a"]}),at()(ue,"directives",{ClosePopup:pt["a"]});var he=function(){var t=this,e=t._self._c;return e("q-layout",{attrs:{view:"lHh Lpr lFf"}},[e("q-header",{attrs:{elevated:""}},[e("q-toolbar",[e("q-toolbar-title",[e("q-img",{staticStyle:{width:"30px"},attrs:{src:"logo.png"}})],1),e("div")],1)],1),e("q-page-container",[e("q-page",{},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-form",{on:{submit:function(e){return e.preventDefault(),t.buscar.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-8 q-pa-xs"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Ingrese numero de carnet / nro Poste",autofocus:""},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),e("div",{staticClass:"col-12 col-md-2 q-pa-xs flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{label:"Buscar",color:"primary",icon:"send",type:"submit"}}),e("q-btn",{staticClass:"full-width",attrs:{label:"Ir Registro",color:"green",icon:"location_on"},on:{click:function(e){return t.$router.replace({path:"/reclamoalumbrado"})}}})],1)])])],1),e("div",{staticClass:"col-12 col-md-12"},[e("q-banner",{staticClass:"bg-primary text-white",attrs:{dense:""}},[t._v("\n          Datos Reclamos por "+t._s(t.persona.nombre)+"\n        ")])],1),e("div",{staticClass:"col-12 col-md-12"},[e("q-table",{attrs:{title:"Datos del poste",data:t.datos,columns:t.columns},scopedSlots:t._u([{key:"body-cell-estado",fn:function(t){return[e("q-td",{attrs:{props:t}},[e("q-badge",{attrs:{color:"EN ESPERA"==t.row.estado?"warning":"positive",label:t.row.estado}})],1)]}}])})],1)])])],1)],1)},me=[],be={data(){return{columns:[{label:"Nro",field:t=>t.poste.nroposte,name:"nroposte"},{label:"Reclamo",field:"reclamo",name:"reclamo"},{label:"Estado",field:"estado",name:"estado"},{label:"Fecha",field:"fecha",name:"fecha",sortable:!0},{label:"Tecnico",field:"tecnico",name:"tecnico"},{label:"Actividad",field:"actividad",name:"actividad"},{label:"Fecha mantenimiento",field:"fechaman",name:"fechaman",sortable:!0}],cedula:this.$route.params.cedula,url:"https://alumbradoback.gamo.gob.bo/api/",codigo:"",email:{},mails:[],mails2:[],datos:[],persona:{}}},mounted(){void 0==this.cedula&&""!=this.cedula||(this.codigo=this.cedula,this.buscar())},methods:{buscar(){if(""==this.codigo)return!1;this.$q.loading.show(),this.$axios.get("https://alumbradoback.gamo.gob.bo/api/consultaReclamo/"+this.codigo).then((t=>{console.log(t.data),this.datos=t.data,this.$q.loading.hide()})).catch((t=>{this.$q.loading.hide(),console.error(t.response.data.message)}))},filterFn(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.mails=this.mails2.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.mails=this.mails2})}}},ge=be,fe=Object(f["a"])(ge,he,me,!1,null,null,null),ve=fe.exports;at()(fe,"components",{QLayout:ie["a"],QHeader:se["a"],QToolbar:le["a"],QToolbarTitle:ne["a"],QImg:re["a"],QPageContainer:ce["a"],QPage:Y["a"],QForm:K["a"],QInput:G["a"],QBtn:B["a"],QBanner:de["a"],QTable:V["a"],QTd:H["a"],QBadge:ct["a"]});var qe=function(){var t=this,e=t._self._c;return e("q-layout",{attrs:{view:"lHh Lpr lFf"}},[e("q-header",{attrs:{elevated:""}},[e("q-toolbar",[e("q-toolbar-title",[e("q-img",{staticStyle:{width:"30px"},attrs:{src:"logo.png"}})],1),e("div")],1)],1),e("q-page-container",[e("q-page",[e("div",{staticClass:"row",style:t.backgroundDiv},[e("div",{staticClass:"q-pa-md col-md-6 col-xs-12"},[e("div",{staticStyle:{width:"100%"}},[e("q-btn",{staticClass:"text-h6",attrs:{color:"green"},on:{click:function(e){return t.$router.replace({path:"/consulta"})}}},[t._v("IR CONSULTA RECLAMOS")])],1),e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",outlined:"",rounded:"",label:"Cedula de Identidad *"},on:{change:t.buscar},model:{value:t.persona.ci,callback:function(e){t.$set(t.persona,"ci",e)},expression:"persona.ci"}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",outlined:"",rounded:"",type:"text",label:"Nombre Completo *"},model:{value:t.persona.nombre,callback:function(e){t.$set(t.persona,"nombre",e)},expression:"persona.nombre"}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",outlined:"",rounded:"",type:"text",label:"Celular *"},model:{value:t.persona.telefono,callback:function(e){t.$set(t.persona,"telefono",e)},expression:"persona.telefono"}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",outlined:"",rounded:"",type:"textarea",label:"Detalle de Reclamo *"},model:{value:t.reclamo,callback:function(e){t.reclamo=e},expression:"reclamo"}})],1),e("div",{staticClass:"q-pa-xs row"},[e("div",{staticClass:"col-10"},[e("q-input",{attrs:{"bg-color":"blue-grey-1",dense:"",outlined:"",rounded:"",type:"text",label:"Nro Poste"},model:{value:t.nposte,callback:function(e){t.nposte=e},expression:"nposte"}})],1),e("q-btn",{attrs:{color:"green",icon:"search"},on:{click:t.buscarPoste}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-btn",{attrs:{color:"green-8",label:"REGISTRAR"},on:{click:t.registrarReclamo}})],1)]),e("div",{staticClass:"q-pa-md col-md-6 col-xs-12"},[e("div",{staticStyle:{color:"white","font-weight":"bold",background:"gray","font-size":"10px"}},[t._v(" * Puede arrastrar su ubicacion o hacer click en cualquier parte del mapa")]),e("div",{staticStyle:{color:"white","font-weight":"bold",background:"gray","font-size":"10px"}},[t._v(" * Hacer click al punto de su ubicacion para cargar los postes cercanos")]),e("div",{staticStyle:{color:"white","font-weight":"bold",background:"gray","font-size":"10px"}},[t._v(" * Click sobre alguno de los postes para registrar su reclamo")]),e("br"),e("l-map",{staticStyle:{height:"70vh"},attrs:{zoom:t.zoom,center:t.center},on:{click:t.cargarpunto}},[e("l-tile-layer",{attrs:{url:t.styleMap?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}","layer-type":"base",name:"OpenStreetMap",attribution:t.attribution,options:{maxNativeZoom:18,maxZoom:20}}}),e("l-marker",{attrs:{"lat-lng":[t.lat,t.lng],draggable:"",title:"Usted esta Aqui"},on:{moveend:t.updateCoordinates,click:t.cargarUbicacion}},[e("l-icon",{attrs:{"icon-url":"img/pinyw.png"}})],1),t._l(t.datos,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){t.center=[a.lat,a.lng],t.punto=a,t.seleccionar()}}},[e("l-icon",{attrs:{"icon-url":"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}})],1)})),e("l-control",{attrs:{position:"topright"}},[e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"my_location",dense:"",round:""},on:{click:t.geolocate}}),e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"map",dense:"",round:""},on:{click:function(e){t.styleMap=!t.styleMap}}})],1)],2)],1)]),e("div",{staticClass:"col-12 q-pa-xs"},[e("q-table",{attrs:{data:t.lista,columns:t.colmlist,dense:"","row-key":"name"},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{color:"red",icon:"delete",size:"xs",round:""},on:{click:function(e){return t.delreclamo(a)}}})],1)]}}])})],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.agregar,callback:function(e){t.agregar=e},expression:"agregar"}},[e("q-card",{staticStyle:{width:"300px"}},[e("q-card-section",{staticClass:"row items-center"},[e("span",{staticClass:"q-ml-sm"},[t._v("AGREGAR A LISTA RECLAMO")])]),e("q-card-section",[e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("MATERIAL :")]),t._v(" "+t._s(t.punto.material))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("LUMINARIA :")]),t._v(" "+t._s(t.punto.luminaria))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("ALTURA :")]),t._v(" "+t._s(t.punto.altura))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("POTENCIA :")]),t._v(" "+t._s(t.punto.potencia))]),e("div",{staticClass:"col-12"},[e("b",[t._v("OBSERVACION : ")]),t._v(t._s(t.punto.observacion))])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"CANCEL",color:"red"}}),e("q-btn",{attrs:{flat:"",label:"AGREGAR",color:"green"},on:{click:t.addPunto}})],1)],1)],1),e("q-dialog",{attrs:{"full-width":""},model:{value:t.dialogReclamo,callback:function(e){t.dialogReclamo=e},expression:"dialogReclamo"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Datos de Alumbrado "+t._s(t.punto.nroposte))]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("MATERIAL :")]),t._v(" "+t._s(t.punto.material))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("LUMINARIA :")]),t._v(" "+t._s(t.punto.luminaria))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("ALTURA :")]),t._v(" "+t._s(t.punto.altura))]),e("div",{staticClass:"col-md-3 col-xs-12"},[e("b",[t._v("POTENCIA :")]),t._v(" "+t._s(t.punto.potencia))]),e("div",{staticClass:"col-12"},[e("b",[t._v("OBSERVACION : ")]),t._v(t._s(t.punto.observacion))])])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Detalle del reclamo",type:"textarea"},model:{value:t.denuncia.reclamo,callback:function(e){t.$set(t.denuncia,"reclamo",e)},expression:"denuncia.reclamo"}})],1),e("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"red",icon:"cancel"}}),e("q-btn",{attrs:{flat:"",label:"Registrar",color:"green",icon:"send"},on:{click:t.registrarReclamo}})],1)],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)],1)},Ce=[];const xe=a("d055");var ye={name:"PageIndex",data(){return{styleMap:!0,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',colmlist:[{label:"OPC",field:"opcion",name:"opcion"},{label:"NRO",field:"nroposte",name:"nroposte"},{label:"LUMINARIA",field:"luminaria",name:"luminaria"},{label:"POTENCIA",field:"potencia",name:"potencia"},{label:"MATERIAL",field:"material",name:"material"}],persona:{},agregar:!1,punto:{},denuncia:{},reclamo:"",lista:[],nposte:"",dialogReclamo:!1,zoom:16,marker:{},postes:[],urlbase:"https://electrica.gamo.cf/#/consulta",lat:0,lng:0,datos:[],ubicacion:[-17.97031,-67.11178],center:[-17.97031,-67.11178],backgroundDiv:{backgroundImage:"url(bg.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}},opts2:{errorCorrectionLevel:"M",type:"png",quality:.95,width:50,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.geolocate()},methods:{cargarpunto(t){console.log(t.latlng),this.lat=t.latlng.lat,this.lng=t.latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},delreclamo(t){console.log(t),this.lista.splice(t.rowIndex,1)},addPunto(){this.lista.find((t=>t.id==this.punto.id))||this.lista.push(this.punto),this.agregar=!1},async printReclamo(t){this.qrImage=await xe.toDataURL(this.urlbase+"/"+t.persona.ci,this.opts);let e="<style>      .titulo{      font-size: 10px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      font-weight: bold;      text-align: center;      }            .titulo3{      font-size: 9px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 9px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 10px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='background-image:url(logo3.png);background-repeat: no-repeat; background-size: 30px 60px;'>      <div class='titulo2' >        GOBIERNO AUTONOMO MUNICIPAL DE ORURO<br>        UNIDAD DE ALUMBRADO PUBLICO <br>Y SERVICIOS ELECTRICOS<br>        Reclamo Nro: "+t.id+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA REGISTRO:</td><td class='contenido'>"+t.fecha+"</td></tr>        <tr><td class='titder'>CI:</td><td class='contenido'>"+t.persona.ci+"</td></tr>        <tr><td class='titder'>NOMBRE:</td><td class='contenido'>"+t.persona.nombre+"</td></tr>        <tr><td class='titder'>TELEFONO:</td><td class='contenido'>"+t.persona.telefono+"</td></tr>      </table>       <hr>      <div class='titulo'>DETALLE RECLAMO</div>      <div  class='contenido'>"+t.reclamo+"</div>      <div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>      </div>            ";document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))},handleMarkerDrag(t){this.ubicacion={lat:t.latLng.lat(),lng:t.latLng.lng()}},cargarUbicacion(){this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))},updateCoordinates(t){this.lat=t.target._latlng.lat,this.lng=t.target._latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},registrarReclamo(){return void 0==this.reclamo||""==this.reclamo?(this.$q.notify({message:"Ingrese su Reclamo",color:"red",icon:"info"}),!1):void 0==this.persona.ci||""==this.persona.ci||void 0==this.persona.nombre||""==this.persona.nombre||void 0==this.persona.telefono||""==this.persona.telefono?(this.$q.notify({message:"Registre sus datos",color:"red",icon:"info"}),!1):(void 0==this.persona.id&&(this.persona.id=""),this.denuncia.persona=this.persona,this.denuncia.fecha=P["a"].formatDate(new Date,"YYYY-MM-DD"),this.denuncia.hora=P["a"].formatDate(new Date,"HH:mm"),this.denuncia.listado=this.lista,this.denuncia.reclamo=this.reclamo,this.$axios.post("registroMultiple",this.denuncia).then((t=>{console.log(t.data),this.dialogReclamo=!1,this.$q.notify({message:"Su Reclamo fue Registrado",color:"green",icon:"info"})})),this.reclamo="",this.persona={},this.denuncia={},this.lista=[],void(this.nposte=""))},seleccionar(){if(void 0==this.persona.ci||void 0==this.persona.nombre||void 0==this.persona.telefono)return this.$q.notify({message:"Ingrese su Datos",color:"red",icon:"info"}),!1;this.zoom=19,this.agregar=!0},cargar(t){switch(this.$q.loading.show(),t){case"D1":this.datos=this.d1;break;case"D2":this.datos=this.d2;break;case"D3":this.datos=this.d3;break;case"D4":this.datos=this.d4;break;case"D5":this.datos=this.d5;break;default:this.datos=[];break}this.$q.loading.hide()},buscarPoste(){this.datos=[],this.$axios.get("buscarPoste/"+this.nposte).then((t=>{t.data.length>0&&(this.datos.push(t.data[0]),this.ubicacion=[t.data[0].lat,t.data[0].lng],this.center=this.ubicacion,this.zoom=18)}))},buscar(){let t=this.persona.ci;this.$axios.get("buscarPersona/"+t).then((e=>{console.log(e.data),e.data?this.persona=e.data:(this.persona={},this.persona.ci=t)}))},async geolocate(){this.ubicacion=[0,0],navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{console.log(t),this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.zoom=18,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion,this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))}),(function(t){switch(t.code){case t.PERMISSION_DENIED:console.log("El usuario denegó el permiso para la Geolocalización");break;case t.POSITION_UNAVAILABLE:console.log("La ubicación no está disponible.");break;case t.TIMEOUT:console.log("Se ha excedido el tiempo para obtener la ubicación");break;case t.UNKNOWN_ERROR:console.log(" Un error desconocido.");break}}))}}},_e=ye,we=Object(f["a"])(_e,qe,Ce,!1,null,null,null),ke=we.exports;at()(we,"components",{QLayout:ie["a"],QHeader:se["a"],QToolbar:le["a"],QToolbarTitle:ne["a"],QImg:re["a"],QPageContainer:ce["a"],QPage:Y["a"],QBanner:de["a"],QBtn:B["a"],QInput:G["a"],QTable:V["a"],QTd:H["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QCardActions:ut["a"]}),at()(we,"directives",{ClosePopup:pt["a"]});var De=function(){var t=this,e=t._self._c;return e("q-page",[e("div",{staticClass:"col-12"},[e("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center}},[e("l-tile-layer",{attrs:{url:t.styleMap?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}","layer-type":"base",name:"OpenStreetMap",attribution:t.attribution,options:{maxNativeZoom:18,maxZoom:20}}}),e("l-marker",{attrs:{"lat-lng":[t.lat,t.lng],draggable:"",title:"Usted esta Aqui"}},[e("l-icon",{attrs:{"icon-url":"pinyw.png"}})],1),t._l(t.puntos,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){t.center=[a.lat,a.lng],t.punto=a,t.frmmodalpunto(a)}}})})),e("l-control",{attrs:{position:"topright"}},[e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"my_location",dense:"",round:""},on:{click:t.geolocate}}),e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"map",dense:"",round:""},on:{click:function(e){t.styleMap=!t.styleMap}}})],1)],2)],1),e("q-table",{attrs:{data:t.puntos,columns:t.colums,filter:t.filter,"row-key":"id"},scopedSlots:t._u([{key:"body-cell-nombre",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n          "+t._s(a.row.persona.nombre)+" - "+t._s(a.row.persona.telefono)+"\n        ")])]}},{key:"body-cell-nroposte",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n          "+t._s(a.row.poste.nroposte)+"\n        ")])]}},{key:"body-cell-ubicacion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"ACTIVO"==a.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(e){return t.clickclientes(a.row)}}}),e("q-btn",{attrs:{color:"info",icon:"print",dense:""},on:{click:function(e){return t.printReclamo(a.row)}}})],1)]}},{key:"top-right",fn:function(){return[e("q-btn",{attrs:{icon:"refresh",color:"info"},on:{click:t.mispuntos}}),e("q-btn",{attrs:{icon:"adjust",color:"negative"},on:{click:t.centro}}),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"top-left",fn:function(){return[e("div",{staticClass:"row"},[e("q-select",{staticStyle:{width:"200px"},attrs:{outlined:"",dense:"",options:t.personas},model:{value:t.per,callback:function(e){t.per=e},expression:"per"}}),e("q-btn",{attrs:{color:"green",dense:"",icon:"search"},on:{click:t.listReclamos}})],1)]},proxy:!0}])}),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.poste.nroposte)+" lat:"+t._s(t.poste.lat)+" lng:"+t._s(t.poste.lng))])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-form",{on:{submit:t.regmatto}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-md-6"},[e("b",[t._v("Nombre: ")]),t._v(t._s(t.persona.nombre)+"\n              ")]),e("div",{staticClass:"col-xs-12 col-md-3"},[e("b",[t._v("CI: ")]),t._v(" "+t._s(t.persona.ci)+"\n              ")]),e("div",{staticClass:"col-xs-12 col-md-3"},[e("b",[t._v("Telefono: ")]),t._v(t._s(t.persona.telefono)+"\n              ")]),e("div",{staticClass:"col-xs-9"},[e("b",[t._v("Reclamo: ")]),t._v(t._s(t.punto.reclamo)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Fecha Hora:")]),t._v(" "+t._s(t.punto.fecha)+" "+t._s(t.punto.hora)+"\n              ")])]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Luminaria: ")]),t._v(" "+t._s(t.poste.luminaria)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Material: ")]),t._v(t._s(t.poste.material)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Altura: ")]),t._v(t._s(t.poste.altura)+"\n              ")]),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Potencia: ")]),t._v(t._s(t.poste.potencia)+"\n              ")]),e("div",{staticClass:"col-md-12"},[e("b",[t._v("Observacion: ")]),t._v(t._s(t.poste.observacion)+"\n              ")])]),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{label:"Generar Ruta",color:"primary",icon:"map",type:"a",target:"_blank",href:"https://www.google.com.bo/maps/place/"+t.poste.lat+","+t.poste.lng+"/@"+t.poste.lat+","+t.poste.lng+",17z/data=!3m1!4b1!4m6!3m5!1s0x0:0xeda9371aeb8c1574!7e2!8m2!3d-17.981432!4d-67.1061122?hl=es"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{required:"",dense:"",outlined:"",type:"textarea",label:"Actividad"},model:{value:t.punto.actividad,callback:function(e){t.$set(t.punto,"actividad",e)},expression:"punto.actividad"}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",options:t.listMaterial,label:"Materiales",outlined:""},on:{input:function(e){return t.buscar()}},model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",options:t.codigos,label:"Codigo",outlined:""},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Disponible:")]),t._v(t._s(t.codigo.saldo)+"\n                ")]),e("div",{staticClass:"col-md-2 col-xs-4"},[e("q-input",{attrs:{type:"number",label:"Cantidad",required:"",outlined:"",dense:""},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),e("div",{staticClass:"col-md-1 col-xs-2 q-pa-xs"},[e("q-btn",{attrs:{color:"green",icon:"add_circle",dense:""},on:{click:t.agregar}})],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"DETALLE",data:t.detalle,columns:t.coldetalle,"row-key":"name",dense:""},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"red",icon:"delete",size:"xs",round:""},on:{click:function(e){return t.delDetalle(a.rowIndex)}}})],1)]}}])})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha Man"},model:{value:t.punto.fechaman,callback:function(e){t.$set(t.punto,"fechaman",e)},expression:"punto.fechaman"}})],1),e("div",{staticClass:"col-md-6 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"time",label:"Hora Man"},model:{value:t.punto.horaman,callback:function(e){t.$set(t.punto,"horaman",e)},expression:"punto.horaman"}})],1),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Realizar mantenimiento",color:"positive",icon:"construction"}})],1)])])],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},Ae=[];const Ee=a("d055");var Oe={data(){return{modalpunto:!1,styleMap:!0,personas:[],detalle:[],material:{},codigo:{},codigos:[],lat:0,lng:0,fechaplan:P["a"].formatDate(new Date,"YYYY-MM-DD"),filter:"",url:"https://electrica.gamo.cf/#/consulta",poste:{},persona:{},per:{label:""},qrImage2:"",cantidad:1,qrImage:"",colums:[{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"nombre",label:"nombre",field:"nombre"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],coldetalle:[{label:"OP",field:"opcion",name:"opcion"},{label:"MATERIAL",field:"material",name:"material"},{label:"CODIGO",field:t=>t.inventario.codigo,name:"codigo"},{label:"CANT",field:"uso",name:"uso"}],puntos:[],puntostabla:[],listMaterial:[],punto:{},attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:13,center:{lat:-17.97031,lng:-67.11178},markerLatLng:[-17.97031,-67.11178],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}},opts2:{errorCorrectionLevel:"M",type:"png",quality:.95,width:50,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.mispuntos(),this.cargarMaterial()},methods:{async geolocate(){this.ubicacion=[0,0],console.log(navigator.geolocation),navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{this.zoom=18,this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion}))},listPersona(){this.personas=[],this.$axios.get("listPerReclamo").then((t=>{console.log(t.data),t.data.forEach((t=>{t.label=t.nombre,this.personas.push(t)}))}))},listReclamos(){if(void 0==this.per.id||""==this.per.id)return!1;this.$axios.get("listAtencion2/"+this.per.id).then((t=>{this.$q.loading.show(),this.puntos=[],t.data.forEach((t=>{null==t.poste.nroposte&&(t.poste.nroposte=""),t.lat=t.poste.lat,t.lng=t.poste.lng,t.fechaman=P["a"].formatDate(new Date,"YYYY-MM-DD"),t.horaman=P["a"].formatDate(new Date,"HH:mm"),this.puntos.push(t)})),this.$q.loading.hide()}))},regmatto(){this.$axios.post("reclamofin",{punto:this.punto,detalle:this.detalle}).then((t=>{console.log(t.data),this.modalpunto=!1,this.mispuntos(),this.cargarMaterial()}))},delDetalle(t){this.detalle.splice(t,1),this.llenarActividad},agregar(){if(void 0==this.cantidad||""==this.cantidad||this.cantidad<=0)return this.cantidad=1,!1;this.cantidad>this.codigo.saldo&&(this.cantidad=this.codigo.saldo),this.detalle.find((t=>t.id===this.codigo.id))||(this.codigo.uso=this.cantidad,this.detalle.push(this.codigo),this.llenarActividad())},llenarActividad(){let t="Cambio o instalacion materiales: ";0==this.detalle.length&&(t=""),this.detalle.forEach((e=>{t+=" "+e.material+" Cod: "+e.inventario.codigo+", "})),this.punto.actividad=t},buscar(){this.codigos=this.material.lista,this.codigo=this.material.lista[0],this.cantidad=1},cargarMaterial(){this.$axios.post("disponible").then((t=>{t.data.forEach((t=>{t.label=t.inventario.codigo;let e=this.listMaterial.find((e=>e.id===t.material_id));e?e.lista.push(t):this.listMaterial.push({id:t.material_id,label:t.material,lista:[t]})})),console.log(this.listMaterial),this.listMaterial.length>0?(this.material=this.listMaterial[0],this.codigo=this.material.lista[0],this.codigos=this.material.lista,this.cantidad=1):(this.material={label:""},this.codigo={label:""},this.cantidad=0)}))},async printReclamo(t){this.qrImage2=await Ee.toDataURL(""+t.persona.ci,this.opts2),this.qrImage=await Ee.toDataURL(this.url+"/"+t.persona.ci,this.opts);let e="<style>      .titulo{      font-size: 10px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      font-weight: bold;      text-align: center;      }            .titulo3{      font-size: 9px;      text-align: center;      width:70%;      }            .contenido{      font-size: 9px;      text-align: left;      }      .conte2{      font-size: 9px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 10px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='background-image:url(logo3.png);background-repeat: no-repeat; background-size: 30px 60px;'>      <div class='titulo2' >        GOBIERNO AUTONOMO MUNICIPAL DE ORURO<br>        UNIDAD DE ALUMBRADO PUBLICO <br>Y SERVICIOS ELECTRICOS<br>        Reclamo Nro: "+t.id+"<br>        Oruro      </div>      <hr>      <table><tr><td>      <table>        <tr><td class='titder'>FECHA REGISTRO:</td><td class='contenido'>"+t.fecha+"</td></tr>        <tr><td class='titder'>CI:</td><td class='contenido'>"+t.persona.ci+"</td></tr>        <tr><td class='titder'>NOMBRE:</td><td class='contenido'>"+t.persona.nombre+"</td></tr>        <tr><td class='titder'>TELEFONO:</td><td class='contenido'>"+t.persona.telefono+"</td></tr>      </table></<td>       <td>        <div style='display: flex;justify-content: center;'>        <img src="+this.qrImage2+" >        </div>      </td></tr></table>      <hr>      <div class='titulo'>DETALLE RECLAMO</div>      <div  class='contenido'>"+t.reclamo+"</div>      <div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>      </div>            ";document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))},regActividad(){this.punto.actividad="",""!=this.punto.l70&&void 0!=this.punto.l70&&null!=this.punto.l70&&(this.punto.actividad+="LAMPARA 70W COD "+this.punto.l70+","),""!=this.punto.l150&&void 0!=this.punto.l150&&null!=this.punto.l150&&(this.punto.actividad+="LAMPARA 150W COD "+this.punto.l150+","),""!=this.punto.l250&&void 0!=this.punto.l250&&null!=this.punto.l250&&(this.punto.actividad+="LAMPARA 250W COD "+this.punto.l250+","),""!=this.punto.r70&&void 0!=this.punto.r70&&null!=this.punto.r70&&(this.punto.actividad+=" REACTOR 70W COD "+this.punto.r70+","),""!=this.punto.r150&&void 0!=this.punto.r150&&null!=this.punto.r150&&(this.punto.actividad+=" REACTOR 150W COD "+this.punto.r150+","),""!=this.punto.r250&&void 0!=this.punto.r250&&null!=this.punto.r250&&(this.punto.actividad+=" REACTOR 250W COD "+this.punto.r250+","),""!=this.punto.foto&&void 0!=this.punto.foto&&null!=this.punto.foto&&(this.punto.actividad+=" FOTOCELULA FOTO  "+this.punto.foto+","),""!=this.punto.base&&void 0!=this.punto.base&&null!=this.punto.base&&(this.punto.actividad+=" FOTOCELULA BASE  "+this.punto.base+","),""!=this.punto.ignitor&&void 0!=this.punto.ignitor&&null!=this.punto.ignitor&&(this.punto.actividad+=" IGNITOR COD "+this.punto.ignitor+","),""!=this.punto.cable&&void 0!=this.punto.cable&&null!=this.punto.cable&&(this.punto.actividad+=" CABLE M/L "+this.punto.cable+","),""!=this.punto.contactor&&void 0!=this.punto.contactor&&null!=this.punto.contactor&&"NO"!=this.punto.contactor&&(this.punto.actividad+=" SI CONTACTOR,"),""!=this.punto.termico&&void 0!=this.punto.termico&&null!=this.punto.termico&&"NO"!=this.punto.termico&&(this.punto.actividad+=" SI TERMICO,"),""!=this.punto.soquet&&void 0!=this.punto.soquet&&null!=this.punto.soquet&&(this.punto.actividad+=" soquet COD "+this.punto.soquet+",")},updatedenuncia(){this.$q.loading.show(),this.punto.supervisor=this.$store.state.login.user.name,this.punto.estado="ATENDIDO",void 0!=this.fechaplan&&""!=this.fechaplan&&(this.punto.fechaplan=this.fechaplan),this.modalpunto=!1,this.$axios.put("reclamo/"+this.punto.id,this.punto).then((t=>{console.log(t.data),this.mispuntos(),this.fechaplan=P["a"].formatDate(new Date,"YYYY-MM-DD")}))},frmmodalpunto(t){console.log(t),this.modalpunto=!0,this.punto=t,this.detalle=[],this.persona=t.persona,this.poste=t.poste},clickclientes(t){this.center={lat:t.lat,lng:t.lng},this.zoom=18},centro(){this.center=[-17.97031,-67.11178],this.zoom=13},mispuntos(){this.$q.loading.show(),this.$axios.get("listAtencion").then((t=>{this.puntos=[],t.data.forEach((t=>{null==t.poste.nroposte&&(t.poste.nroposte=""),t.lat=t.poste.lat,t.lng=t.poste.lng,t.fechaman=P["a"].formatDate(new Date,"YYYY-MM-DD"),t.horaman=P["a"].formatDate(new Date,"HH:mm"),this.puntos.push(t)})),this.listPersona(),this.$q.loading.hide(),console.log(this.puntos)}))}}},Ie=Oe,Re=Object(f["a"])(Ie,De,Ae,!1,null,null,null),Te=Re.exports;at()(Re,"components",{QPage:Y["a"],QBtn:B["a"],QTable:V["a"],QTd:H["a"],QInput:G["a"],QIcon:Z["a"],QSelect:tt["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"]});var $e=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Nuevo usuario",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO DE NUEVO USUARIO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("q-input",{attrs:{filled:"",type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.name,callback:function(e){t.$set(t.dato,"name",e)},expression:"dato.name"}}),e("q-input",{attrs:{filled:"",type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.email,callback:function(e){t.$set(t.dato,"email",e)},expression:"dato.email"}}),e("q-input",{attrs:{filled:"",type:"password",label:"Contraseña",hint:"Contraseña","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.password,callback:function(e){t.$set(t.dato,"password",e)},expression:"dato.password"}})],1),e("div",{staticClass:"col-6"},[e("div",{staticClass:"text-5"},[t._v("Permisos")]),t._l(t.permisos,(function(a,o){return e("q-checkbox",{key:o,staticStyle:{width:"100%"},attrs:{label:a.nombre},model:{value:a.estado,callback:function(e){t.$set(a,"estado",e)},expression:"permiso.estado"}})}))],2)]),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("q-table",{attrs:{filter:t.filter,title:"REGISTRO DE USUARIOS",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(a){return[e("q-tr",{attrs:{props:a}},[e("q-td",{key:"name",attrs:{props:a}},[t._v("\n          "+t._s(a.row.name)+"\n        ")]),e("q-td",{key:"email",attrs:{props:a}},[t._v("\n          "+t._s(a.row.email)+"\n        ")]),e("q-td",{key:"permisos",attrs:{props:a}},[e("ul",t._l(a.row.permisos,(function(a,o){return e("li",{key:o},[t._v(t._s(a.nombre))])})),0)]),e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"positive",icon:"vpn_key"},on:{click:function(e){return t.cambiopass(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"green-10",icon:"post_add"},on:{click:function(e){return t.mispermisos(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)],1)]}}])}),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR DATOS DE USUARIO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("q-input",{attrs:{filled:"",type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.name,callback:function(e){t.$set(t.dato2,"name",e)},expression:"dato2.name"}}),e("q-input",{attrs:{filled:"",type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[t=>t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.email,callback:function(e){t.$set(t.dato2,"email",e)},expression:"dato2.email"}}),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.modelpermiso,callback:function(e){t.modelpermiso=e},expression:"modelpermiso"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("q-card-section",{staticClass:"bg-info"},[e("div",{staticClass:"text-h7 text-white"},[e("q-icon",{attrs:{name:"folder"}}),t._v(" PERMISOS DE ACCESO")],1)]),e("q-card-section",[e("q-form",{on:{submit:function(e){return e.preventDefault(),t.updatepermisos.apply(null,arguments)}}},[t._l(t.permisos2,(function(a,o){return e("q-checkbox",{key:o,staticStyle:{width:"100%"},attrs:{label:a.nombre},model:{value:a.estado,callback:function(e){t.$set(a,"estado",e)},expression:"permiso.estado"}})})),e("q-btn",{attrs:{type:"submit",color:"info",icon:"send",label:"Actualizar"}})],2)],1)],1)],1)],1)},Se=[];const{addToDate:Ne}=P["a"];var Me={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],modelpermiso:!1,uni:{},columns:[{name:"name",align:"left",label:"NOMBRE ",field:"name",sortable:!0},{name:"email",align:"left",label:"E-MAIL",field:"email",sortable:!0},{name:"permisos",align:"left",label:"PERMISOS",field:"permisos",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.$store.state.login.boolusuario||this.$router.replace({path:"/home"}),this.misdatos(),this.$axios.get("permiso").then((t=>{t.data.forEach((t=>{this.permisos.push({id:t.id,nombre:t.nombre,estado:!1}),this.permisos2.push({id:t.id,nombre:t.nombre,estado:!1})}))}))},methods:{updatepermisos(){this.$axios.put("updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((t=>{this.modelpermiso=!1,this.misdatos()})).catch((t=>{this.$q.notify({message:t.response.data.message,icon:"close",color:"red"})}))},mispermisos(t){let e;this.modelpermiso=!0,this.dato2=t.row,this.permisos2.forEach((t=>{e=this.dato2.permisos.find((e=>e.pivot.permiso_id==t.id)),t.estado=void 0!=e}))},misdatos(){this.$q.loading.show(),this.$axios.get("user").then((t=>{console.log(t.data),this.data=t.data,this.$q.loading.hide()}))},editRow(t){this.dato2=t.row,this.dato2.unid_id=t.row.unid,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("user",{name:this.dato.name,password:this.dato.password,email:this.dato.email,permisos:this.permisos}).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={},this.alert=!1,this.misdatos()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("user/"+this.dato2.id,{name:this.dato2.name,email:this.dato2.email}).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("user/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass(t){this.$q.dialog({title:"CAMBIAR PASSWORD",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((e=>{this.$q.loading.show(),this.$axios.put("updatePassword/"+t.row.id,{password:e}).then((t=>{this.$q.loading.hide()}))})).onCancel((()=>{})).onDismiss((()=>{}))}}},je=Me,Le=a("8f8e"),Pe=a("bd08"),Qe=a("cb32"),ze=Object(f["a"])(je,$e,Se,!1,null,null,null),Fe=ze.exports;at()(ze,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QCheckbox:Le["a"],QTable:V["a"],QTr:Pe["a"],QTd:H["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(ze,"directives",{ClosePopup:pt["a"]});var Ue=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Nuevo Tecnico",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO DE NUEVO TECNICO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("q-input",{attrs:{filled:"",type:"text",label:"CI ",hint:"Ingresar ci","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.ci,callback:function(e){t.$set(t.dato,"ci",e)},expression:"dato.ci"}}),e("q-input",{attrs:{filled:"",type:"text",label:"Nombre",hint:"nombre completo","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.nombre,callback:function(e){t.$set(t.dato,"nombre",e)},expression:"dato.nombre"}}),e("q-input",{attrs:{filled:"",label:"Cel / Tel",hint:"numero de contacto"},model:{value:t.dato.telefono,callback:function(e){t.$set(t.dato,"telefono",e)},expression:"dato.telefono"}}),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-table",{attrs:{filter:t.filter,title:"LISTA DE TECNICOS",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)]}}])}),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR DATOS TECNICO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("q-input",{attrs:{filled:"",label:"ci ",hint:"Ingresar ci","lazy-rules":"",rules:[t=>t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.ci,callback:function(e){t.$set(t.dato2,"ci",e)},expression:"dato2.ci"}}),e("q-input",{attrs:{filled:"",label:"Nombre",hint:"Nombre","lazy-rules":"",rules:[t=>t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.nombre,callback:function(e){t.$set(t.dato2,"nombre",e)},expression:"dato2.nombre"}}),e("q-input",{attrs:{filled:"",label:"Tel Cel",hint:"Celular"},model:{value:t.dato2.telefono,callback:function(e){t.$set(t.dato2,"telefono",e)},expression:"dato2.telefono"}}),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},Ye=[];const{addToDate:Be}=P["a"];var Ve={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{},model:"",dato2:{},options:[],props:[],modelpermiso:!1,uni:{},columns:[{name:"ci",align:"left",label:"CI ",field:"ci",sortable:!0},{name:"nombre",align:"left",label:"NOMBRE ",field:"nombre",sortable:!0},{name:"telefono",align:"left",label:"TELEFONO",field:"telefono",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"opcion",sortable:!1}],data:[]}},created(){this.misdatos()},methods:{misdatos(){this.$q.loading.show(),this.$axios.get("tecnico").then((t=>{console.log(t.data),this.data=t.data,this.$q.loading.hide()}))},editRow(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("tecnico",this.dato).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={},this.alert=!1,this.misdatos()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("tecnico/"+this.dato2.id,this.dato2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("tecnico/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre="",this.dato.telefono="",this.dato.ci=""}}},He=Ve,Ge=Object(f["a"])(He,Ue,Ye,!1,null,null,null),Ze=Ge.exports;at()(Ge,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QTable:V["a"],QTd:H["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(Ge,"directives",{ClosePopup:pt["a"]});var Je=function(){var t=this,e=t._self._c;return e("q-page",[e("q-dialog",{attrs:{"full-width":""},model:{value:t.dialogRegistro,callback:function(e){t.dialogRegistro=e},expression:"dialogRegistro"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("REGISTRO DE ALUMBRADO ")])]),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.regPoste.apply(null,arguments)}}},[e("q-card-section",{staticClass:"q-pt-none"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"latitud"},model:{value:t.punto.lat,callback:function(e){t.$set(t.punto,"lat",e)},expression:"punto.lat"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"longitud"},model:{value:t.punto.lng,callback:function(e){t.$set(t.punto,"lng",e)},expression:"punto.lng"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Nro Poste",required:""},model:{value:t.punto.nroposte,callback:function(e){t.$set(t.punto,"nroposte",e)},expression:"punto.nroposte"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",outlined:"",label:"Potencia",options:t.potencias},on:{change:function(e){return t.cargarcolor()}},model:{value:t.punto.potencia,callback:function(e){t.$set(t.punto,"potencia",e)},expression:"punto.potencia"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",outlined:"",label:"Material",options:["Madera","Metalico","Cemento","Empotrado","Ornamental","Cigarro","Riel","Colgado","Otro"]},model:{value:t.punto.material,callback:function(e){t.$set(t.punto,"material",e)},expression:"punto.material"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Luminaria",required:""},model:{value:t.punto.luminaria,callback:function(e){t.$set(t.punto,"luminaria",e)},expression:"punto.luminaria"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Cant Luminarias",type:"number",required:""},model:{value:t.punto.cantidad,callback:function(e){t.$set(t.punto,"cantidad",e)},expression:"punto.cantidad"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Altura",type:"number",required:""},model:{value:t.punto.altura,callback:function(e){t.$set(t.punto,"altura",e)},expression:"punto.altura"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",outlined:"",label:"Distrito",options:["D1","D2","D3","D4","D5"],required:""},model:{value:t.punto.distrito,callback:function(e){t.$set(t.punto,"distrito",e)},expression:"punto.distrito"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Observacion",required:""},model:{value:t.punto.observacion,callback:function(e){t.$set(t.punto,"observacion",e)},expression:"punto.observacion"}})],1)])]),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Registrar",color:"accent",type:"submit"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"cerrar",color:"green"}})],1)],1)],1)],1),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.punto.nroposte)+" ")])]),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.updatePoste.apply(null,arguments)}}},[e("q-card-section",{staticClass:"q-pt-none"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"latitud"},model:{value:t.punto.lat,callback:function(e){t.$set(t.punto,"lat",e)},expression:"punto.lat"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"longitud"},model:{value:t.punto.lng,callback:function(e){t.$set(t.punto,"lng",e)},expression:"punto.lng"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Nro Poste",required:""},model:{value:t.punto.nroposte,callback:function(e){t.$set(t.punto,"nroposte",e)},expression:"punto.nroposte"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",outlined:"",label:"Potencia",options:t.potencias},nativeOn:{change:function(e){return t.cargarcolor.apply(null,arguments)}},model:{value:t.punto.potencia,callback:function(e){t.$set(t.punto,"potencia",e)},expression:"punto.potencia"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",outlined:"",label:"Material",options:["Madera","Metalico","Cemento","Empotrado","Ornamental","Cigarro","Riel","Colgado","Otro"]},model:{value:t.punto.material,callback:function(e){t.$set(t.punto,"material",e)},expression:"punto.material"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Luminaria",required:""},model:{value:t.punto.luminaria,callback:function(e){t.$set(t.punto,"luminaria",e)},expression:"punto.luminaria"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Cant Luminarias",type:"number",required:""},model:{value:t.punto.cantidad,callback:function(e){t.$set(t.punto,"cantidad",e)},expression:"punto.cantidad"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Altura",type:"number",required:""},model:{value:t.punto.altura,callback:function(e){t.$set(t.punto,"altura",e)},expression:"punto.altura"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",outlined:"",label:"Distrito",options:["D1","D2","D3","D4","D5"],required:""},model:{value:t.punto.distrito,callback:function(e){t.$set(t.punto,"distrito",e)},expression:"punto.distrito"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Observacion"},model:{value:t.punto.observacion,callback:function(e){t.$set(t.punto,"observacion",e)},expression:"punto.observacion"}})],1)])]),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Actualizar",color:"accent",type:"submit"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"cerrar",color:"green"}})],1)],1)],1)],1),e("div",{staticClass:"row col-12"},[e("div",{staticClass:"col-md-3 col-xs-8"},[e("q-select",{attrs:{dense:"",options:t.distritos,label:"Distritos",ourlined:""},model:{value:t.distrito,callback:function(e){t.distrito=e},expression:"distrito"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"green",icon:"search"},on:{click:t.mispuntos}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"teal",icon:"add_circle_outline"},on:{click:function(e){t.punto={},t.dialogRegistro=!0}}})],1),e("div",{staticClass:"col-md-3 col-xs-10"},[e("q-input",{attrs:{dense:"",outlined:"",type:"text",label:"Numero Poste"},model:{value:t.numeroposte,callback:function(e){t.numeroposte=e},expression:"numeroposte"}})],1),e("div",{staticClass:"col-1"},[e("q-btn",{attrs:{color:"info",icon:"place"},on:{click:t.searchPlace}})],1)]),e("div",{staticClass:"col-12"},[e("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center},on:{click:t.cargarpunto}},[e("l-tile-layer",{attrs:{url:t.styleMap?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}","layer-type":"base",name:"OpenStreetMap",attribution:t.attribution,options:{maxNativeZoom:18,maxZoom:20}}}),e("l-marker",{attrs:{"lat-lng":[t.lat,t.lng],draggable:"",title:"Usted esta Aqui"},on:{moveend:t.updateCoordinates,click:function(e){return t.registropunto()}}},[e("l-icon",{attrs:{"icon-url":"http://maps.google.com/mapfiles/ms/icons/purple-pushpin.png"}})],1),t._l(t.datos,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){t.center=[a.lat,a.lng],t.punto=a,t.modalpunto=!0}}},[e("l-icon",[e("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"img/"+a.color}}),e("div",{staticClass:"headline"},[t._v("\n            "+t._s(a.nroposte)+"\n          ")])])],1)})),e("l-control",{attrs:{position:"topright"}},[e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"my_location",dense:"",round:""},on:{click:t.geolocate}}),e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"map",dense:"",round:""},on:{click:function(e){t.styleMap=!t.styleMap}}})],1)],2)],1),e("q-table",{attrs:{data:t.datos,columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-potencia",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n          "+t._s(a.row.potencia)+"\n        ")])]}},{key:"body-cell-nroposte",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n          "+t._s(a.row.nroposte)+"\n        ")])]}},{key:"body-cell-material",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[e("div",{staticClass:"text-subtitle2",staticStyle:{"font-size":"0.8em","white-space":"initial"}},[t._v(t._s(a.row.material))])])]}},{key:"body-cell-observacion",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[e("div",{staticClass:"text-subtitle2",staticStyle:{"font-size":"0.8em","white-space":"initial"}},[t._v(t._s(a.row.observacion))])])]}},{key:"body-cell-ubicacion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"ACTIVO"==a.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(e){return t.clickclientes(a.row)}}})],1)]}}])})],1)},We=[],Xe={data(){return{datos:[],numeroposte:"",styleMap:!0,lat:0,lng:0,dialogRegistro:!1,potencia:"",mantenimiento:"",distritos:[{label:"Distrito 1",value:"D1"},{label:"Distrito 1 Ext",value:"D1 EXT"},{label:"Distrito 2",value:"D2"},{label:"Distrito 2 Ext",value:"D2 EXT"},{label:"Distrito 3",value:"D3"},{label:"Distrito 3 Ext",value:"D3 EXT"},{label:"Distrito 4",value:"D4"},{label:"Distrito 4 Ext",value:"D4 EXT"},{label:"Distrito 5",value:"D5"},{label:"Distrito 5 Ext",value:"D5 EXT"}],distrito:{label:"Distrito 1",value:"D1"},modalpunto:!1,kmlLayers:[{url:"colegio.kml"}],postes:[],d1:[],d1e:[],d2:[],d2e:[],d3:[],d3e:[],d4:[],d4e:[],d5:[],d5e:[],colors:[],potencias:["1000w","600w","400w","360w","300w","250w","240w","200w","196w","150w","144w","136w","125w","120w","100w","85w","75w","70w","60w","58w","50w","40w","38w","36w","30w","20w","24w","18w","15w","12w","10w","0"],poten:[{potencia:"1000w",colores:"l1000.png"},{potencia:"600w",colores:"l600.png"},{potencia:"400w",colores:"l400.png"},{potencia:"360w",colores:"l360.png"},{"potenci  a":"300w",colores:"l300.png"},{potencia:"250w",colores:"l250.png"},{potencia:"240w",colores:"l240.png"},{potencia:"200w",colores:"l200.png"},{potencia:"196w",colores:"l196.png"},{potencia:"150w",colores:"l150.png"},{potencia:"144w",colores:"l144.png"},{potencia:"136w",colores:"l136.png"},{potencia:"125w",colores:"l125.png"},{potencia:"120w",colores:"l120.png"},{potencia:"100w",colores:"l100.png"},{potencia:"85w",colores:"l85.png"},{potencia:"75w",colores:"l75.png"},{potencia:"70w",colores:"l70.png"},{potencia:"60w",colores:"l60.png"},{potencia:"58w",colores:"l58.png"},{potencia:"50w",colores:"l50.png"},{potencia:"40w",colores:"l40.png"},{potencia:"38w",colores:"l38.png"},{potencia:"36w",colores:"l36.png"},{potencia:"30w",colores:"l30.png"},{potencia:"20w",colores:"l20.png"},{potencia:"24w",colores:"l24.png"},{potencia:"18w",colores:"l18.png"},{potencia:"15w",colores:"l15.png"},{potencia:"12w",colores:"l12.png"},{potencia:"10w",colores:"l10.png"},{potencia:"0",colores:"sn.png"}],estado:"ACTIVO",filter:"",colums:[{name:"id",label:"id",field:"id"},{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"potencia",label:"potencia",field:"potencia"},{name:"material",label:"material",field:"material"},{name:"observacion",label:"observacion",field:"observacion"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],puntos:[],map:null,punto:{},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:16,center:{lat:-17.97031,lng:-67.11178},markerLatLng:[-17.97031,-67.11178],ubicacion:{lat:-17.97031,lng:-67.11178},marker:{}}},created(){this.geolocate()},methods:{async geolocate(){this.ubicacion=[0,0],console.log(navigator.geolocation),navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.zoom=18,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion,this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))}))},searchPlace(){if(""==this.numeroposte||void 0==this.numeroposte)return this.datos=[],!1;this.datos=[],this.$axios.get("buscarPoste/"+this.numeroposte).then((t=>{console.log(t.data),this.datos=t.data}))},cargarpunto(t){console.log(t.latlng),this.lat=t.latlng.lat,this.lng=t.latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},handleMarkerDrag(t){this.ubicacion={lat:t.latLng.lat(),lng:t.latLng.lng()}},updateCoordinates(t){console.log(t.target._latlng),this.lat=t.target._latlng.lat,this.lng=t.target._latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion},registropunto(){this.punto={},this.punto.lat=this.lat.toFixed(10),this.punto.lng=this.lng.toFixed(10),this.dialogRegistro=!0},verpuntos(){console.log("dblcl"),this.$axios.post("calcularArea",{lat:this.lat,lng:this.lng,distancia:200}).then((t=>{console.log(t.data),this.datos=t.data}))},cargarcolor(){console.log("sdfds"),""==this.punto.potencia&&(this.punto.color=[]),this.poten.forEach((t=>{t.potencia==this.punto.potencia&&(this.punto.color=t.colores)}))},regPoste(){const t=/[-]?[0-9]+[.,][0-9]*/i;return!t.test(this.punto.lat)||isNaN(this.punto.lat)?(this.$q.notify({icon:"info",message:"Error Lat ",color:"red"}),!1):!t.test(this.punto.lng)||isNaN(this.punto.lng)?(this.$q.notify({icon:"info",message:"Error lng ",color:"red"}),!1):(this.poten.forEach((t=>{t.potencia==this.punto.potencia&&(this.punto.color=t.colores)})),console.log(this.punto),this.$q.loading.show(),void this.$axios.post("poste",this.punto).then((t=>{this.dialogRegistro=!1,this.$q.notify({icon:"info",message:"Punto registrado ",color:"green"}),this.punto={},this.$q.loading.hide(),this.mispuntos})))},updatePoste(){console.log(this.punto);const t=/[-]?[0-9]+[.,][0-9]*/i;return!t.test(this.punto.lat)||isNaN(this.punto.lat)?(this.$q.notify({icon:"info",message:"Error Lat ",color:"red"}),!1):!t.test(this.punto.lng)||isNaN(this.punto.lng)?(this.$q.notify({icon:"info",message:"Error lng ",color:"red"}),!1):(this.poten.forEach((t=>{t.potencia==this.punto.potencia&&(this.punto.color=t.colores)})),void this.$axios.post("upPoste",this.punto).then((t=>{this.modalpunto=!1})))},async onClick(){switch(console.log(this.distrito.value),this.distrito.value){case"D1":this.datos=this.d1;break;case"D1 EXT":this.datos=this.d1e;break;case"D2":this.datos=this.d2;break;case"D2 EXT":this.datos=this.d2e;break;case"D3":this.datos=this.d3;break;case"D3 EXT":this.datos=this.d3e;break;case"D4":this.datos=this.d4;break;case"D4 EXT":this.datos=this.d4e;break;case"D5":this.datos=this.d5;break;case"D5 EXT":this.datos=this.d5e;break;default:this.datos=[];break}},frmmodalpunto(t){this.modalpunto=!0,this.punto=t},clickclientes(t){this.center=[t.lat,t.lng],this.zoom=18},cambioestado(){console.log(this.punto),this.$axios.put("poste/"+this.punto.id,this.punto)},mispuntos(){this.postes=[],this.puntos=[],this.$q.loading.show(),this.$axios.post("listaposte",{distrito:this.distrito.value}).then((t=>{this.datos=t.data,this.$q.loading.hide(),console.log(this.puntos)}))}}},Ke=Xe,ta=Object(f["a"])(Ke,Je,We,!1,null,null,null),ea=ta.exports;at()(ta,"components",{QPage:Y["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QInput:G["a"],QSelect:tt["a"],QCardActions:ut["a"],QBtn:B["a"],QTable:V["a"],QIcon:Z["a"],QTd:H["a"]}),at()(ta,"directives",{ClosePopup:pt["a"]});var aa=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-xs"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-card",[e("q-card-section",{staticClass:"bg-green text-white text-center text-subtitle2"},[t._v("Reporte de denuncias")]),e("q-card-section",[e("q-form",{on:{submit:function(e){return e.preventDefault(),t.reporte2.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-3"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha inicio",type:"date",required:""},model:{value:t.fecha1,callback:function(e){t.fecha1=e},expression:"fecha1"}})],1),e("div",{staticClass:"col-12 col-sm-3"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha fin",type:"date",required:""},model:{value:t.fecha2,callback:function(e){t.fecha2=e},expression:"fecha2"}})],1),e("div",{staticClass:"col-12 col-sm-3"},[e("q-select",{attrs:{outlined:"",dense:"",label:"Usuario",options:t.users,"use-input":""},on:{filter:t.filterUs},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),e("div",{staticClass:"col-12 col-sm-3 flex flex-center"},[e("q-btn",{staticClass:"full-width full-height",attrs:{type:"submit",label:"Generar reporte",color:"positive",icon:"print"}})],1)])])],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"Denuncias",data:t.misdenuncias,color:"primary","row-key":"name",columns:t.columns},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-btn",{attrs:{color:"primary","icon-right":"archive",label:"Exportar PDF"},on:{click:t.exportPdf}})]},proxy:!0}])})],1)]),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})])},oa=[],ia={name:"Reportedenuncia",data(){return{fecha1:P["a"].formatDate(new Date,"YYYY-MM-DD"),fecha2:P["a"].formatDate(new Date,"YYYY-MM-DD"),misdenuncias:[],cadena:"",users:[{lable:"TODOS",id:0}],user:{},filtUser:[],columns:[{name:"actividad",field:"actividad",label:"ACTIVIDAD"},{name:"estado",field:"estado",label:"ESTADO"},{name:"tipo",field:"tipo",label:"TIPO"},{name:"fechaman",field:"fechaman",label:"FECHA MAN"},{name:"horaman",field:"horaman",label:"HORA MAN"},{name:"tecnico",field:"tecnico",label:"TECNICO"},{name:"nroposte",field:t=>t.poste.nroposte,label:"NRO POSTE"},{name:"reclamo",field:"reclamo",label:"RECLAMO"},{name:"fecha",field:"fecha",label:"FECHA"},{name:"ci",field:t=>void 0==t.persona?"":t.persona.ci,label:"CI"},{name:"nombre",field:t=>void 0==t.persona?"":t.persona.nombre,label:"NOMBRE"},{name:"telefono",field:t=>void 0==t.persona?"":t.persona.telefono,label:"TELEFONO"}]}},created(){this.$store.state.login.boolreporte||this.$router.replace({path:"/home"}),this.getUsers()},methods:{filterUs(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.users=this.filtUser.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.users=this.filtUser})},getUsers(){this.users=[{label:"TODOS",id:0}],this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name,this.users.push(t)})),this.filtUser=this.users,this.user={label:""}}))},reporte2(){if(void 0==this.user.id)return!1;this.cadena="",this.$axios.post("reporteReclamo",{ini:this.fecha1,fin:this.fecha2,id:this.user.id}).then((t=>{console.log(t.data),this.misdenuncias=t.data}))},exportPdf(){if(this.misdenuncias.length>0){this.cadena="<style>          .fuente{font-size:10px}          table{width:100%; border-collapse: collapse;}          table, th, td {  border: 1px solid;}          titulo{font-weight: bold; font-size:16px; text-align: center;}          </style>          <div class='fuente'>            <table style='border:0;'><tr><td style='border:0;width:20%;'><img src='logo.jpg' style='width:50px; height:50px;'/></td>               <td class='titulo' style='border:0;'> RESUMEN DE MTTOs y ATENCION RECLAMOS DEL "+this.fecha1+" AL "+this.fecha2+" Usuario: "+this.user.label+"</td>               </tr>            </table>            <table>            <thead><tr><th>N</th><th>FECHA</th><th>N POSTE</th><th>ESTADO</th><th>CONTRIBUYENTE</th><th>CI/RUN</th><th>HORA</th><th>OPERADOR</th><th>FECHA MAN</th><th>ACTIVIDAD</th></tr></thead>          <tbody>";let t=0;this.misdenuncias.forEach((e=>{t++,null==e.tecnico&&(e.tecnico=""),null==e.fechaman&&(e.fechaman=""),null==e.actividad&&(e.actividad=""),void 0==e.persona&&(e.persona={nombre:"",ci:"",telefono:""}),this.cadena+="<tr>              <td>"+t+"</td>              <td>"+e.fecha+"</td>              <td>"+e.poste.nroposte+"</td>              <td>"+e.estado+"</td>              <td>"+e.persona.nombre+"</td>              <td>"+e.persona.ci+"</td>              <td>"+e.hora+"</td>              <td>"+e.tecnico+"</td>              <td>"+e.fechaman+"</td>              <td>"+e.actividad+"</td>              </tr>"})),this.cadena+="</tbody></table></div>",document.getElementById("myelement").innerHTML=this.cadena;const e=new Q["Printd"];e.print(document.getElementById("myelement"))}}}},sa=ia,la=Object(f["a"])(sa,aa,oa,!1,null,"96eb0096",null),na=la.exports;at()(la,"components",{QPage:Y["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QInput:G["a"],QSelect:tt["a"],QBtn:B["a"],QTable:V["a"]});var ra=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-xs"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-card",[e("q-card-section",{staticClass:"bg-green text-white text-center text-subtitle2"},[t._v("Reporte por Poste")]),e("q-card-section",[e("q-form",{on:{submit:function(e){return e.preventDefault(),t.reporte2.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-3"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha inicio",type:"date",required:""},model:{value:t.fecha1,callback:function(e){t.fecha1=e},expression:"fecha1"}})],1),e("div",{staticClass:"col-12 col-sm-3"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha fin",type:"date",required:""},model:{value:t.fecha2,callback:function(e){t.fecha2=e},expression:"fecha2"}})],1),e("div",{staticClass:"col-12 col-sm-3"},[e("q-input",{attrs:{type:"text",label:"Nro Poste",dense:"",outlined:"",required:""},model:{value:t.numero,callback:function(e){t.numero=e},expression:"numero"}})],1),e("div",{staticClass:"col-12 col-sm-3 flex flex-center"},[e("q-btn",{staticClass:"full-width full-height",attrs:{type:"submit",label:"Generar reporte",color:"positive",icon:"print"}})],1)])])],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"Denuncias",data:t.misdenuncias,color:"primary","row-key":"name",columns:t.columns},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-btn",{attrs:{color:"primary",label:"Exportar PDF"},on:{click:t.exportPdf}})]},proxy:!0}])})],1)]),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})])},ca=[],da={name:"Reportedenuncia",data(){return{fecha1:P["a"].formatDate(new Date,"YYYY-MM-DD"),fecha2:P["a"].formatDate(new Date,"YYYY-MM-DD"),misdenuncias:[],numero:"",cadena:"",users:[{lable:"TODOS",id:0}],user:{},filtUser:[],columns:[{name:"actividad",field:"actividad",label:"ACTIVIDAD"},{name:"estado",field:"estado",label:"ESTADO"},{name:"tipo",field:"tipo",label:"TIPO"},{name:"fechaman",field:"fechaman",label:"FECHA MAN"},{name:"horaman",field:"horaman",label:"HORA MAN"},{name:"tecnico",field:"tecnico",label:"TECNICO"},{name:"nroposte",field:t=>t.poste.nroposte,label:"NRO POSTE"},{name:"reclamo",field:"reclamo",label:"RECLAMO"},{name:"fecha",field:"fecha",label:"FECHA"},{name:"ci",field:t=>void 0==t.persona?"":t.persona.ci,label:"CI"},{name:"nombre",field:t=>void 0==t.persona?"":t.persona.nombre,label:"NOMBRE"},{name:"telefono",field:t=>void 0==t.persona?"":t.persona.telefono,label:"TELEFONO"}]}},created(){this.$store.state.login.boolreporte||this.$router.replace({path:"/home"})},methods:{exportPdf(){if(this.misdenuncias.length>0){this.cadena="<style>          .fuente{font-size:10px}          table{width:100%; border-collapse: collapse;}          table, th, td {  border: 1px solid;}          titulo{font-weight: bold; font-size:16px; text-align: center;}          </style>          <div class='fuente'>            <table style='border:0;'><tr><td style='border:0;width:20%;'><img src='logo.jpg' style='width:50px; height:50px;'/></td>               <td class='titulo' style='border:0;'> RESUMEN DE MTTOs y ATENCION RECLAMOS DEL "+this.fecha1+" AL "+this.fecha2+" Usuario: "+this.user.label+"</td>               </tr>            </table>            <table>            <thead><tr><th>N</th><th>FECHA</th><th>N POSTE</th><th>ESTADO</th><th>CONTRIBUYENTE</th><th>CI/RUN</th><th>HORA</th><th>OPERADOR</th><th>FECHA MAN</th><th>ACTIVIDAD</th></tr></thead>          <tbody>";let t=0;this.misdenuncias.forEach((e=>{t++,null==e.tecnico&&(e.tecnico=""),null==e.fechaman&&(e.fechaman=""),null==e.actividad&&(e.actividad=""),void 0==e.persona&&(e.persona={nombre:"",ci:"",telefono:""}),this.cadena+="<tr>              <td>"+t+"</td>              <td>"+e.fecha+"</td>              <td>"+e.poste.nroposte+"</td>              <td>"+e.estado+"</td>              <td>"+e.persona.nombre+"</td>              <td>"+e.persona.ci+"</td>              <td>"+e.hora+"</td>              <td>"+e.tecnico+"</td>              <td>"+e.fechaman+"</td>              <td>"+e.actividad+"</td>              </tr>"})),this.cadena+="</tbody></table></div>",document.getElementById("myelement").innerHTML=this.cadena;const e=new Q["Printd"];e.print(document.getElementById("myelement"))}},reporte2(){this.cadena="",this.$axios.post("reportePoste",{ini:this.fecha1,fin:this.fecha2,numero:this.numero}).then((t=>{console.log(t.data),this.misdenuncias=t.data}))}}},ua=da,pa=Object(f["a"])(ua,ra,ca,!1,null,"18b88b26",null),ha=pa.exports;at()(pa,"components",{QPage:Y["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QInput:G["a"],QBtn:B["a"],QTable:V["a"]});var ma=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-md q-gutter-md"},[e("div",[t._v("INSPECCION O MANTENIMIENTO ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("q-input",{attrs:{type:"date",label:"Fecha"},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),e("div",{staticClass:"col-4"},[e("q-btn",{attrs:{color:"primary",icon:"search",label:"OK"},on:{click:t.Buscar}})],1)]),e("div",[e("gmap-map",{staticStyle:{width:"100%",height:"500px"},attrs:{center:t.center,zoom:t.zoom,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,disableDefaultUi:!1}}},t._l(t.puntos,(function(a){return e("gmap-marker",{key:a.id,attrs:{position:{lat:a.lat,lng:a.lng},clickable:!0,draggable:!1,title:a.material,optimized:!0},on:{click:function(e){t.center={lat:a.lat,lng:a.lng},t.punto=a,t.frmmodalpunto(a)}}})})),1)],1),e("q-table",{attrs:{data:t.puntos,columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"body-cell-nroposte",fn:function(a){return[e("q-td",{attrs:{props:a},on:{click:function(e){return t.frmmodalpunto(a.row)}}},[t._v("\n         "+t._s(a.row.nroposte)+"\n       ")])]}},{key:"body-cell-ubicacion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"ACTIVO"==a.row.estado?"primary":"negative",icon:"place",size:"xs"},on:{click:function(e){return t.clickclientes(a.row)}}})],1)]}},{key:"top-right",fn:function(){return[e("q-btn",{attrs:{icon:"refresh",color:"info"},on:{click:t.mispuntos}}),e("q-btn",{attrs:{icon:"adjust",color:"negative"},on:{click:t.centro}}),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])}),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Nro poste "+t._s(t.poste.nroposte)+" lat:"+t._s(t.poste.lat)+" lng:"+t._s(t.poste.lng))])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"text",label:"Luminaria"},model:{value:t.poste.luminaria,callback:function(e){t.$set(t.poste,"luminaria",e)},expression:"poste.luminaria"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"text",label:"Material"},model:{value:t.poste.material,callback:function(e){t.$set(t.poste,"material",e)},expression:"poste.material"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"text",label:"Altura"},model:{value:t.poste.altura,callback:function(e){t.$set(t.poste,"altura",e)},expression:"poste.altura"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,type:"text",label:"Potencia"},model:{value:t.poste.potencia,callback:function(e){t.$set(t.poste,"potencia",e)},expression:"poste.potencia"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",disable:!0,label:"Estado"},model:{value:t.punto.estado,callback:function(e){t.$set(t.punto,"estado",e)},expression:"punto.estado"}})],1)])])],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},ba=[];a("d055");var ga={data(){return{modalpunto:!1,fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),filter:"",url:"https://electrica.gamo.cf/#/consulta",poste:{},persona:{},qrImage2:"",qrImage:"",colums:[{name:"nroposte",label:"nroposte",field:"nroposte"},{name:"potencia",label:"potencia",field:"potencia"},{name:"ubicacion",label:"ubicacion",field:"ubicacion"}],puntos:[],puntostabla:[],punto:{},attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:13,center:{lat:-17.97031,lng:-67.11178},markerLatLng:[-17.97031,-67.11178],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}},opts2:{errorCorrectionLevel:"M",type:"png",quality:.95,width:50,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.Buscar()},methods:{Buscar(){this.$axios.post("listplan",{fecha:this.fecha}).then((t=>{console.log(t.data),t.data.forEach((t=>{null==t.nroposte&&(t.nroposte=""),this.puntos.push(t)}))}))},frmmodalpunto(t){console.log(t),this.modalpunto=!0,this.poste=t},clickclientes(t){this.center={lat:t.lat,lng:t.lng},this.zoom=18},centro(){this.center=[-17.97031,-67.11178],this.zoom=13}}},fa=ga,va=Object(f["a"])(fa,ma,ba,!1,null,null,null),qa=va.exports;at()(va,"components",{QPage:Y["a"],QInput:G["a"],QBtn:B["a"],QTable:V["a"],QTd:H["a"],QIcon:Z["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"]});var Ca=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registro",color:"positive",icon:"add_circle"},on:{click:function(e){t.junta={label:""},t.alert=!0}}}),e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registrar Junta V",color:"accent",icon:"add_circle"},on:{click:function(e){t.junta2={},t.jvDialog=!0}}}),e("q-dialog",{model:{value:t.jvDialog,callback:function(e){t.jvDialog=e},expression:"jvDialog"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO DE Junta Vecinal")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.regJV,reset:t.onReset}},[e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre ",hint:"Ingresar nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.junta2.nombre,callback:function(e){t.$set(t.junta2,"nombre",e)},expression:"junta2.nombre"}}),e("q-select",{attrs:{options:["D1","D2","D3","D4","D5","D6"],label:"Distrito",outlined:""},model:{value:t.junta2.distrito,callback:function(e){t.$set(t.junta2,"distrito",e)},expression:"junta2.distrito"}}),e("q-select",{attrs:{options:["ZONA NORTE","ZONA ESTE","ZONA CENTRAL","ZONA OESTE","ZONA SUD","ZONA NOR ESTE","ZONA NOR OESTE","ZONA SUD ESTE","ZONA SUD OESTE"],label:"Zona",outlined:""},model:{value:t.junta2.zona,callback:function(e){t.$set(t.junta2,"zona",e)},expression:"junta2.zona"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Representante",hint:"nombre completo"},model:{value:t.junta2.representante,callback:function(e){t.$set(t.junta2,"representante",e)},expression:"junta2.representante"}}),e("q-input",{attrs:{outlined:"",label:"Celular",hint:"numero de contacto"},model:{value:t.junta2.celular,callback:function(e){t.$set(t.junta2,"celular",e)},expression:"junta2.celular"}}),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO NUEVO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("q-select",{attrs:{"use-input":"","input-debounce":"0",options:t.juntas,label:"Junta Vecinal",outlined:""},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:t.junta,callback:function(e){t.junta=e},expression:"junta"}})],1),e("div",{staticClass:"col-6"},[e("b",[t._v("DISTRITO : ")]),t._v(t._s(t.junta.distrito))]),e("div",{staticClass:"col-6"},[e("b",[t._v("CELULAR : ")]),t._v(" "+t._s(t.junta.celular))]),e("div",{staticClass:"col-6"},[e("b",[t._v("ZONA :")]),t._v(t._s(t.junta.zona))]),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",label:"Fecha",type:"date","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.fecha,callback:function(e){t.$set(t.dato,"fecha",e)},expression:"dato.fecha"}})],1),e("div",{staticClass:"col-6"},[e("q-select",{attrs:{options:t.lista,label:"Actividad",outlined:"",required:""},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",label:"Cantidad",type:"number","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.cantidad,callback:function(e){t.$set(t.dato,"cantidad",e)},expression:"dato.cantidad"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",label:"Descripcion"},model:{value:t.dato.descripcion,callback:function(e){t.$set(t.dato,"descripcion",e)},expression:"dato.descripcion"}})],1)]),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha Ini"},model:{value:t.ini,callback:function(e){t.ini=e},expression:"ini"}})],1),e("div",{staticClass:"col-3"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha Fin"},model:{value:t.fin,callback:function(e){t.fin=e},expression:"fin"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{dense:"",color:"green",icon:"search",label:"Buscar"},on:{click:t.Buscar}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{dense:"",color:"info",icon:"file_download",label:"Excel Report"},on:{click:t.impresion}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{dense:"",color:"accent",icon:"file_download",label:"Excel Plan"},on:{click:t.exportExcel}})],1)]),e("q-table",{attrs:{filter:t.filter,title:"LISTA Cronograma",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)]}}])}),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR DATOS ")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("b",[t._v("JUNTA VECINAL: ")]),t._v(t._s(t.junta.nombre))]),e("div",{staticClass:"col-6"},[e("b",[t._v("DISTRITO : ")]),t._v(t._s(t.junta.distrito))]),e("div",{staticClass:"col-6"},[e("b",[t._v("CELULAR : ")]),t._v(t._s(t.junta.celular))]),e("div",{staticClass:"col-6"},[e("b",[t._v("ZONA : ")]),t._v(t._s(t.junta.zona))]),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",label:"Fecha",type:"date","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.fecha,callback:function(e){t.$set(t.dato2,"fecha",e)},expression:"dato2.fecha"}})],1),e("div",{staticClass:"col-6"},[e("q-select",{attrs:{options:t.lista,label:"Actividad",outlined:"",required:""},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",label:"Cantidad",type:"number","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.cantidad,callback:function(e){t.$set(t.dato2,"cantidad",e)},expression:"dato2.cantidad"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",label:"Descripcion"},model:{value:t.dato2.descripcion,callback:function(e){t.$set(t.dato2,"descripcion",e)},expression:"dato2.descripcion"}})],1)]),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},xa=[],ya=a("1542"),_a=a.n(ya);const{addToDate:wa}=P["a"];var ka={data(){return{alert:!1,junta2:{},jvDialog:!1,dialog_mod:!1,dialog_del:!1,filter:"",tipo:{},dato:{},juntas:[],jfilter:[],junta:{},ini:P["a"].formatDate(new Date,"YYYY-MM-DD"),fin:P["a"].formatDate(new Date,"YYYY-MM-DD"),lista:[{label:"Mantenimiento",codigo:"160002",actividad:"PROVISION DE MATERIAL ELECTRICO (MANTENIMIENTO Y EQUIPO DE ALUMBRADO)",tipo:"Mantenimiento"},{label:"Instalaciones Nuevas",codigo:"160006",actividad:"MI ALUMBRADO PUBLICO VECINAL",tipo:"Instalaciones nuevas"},{label:"Instalacion de Postes",codigo:"160005",actividad:"RENOVACION DE POSTES DE ILUMINACION PUBLICA",tipo:"Instalacion de Postes"}],model:"",dato2:{},options:[],props:[],modelpermiso:!1,uni:{},columns:[{name:"codigo",align:"left",label:"Codigo ",field:"codigo",sortable:!0},{name:"actividad",align:"left",label:"actividad ",field:"actividad",sortable:!0},{name:"distrito",align:"left",label:"distrito ",field:t=>t.junta.distrito,sortable:!0},{name:"junta",align:"left",label:"junta ",field:t=>t.junta.nombre,sortable:!0},{name:"zona",align:"left",label:"zona ",field:t=>t.junta.zona,sortable:!0},{name:"tipo",align:"left",label:"tipo ",field:"tipo",sortable:!0},{name:"cantidad",align:"left",label:"cantidad ",field:"cantidad",sortable:!0},{name:"fecha",align:"left",label:"fecha ",field:"fecha",sortable:!0},{name:"celular",align:"left",label:"celular ",field:"celular",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"opcion",sortable:!1}],data:[]}},created(){this.Buscar(),this.listJunta(),this.tipo=this.lista[0]},methods:{regJV(){this.$q.loading.show(),this.$axios.post("junta",this.junta2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"JV Agregado"}),this.junta2={},this.jvDialog=!1,this.listJunta()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},filterFn(t,e){e(""!==t&&null!==t?()=>{const e=t.toLowerCase();this.juntas=this.jfilter.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.juntas=this.jfilter})},Buscar(){this.$q.loading.show(),this.$axios.post("listCrono",{ini:this.ini,fin:this.fin}).then((t=>{console.log(t.data),this.data=t.data,this.$q.loading.hide()}))},listJunta(){this.juntas=[],this.$q.loading.show(),this.$axios.get("junta").then((t=>{t.data.forEach((t=>{t.label=t.nombre+" "+t.distrito,this.juntas.push(t)})),this.$q.loading.hide(),this.jfilter=this.juntas,this.junta={label:""}}))},impresion(){this.$q.loading.show(),this.$axios.post("datoImp",{ini:this.ini,fin:this.fin}).then((t=>{let e=[{sheet:"Cronograma",columns:[{label:"CAT PROD",value:"codigo"},{label:"NOMBRE DE LA ACTIVIDAD",value:"actividad"},{label:"DISTRITO",value:"distrito"},{label:"BENEFICIARIO",value:"junta"},{label:"UBICACION",value:"zona"},{label:"SUPERVISOR",value:""},{label:"AVANCE FISICO DEL PERIODO",value:"valor1"},{label:"AVANCE FISICO ACUMULADO",value:"valor2"},{label:"CANTIDAD",value:"total"},{label:"UNIDAD",value:"unidad"},{label:"DESCRIPCION",value:"tipo"},{label:"OBSERVACION",value:"detalle"}],content:t.data}],a={fileName:"Cronograma",extraLength:6,writeOptions:{}};_a()(e,a),console.log(t.data),this.$q.loading.hide()}))},exportExcel(){this.$q.loading.show();let t=[{sheet:"Cronograma",columns:[{label:"DISTRITO",value:t=>t.junta.distrito},{label:"BENEFICIARIO",value:t=>t.junta.nombre},{label:"CELULAR",value:t=>t.junta.celular},{label:"UBICACION",value:t=>t.junta.zona},{label:"CANTIDAD",value:"cantidad"},{label:"FECHA",value:"fecha"},{label:"DESCRIPCION",value:"tipo"},{label:"OBSERVACION",value:"descripcion"}],content:this.data}],e={fileName:"Planificacion",extraLength:6,writeOptions:{}};_a()(t,e),this.$q.loading.hide()},editRow(t){this.dato2=t.row,this.junta=this.dato2.junta,this.junta.label=this.junta.nombre+" "+this.junta.distrito,this.tipo=this.lista.find((t=>t.tipo==this.dato2.tipo)),this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.dato.codigo=this.tipo.codigo,this.dato.actividad=this.tipo.actividad,this.dato.tipo=this.tipo.tipo,this.dato.junta_id=this.junta.id,this.dato.celular=this.junta.celular,this.$axios.post("cronograma",this.dato).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={},this.junta={label:""},this.alert=!1,this.Buscar(),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.dato2.codigo=this.tipo.codigo,this.dato2.actividad=this.tipo.actividad,this.dato2.tipo=this.tipo.tipo,this.$axios.put("cronograma/"+this.dato2.id,this.dato2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.Buscar()}))},onDel(){this.$q.loading.show(),this.$axios.delete("cronograma/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.buscar(),this.$q.loading.hide()}))},onReset(){this.dato={}}}},Da=ka,Aa=a("66e5"),Ea=a("4074"),Oa=Object(f["a"])(Da,Ca,xa,!1,null,null,null),Ia=Oa.exports;at()(Oa,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QSelect:tt["a"],QItem:Aa["a"],QItemSection:Ea["a"],QTable:V["a"],QTd:H["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(Oa,"directives",{ClosePopup:pt["a"]});var Ra=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registrar Junta V",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO DE Junta Vecinal")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre ",hint:"Ingresar nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.nombre,callback:function(e){t.$set(t.dato,"nombre",e)},expression:"dato.nombre"}}),e("q-select",{attrs:{options:["D1","D2","D3","D4","D5","D6"],label:"Distrito",outlined:""},model:{value:t.dato.distrito,callback:function(e){t.$set(t.dato,"distrito",e)},expression:"dato.distrito"}}),e("q-select",{attrs:{options:["ZONA NORTE","ZONA ESTE","ZONA CENTRAL","ZONA OESTE","ZONA SUD","ZONA NOR ESTE","ZONA NOR OESTE","ZONA SUD ESTE","ZONA SUD OESTE"],label:"Zona",outlined:""},model:{value:t.dato.zona,callback:function(e){t.$set(t.dato,"zona",e)},expression:"dato.zona"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Representante",hint:"nombre completo"},model:{value:t.dato.representante,callback:function(e){t.$set(t.dato,"representante",e)},expression:"dato.representante"}}),e("q-input",{attrs:{outlined:"",label:"Celular",hint:"numero de contacto"},model:{value:t.dato.celular,callback:function(e){t.$set(t.dato,"celular",e)},expression:"dato.celular"}}),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-table",{attrs:{filter:t.filter,title:"LISTA DE JUNTAS VECINALES",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)]}}])}),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR DATOS JUNTA V")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre ",hint:"Ingresar nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.nombre,callback:function(e){t.$set(t.dato2,"nombre",e)},expression:"dato2.nombre"}}),e("q-select",{attrs:{options:["D1","D2","D3","D4","D5","D6"],label:"Distrito",outlined:""},model:{value:t.dato2.distrito,callback:function(e){t.$set(t.dato2,"distrito",e)},expression:"dato2.distrito"}}),e("q-select",{attrs:{options:["ZONA NORTE","ZONA ESTE","ZONA CENTRAL","ZONA OESTE","ZONA SUD","ZONA NOR ESTE","ZONA NOR OESTE","ZONA SUD ESTE","ZONA SUD OESTE"],label:"Zona",outlined:""},model:{value:t.dato2.zona,callback:function(e){t.$set(t.dato2,"zona",e)},expression:"dato2.zona"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Representante",hint:"nombre completo"},model:{value:t.dato2.representante,callback:function(e){t.$set(t.dato2,"representante",e)},expression:"dato2.representante"}}),e("q-input",{attrs:{outlined:"",label:"Celular",hint:"numero de contacto"},model:{value:t.dato2.celular,callback:function(e){t.$set(t.dato2,"celular",e)},expression:"dato2.celular"}}),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},Ta=[];const{addToDate:$a}=P["a"];var Sa={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{},model:"",dato2:{},options:[],props:[],modelpermiso:!1,uni:{},columns:[{name:"nombre",align:"left",label:"NOMBRE ",field:"nombre",sortable:!0},{name:"distrito",align:"left",label:"distrito ",field:"distrito",sortable:!0},{name:"zona",align:"left",label:"zona ",field:"zona",sortable:!0},{name:"representante",align:"left",label:"representante ",field:"representante",sortable:!0},{name:"celular",align:"left",label:"CELULAR",field:"celular",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"opcion",sortable:!1}],data:[]}},created(){this.misdatos()},methods:{misdatos(){this.$q.loading.show(),this.$axios.get("junta").then((t=>{console.log(t.data),this.data=t.data,this.$q.loading.hide()}))},editRow(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("junta",this.dato).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={},this.alert=!1,this.misdatos()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("junta/"+this.dato2.id,this.dato2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("junta/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato={}}}},Na=Sa,Ma=Object(f["a"])(Na,Ra,Ta,!1,null,null,null),ja=Ma.exports;at()(Ma,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QSelect:tt["a"],QTable:V["a"],QTd:H["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(Ma,"directives",{ClosePopup:pt["a"]});var La=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registrar Material",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO MATERIALES ALMACEN")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("q-input",{attrs:{outlined:"",type:"text",label:"CODIGO ",hint:"Ingresar codigo","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.codigo,callback:function(e){t.$set(t.dato,"codigo",e)},expression:"dato.codigo"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre ",hint:"Ingresar nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.nombre,callback:function(e){t.$set(t.dato,"nombre",e)},expression:"dato.nombre"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Unidad Medida ",hint:"Ingresar unidad","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.unidad,callback:function(e){t.$set(t.dato,"unidad",e)},expression:"dato.unidad"}}),e("q-input",{attrs:{outlined:"",type:"number",label:"Minimo stock",hint:"minimo alerta"},model:{value:t.dato.minimo,callback:function(e){t.$set(t.dato,"minimo",e)},expression:"dato.minimo"}}),e("q-toggle",{attrs:{color:"green","false-value":"NO","true-value":"SI",label:t.dato.codificar+" CODIFICAR"},model:{value:t.dato.codificar,callback:function(e){t.$set(t.dato,"codificar",e)},expression:"dato.codificar"}}),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-table",{attrs:{filter:t.filter,title:"LISTA DE MATERIALES ALMACEN",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-minimo",fn:function(a){return[e("q-td",{key:"minimo",attrs:{props:a}},[e("q-badge",{attrs:{color:a.row.minimo>a.row.stock?"red":"green"}},[t._v(t._s(a.row.minimo)+"\n            ")])],1)]}},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)]}},{key:"body-cell-color",fn:function(t){return[e("q-td",{key:"color",attrs:{props:t}},[e("div",{style:"height:20px; width: 20px;background-color: "+t.row.color})])]}}])}),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR DATOS MATERIAL")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("q-input",{attrs:{outlined:"",type:"text",label:"CODIGO ",hint:"Ingresar codigo","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.codigo,callback:function(e){t.$set(t.dato2,"codigo",e)},expression:"dato2.codigo"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre ",hint:"Ingresar nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.nombre,callback:function(e){t.$set(t.dato2,"nombre",e)},expression:"dato2.nombre"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Unidad Medida ",hint:"Ingresar unidad","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.unidad,callback:function(e){t.$set(t.dato2,"unidad",e)},expression:"dato2.unidad"}}),e("q-input",{attrs:{outlined:"",type:"number",label:"Minimo stock",hint:"nimimo alerta"},model:{value:t.dato2.minimo,callback:function(e){t.$set(t.dato2,"minimo",e)},expression:"dato2.minimo"}}),e("q-input",{staticClass:"my-input",attrs:{outlined:"",rules:["anyColor"],hint:"With validation"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize"}},[e("q-popup-proxy",{attrs:{cover:"","transition-show":"scale","transition-hide":"scale"}},[e("q-color",{model:{value:t.dato2.color,callback:function(e){t.$set(t.dato2,"color",e)},expression:"dato2.color"}})],1)],1)]},proxy:!0}]),model:{value:t.dato2.color,callback:function(e){t.$set(t.dato2,"color",e)},expression:"dato2.color"}}),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},Pa=[];const{addToDate:Qa}=P["a"];var za={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,colores:[],filter:"",dato:{codificar:"NO"},model:"",dato2:{},options:[],props:[],modelpermiso:!1,uni:{},columns:[{name:"codigo",align:"left",label:"CODIGO ",field:"codigo",sortable:!0},{name:"nombre",align:"left",label:"NOMBRE ",field:"nombre",sortable:!0},{name:"unidad",align:"left",label:"UNIDAD ",field:"unidad",sortable:!0},{name:"stock",align:"left",label:"STOCK ",field:"stock",sortable:!0},{name:"minimo",align:"left",label:"MINIMO",field:"minimo",sortable:!0},{name:"codificar",align:"left",label:"codificar",field:"codificar",sortable:!0},{name:"color",align:"left",label:"color",field:"color",sortable:!0},{name:"opcion",label:"OPCION",field:"opcion",sortable:!1}],data:[]}},created(){this.misdatos()},methods:{misdatos(){this.$q.loading.show(),this.$axios.get("material").then((t=>{console.log(t.data),this.data=t.data,this.$q.loading.hide()}))},editRow(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("material",this.dato).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={codificar:"NO"},this.alert=!1,this.misdatos()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("material/"+this.dato2.id,this.dato2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("material/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato={codificar:"NO"}}}},Fa=za,Ua=(a("6b70"),a("7cbe")),Ya=a("b498"),Ba=Object(f["a"])(Fa,La,Pa,!1,null,"1c2a518a",null),Va=Ba.exports;at()(Ba,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QToggle:dt["a"],QTable:V["a"],QTd:H["a"],QBadge:ct["a"],QPopupProxy:Ua["a"],QColor:Ya["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(Ba,"directives",{ClosePopup:pt["a"]});var Ha=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("q-input",{attrs:{outlined:"",type:"date",label:"Fecha Registro"},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),e("div",{staticClass:"col-3"},[e("q-select",{attrs:{outlined:"","input-debounce":"0","use-input":"",options:t.materiales,label:"MATERIALES"},on:{filter:t.filterMat},model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"green",icon:"search",label:"Buscar"},on:{click:t.misdatos}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"info",icon:"print"},on:{click:t.printfull}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"red",icon:"delete_sweep"},on:{click:t.baja}})],1)]),e("q-table",{attrs:{filter:t.filter,title:"LISTA DE INVENTARIO",data:t.data,columns:t.columns,"row-key":"id","rows-per-page-options":[20,50,100,0],"selected-rows-label":t.getSelectedString,selection:"multiple",selected:t.selected},on:{"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{color:"info",icon:"qr_code_2",dense:""},on:{click:function(e){return t.qrPrinttodo(a.row)}}})],1)]}},{key:"body-cell-nombre",fn:function(a){return[e("q-td",{key:"nombre",attrs:{props:a}},[t._v("\n          "+t._s(a.row.material.nombre)+"\n        ")])]}}])}),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},Ga=[],Za=a("d055"),Ja=a.n(Za);const{addToDate:Wa}=P["a"];var Xa={data(){return{selected:[],filterMateriales:[],alert:!1,dialog_mod:!1,dialog_del:!1,nrocompra:"",filter:"",dato:{codificar:"NO"},model:"",dato2:{},options:[],props:[],modelpermiso:!1,imgqr:{},uni:{},columns:[{name:"codigo",align:"left",label:"CODIGO ",field:"codigo",sortable:!0},{name:"nombre",align:"left",label:"NOMBRE ",field:"nombre",sortable:!0},{name:"cantidad",align:"left",label:"CANTIDAD ",field:"cantidad",sortable:!0},{name:"num",align:"left",label:"NUMERO ",field:"num",sortable:!0},{name:"gestion",align:"left",label:"GESTION ",field:"gestion",sortable:!0},{name:"estado",align:"left",label:"ESTADO ",field:"estado",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"opcion",sortable:!1}],materiales:[],url:"https://alumbradoback.gamo.gob.bo/api/",material:{},fecha:"",data:[],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.mismateriales()},methods:{getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} record${this.selected.length>1?"s":""} selected of ${this.data.length}`},qrPrint(t){Ja.a.toDataURL(t.codigo).then((t=>{this.$q.dialog({title:"Codigo QR",message:`<div style="text-align: center"><img src="${t}" style='width:50px;height:50px;'/></div>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((t=>{console.error(t)}))},async qrPrinttodo(t){let e="";this.imgqr=await Ja.a.toDataURL(t.codigo,this.opts),e="<div style=''><img src="+this.imgqr+" style='width:50px;height:50px;padding:5px 0 0 0;margin:0 '/></div> <div style='font-size:4px; padding:0;margin:0;'>"+t.codigo+"</div>",document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))},printfull(){if(0==this.selected.length)return!1;this.$axios.post("generatePdf",this.selected).then((t=>{console.log(t.data),window.open(this.url+"qrFile","_blank")}))},baja(){if(console.log(this.selected),0==this.selected.length)return!1;this.$q.dialog({title:"Baja Inventario",message:"Cual es el motivo?",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.$axios.post("bajaInv",{motivo:t,datos:this.selected}).then((t=>{console.log(t.data),this.misdatos()}))})).onCancel((()=>{})).onDismiss((()=>{}))},async cadenatexto(t){return this.imgqr=await Ja.a.toDataURL(t.codigo,this.opts),"<div><img src="+this.imgqr+" style='width:50px;height:50px;'/></div>"},mismateriales(){this.$q.loading.show(),this.$axios.get("material").then((t=>{console.log(t.data),t.data.forEach((t=>{t.label=t.nombre})),this.materiales=t.data,this.$q.loading.hide(),this.filterMateriales=this.materiales,this.material={label:""}}))},filterMat(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.materiales=this.filterMateriales.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.materiales=this.filterMateriales})},misdatos(){if((void 0==this.fecha||""==this.fecha)&&void 0==this.material.id)return this.$q.notify({icon:"info",message:"Debe Seleccionar material o fecha",color:"red"}),!1;this.$q.loading.show(),this.$axios.post("buscarInv",{fecha:this.fecha,material_id:this.material.id}).then((t=>{console.log(t.data),this.data=t.data,this.$q.loading.hide()}))}}},Ka=Xa,to=Object(f["a"])(Ka,Ha,Ga,!1,null,null,null),eo=to.exports;at()(to,"components",{QInput:G["a"],QSelect:tt["a"],QBtn:B["a"],QTable:V["a"],QIcon:Z["a"],QTd:H["a"]});var ao=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"col-6"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.consultar.apply(null,arguments)}}},[e("div",{staticClass:"col-6"},[e("q-input",{attrs:{type:"text",label:"Codigo Material",autofocus:"",dense:"",outlined:""},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),e("div")])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticStyle:{width:"200px",height:"200px"}},[e("qrcode-stream",{on:{decode:t.onDecode}})],1)]),e("div",{staticClass:"col-6"},[t.correcto?[e("table",[e("tr",[e("th",[t._v("Nro Compra")]),e("td",[t._v(t._s(t.info.compra.nrocompra))])]),e("tr",[e("th",[t._v("Fecha Compra")]),e("td",[t._v(t._s(t.info.compra.fecha))])]),e("tr",[e("th",[t._v("Proveedor/Tienda")]),e("td",[t._v(t._s(t.info.compra.tienda.nombre))])]),e("tr",[e("th",[t._v("Codigo Material")]),e("td",[t._v(t._s(t.info.material.codigo))])]),e("tr",[e("th",[t._v("Material")]),e("td",[t._v(t._s(t.info.material.nombre))])]),e("tr",[e("th",[t._v("Cantidad Stock")]),e("td",[t._v(t._s(t.info.material.stock))])]),e("tr",[e("th",[t._v("Cantidad Compra")]),e("td",[t._v(t._s(t.info.cantidad))])]),e("tr",[e("th",[t._v("Numero")]),e("td",[t._v(t._s(t.info.num))])])])]:t._e()],2)])])},oo=[],io=a("bb6f"),so={components:{QrcodeStream:io["QrcodeStream"]},data(){return{isLoading:!0,camera:"auto",result:null,showScanConfirmation:!1,info:{},correcto:!1,codigo:"",error:""}},mounted(){},methods:{onDecode(t){console.log(t),this.codigo=t,this.consultar()},consultar(){if(void 0==this.codigo||""==this.codigo)return!1;this.info={},this.correcto=!1,this.$axios.get("recuperaInv/"+this.codigo).then((t=>{console.log(t.data),""!=t.data&&(this.info=t.data,this.correcto=!0)})),this.codigo=""}}},lo=so,no=(a("fc11"),Object(f["a"])(lo,ao,oo,!1,null,null,null)),ro=no.exports;at()(no,"components",{QPage:Y["a"],QForm:K["a"],QInput:G["a"]});var co=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registro de Compra",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO COMPRA MATERIAL")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.registrar,reset:t.onReset}},[""!=t.mensaje?e("div",{staticClass:"q-pd-md",staticStyle:{color:"red"}},[t._v(t._s(t.mensaje))]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Nro Compra"},model:{value:t.dato.nrocompra,callback:function(e){t.$set(t.dato,"nrocompra",e)},expression:"dato.nrocompra"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha Compra"},model:{value:t.dato.fechacompra,callback:function(e){t.$set(t.dato,"fechacompra",e)},expression:"dato.fechacompra"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Nro Vale"},model:{value:t.dato.nrovale,callback:function(e){t.$set(t.dato,"nrovale",e)},expression:"dato.nrovale"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa Fecha"],required:""},model:{value:t.dato.fecha,callback:function(e){t.$set(t.dato,"fecha",e)},expression:"dato.fecha"}})],1),e("div",{staticClass:"col-4"},[e("q-select",{attrs:{"use-input":"","input-debounce":"0",dense:"",options:t.tiendas,label:"Tienda/Proveedor",outlined:""},on:{filter:t.filterTienda},model:{value:t.tienda,callback:function(e){t.tienda=e},expression:"tienda"}})],1),e("div",{staticClass:"col-4"},[e("q-select",{attrs:{"use-input":"",dense:"",options:t.materiales,label:"Material",outlined:""},on:{filter:t.filterMat},model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-3"},[e("q-input",{attrs:{dense:"",type:"number",label:"Cantidad",outlined:""},model:{value:t.reg.cantidad,callback:function(e){t.$set(t.reg,"cantidad",e)},expression:"reg.cantidad"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{dense:"",color:"green",icon:"control_point"},on:{click:t.agregarMaterial}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"Lista de Compra ",data:t.listado,columns:t.columna2,"row-key":"name"},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",color:"red",icon:"delete"},on:{click:function(e){return t.eliminar(a)}}})],1)]}},{key:"body-cell-unidad",fn:function(a){return[e("q-td",{key:"unidad",attrs:{props:a}},[t._v("\n                      "+t._s(a.row.material.unidad)+"\n                  ")])]}},{key:"body-cell-material",fn:function(a){return[e("q-td",{key:"material",attrs:{props:a}},[t._v("\n                    "+t._s(a.row.material.nombre)+"\n                ")])]}},{key:"body-cell-codificar",fn:function(a){return[e("q-td",{key:"codificar",attrs:{props:a}},[t._v("\n                    "+t._s(a.row.material.codificar)+"\n                ")])]}}])})],1),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("q-table",{attrs:{filter:t.filter,title:"LISTA DE COMPRAS",data:t.compras,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editDato(a.row)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"accent",icon:"local_mall"},on:{click:function(e){return t.viewRow(a.row)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)]}}])}),e("q-dialog",{model:{value:t.dialogMod,callback:function(e){t.dialogMod=e},expression:"dialogMod"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"shopping_cart",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("DETALLE DE COMPRA MODIFICAR")])],1),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",type:"number",label:"Nro Compra"},model:{value:t.compra.nrocompra,callback:function(e){t.$set(t.compra,"nrocompra",e)},expression:"compra.nrocompra"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",type:"date",label:"Fecha Compra"},model:{value:t.compra.fechacompra,callback:function(e){t.$set(t.compra,"fechacompra",e)},expression:"compra.fechacompra"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",type:"number",label:"Nro Vale"},model:{value:t.compra.nrovale,callback:function(e){t.$set(t.compra,"nrovale",e)},expression:"compra.nrovale"}})],1)])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Modificar",color:"yellow"},on:{click:t.modificar}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.dialogDetalle,callback:function(e){t.dialogDetalle=e},expression:"dialogDetalle"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"shopping_cart",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("DETALLE DE COMPRA")])],1),e("q-card-section",[e("table",[e("tr",[e("th",[t._v("MATERIAL")]),e("th",[t._v("CANTIDAD")])]),t._l(t.detalle,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.material.nombre))]),e("td",[t._v(t._s(a.cantidad))])])}))],2)]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},uo=[];a("fed6");const{addToDate:po}=P["a"];var ho={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,dialogDetalle:!1,dialogMod:!1,listado:[],filter:"",dato:{},model:"",dato2:{},options:[],props:[],material:{},tienda:{},materiales:[],filterMateriales:[],compra:{},tiendas:[],filtertiendas:[],compras:[],detalle:[],reg:{material:{label:""}},modelpermiso:!1,mensaje:"",uni:{},columns:[{name:"nrocompra",align:"left",label:"NRO COMPRA ",field:"nrocompra",sortable:!0},{name:"fechacompra",align:"left",label:"FECHA COMP",field:"fechacompra",sortable:!0},{name:"nrovale",align:"left",label:"NRO VALE ",field:"nrovale",sortable:!0},{name:"fecha",align:"left",label:"FECHA ING",field:"fecha",sortable:!0},{name:"gestion",align:"left",label:"gestion",field:"gestion",sortable:!0},{name:"tienda",align:"left",label:"TIENDA/PROV",field:t=>t.tienda.nombre,sortable:!0},{name:"opcion",label:"OPCIÓN",field:"opcion",sortable:!1}],columna2:[{name:"opcion",label:"opcion",field:"opcion"},{name:"cantidad",label:"CANTIDAD",field:"cantidad"},{name:"unidad",label:"UNIDAD",field:"unidad"},{name:"material",label:"MATERIAL",field:"material"},{name:"codificar",label:"Cod",field:"codificar"}],data:[]}},created(){this.mismateriales(),this.mistiendas(),this.misdatos()},methods:{editDato(t){this.compra=t,this.dialogMod=!0},modificar(){this.$axios.put("compra/"+this.compra.id,this.compra).then((t=>{this.compra={},this.dialogMod=!1,this.misdatos()}))},filterTienda(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tiendas=this.filtertiendas.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tiendas=this.filtertiendas})},filterMat(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.materiales=this.filterMateriales.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.materiales=this.filterMateriales})},validarCompra(){this.$axios.get("valCompra/"+this.dato.nrocompra).then((t=>{t.data.length>0?this.mensaje="La compra ya existe":this.mensaje=""}))},viewRow(t){console.log(t.contenidos),this.detalle=t.contenidos,this.dialogDetalle=!0},registrar(){return 0==this.listado.length?(this.$q.notify({icon:"info",message:"Debe Ingresar material ",color:"red"}),!1):void 0==this.tienda.id?(this.$q.notify({icon:"info",message:"Debe Seleccionar Proveedor",color:"red"}),!1):""==this.dato.fecha||void 0==this.dato.fecha?(this.$q.notify({icon:"info",message:"Debe ingresar fecha",color:"red"}),!1):(this.$q.loading.show(),this.dato.contenido=this.listado,this.dato.tienda_id=this.tienda.id,void this.$axios.post("compra",this.dato).then((t=>{console.log(t.data),this.misdatos(),this.$q.notify({color:"green-4",icon:"check",message:"Creado correctamente"}),this.alert=!1,this.dato={},this.listado=[],this.$q.loading.hide()})))},eliminar(t){console.log(t),this.listado.splice(t.rowIndex,1)},agregarMaterial(){if(console.log(this.listado),void 0==this.reg.cantidad||this.reg.cantidad<=0||void 0==this.material.id)return console.log("error2 ing"),!1;this.reg.material=this.material,this.reg.total=parseFloat(this.reg.cantidad)*parseFloat(this.reg.unitario),this.listado.push(this.reg),this.material={label:""}},mismateriales(){this.$q.loading.show(),this.materiales=[],this.$axios.get("material").then((t=>{console.log(t.data),t.data.forEach((t=>{t.label=t.nombre,this.materiales.push(t)})),this.filterMateriales=this.materiales,this.material={label:""},this.$q.loading.hide()}))},mistiendas(){this.$q.loading.show(),this.$axios.get("tienda").then((t=>{console.log(t.data),t.data.forEach((t=>{t.label=t.nombre})),this.tiendas=t.data,this.filtertiendas=this.tiendas,this.$q.loading.hide(),this.tienda={label:""}}))},misdatos(){this.$q.loading.show(),this.$axios.get("compra").then((t=>{console.log(t.data),this.compras=t.data,this.$q.loading.hide()}))},editRow(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("material",this.dato).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={},this.alert=!1,this.misdatos()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onDel(){this.$q.loading.show(),this.$axios.delete("compra/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato={}}}},mo=ho,bo=Object(f["a"])(mo,co,uo,!1,null,null,null),go=bo.exports;at()(bo,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QSelect:tt["a"],QTable:V["a"],QTd:H["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(bo,"directives",{ClosePopup:pt["a"]});var fo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registrar Tienda",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO TIENDA PROVEEDOR")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.nombre,callback:function(e){t.$set(t.dato,"nombre",e)},expression:"dato.nombre"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Codigo","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato.codigo,callback:function(e){t.$set(t.dato,"codigo",e)},expression:"dato.codigo"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Representante"},model:{value:t.dato.representante,callback:function(e){t.$set(t.dato,"representante",e)},expression:"dato.representante"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Direccion"},model:{value:t.dato.direccion,callback:function(e){t.$set(t.dato,"direccion",e)},expression:"dato.direccion"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Telefono"},model:{value:t.dato.telefono,callback:function(e){t.$set(t.dato,"telefono",e)},expression:"dato.telefono"}}),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-table",{attrs:{filter:t.filter,title:"LISTADO DE TIENDA/PROVEEDOR",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)]}}])}),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR TIENDA")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre ","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.nombre,callback:function(e){t.$set(t.dato2,"nombre",e)},expression:"dato2.nombre"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Codigo ","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.dato2.codigo,callback:function(e){t.$set(t.dato2,"codigo",e)},expression:"dato2.codigo"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Representante "},model:{value:t.dato2.representante,callback:function(e){t.$set(t.dato2,"representante",e)},expression:"dato2.representante"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Direccion"},model:{value:t.dato2.direccion,callback:function(e){t.$set(t.dato2,"direccion",e)},expression:"dato2.direccion"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Telefono"},model:{value:t.dato2.telefono,callback:function(e){t.$set(t.dato2,"telefono",e)},expression:"dato2.telefono"}}),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},vo=[];const{addToDate:qo}=P["a"];var Co={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{},model:"",dato2:{},options:[],props:[],modelpermiso:!1,uni:{},columns:[{name:"nombre",align:"left",label:"NOMBRE",field:"nombre",sortable:!0},{name:"codigo",align:"left",label:"CODIGO",field:"codigo",sortable:!0},{name:"representante",align:"left",label:"REPRESENTANTE ",field:"representante",sortable:!0},{name:"direccion",align:"left",label:"DIRECCION",field:"direccion",sortable:!0},{name:"telefono",align:"left",label:"TELEFONO",field:"telefono",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"opcion",sortable:!1}],data:[]}},created(){this.misdatos()},methods:{misdatos(){this.$q.loading.show(),this.$axios.get("tienda").then((t=>{console.log(t.data),this.data=t.data,this.$q.loading.hide()}))},editRow(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("tienda",this.dato).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={},this.alert=!1,this.misdatos()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("tienda/"+this.dato2.id,this.dato2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("tienda/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato={}}}},xo=Co,yo=Object(f["a"])(xo,fo,vo,!1,null,null,null),_o=yo.exports;at()(yo,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QTable:V["a"],QTd:H["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(yo,"directives",{ClosePopup:pt["a"]});var wo=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"text-h5 text-center"},[t._v("SALIDA DE MATERIAL")]),e("div",[e("q-btn",{attrs:{color:"green",icon:"check",label:"Registro"},on:{click:function(e){t.detalle=[],t.salida={},t.dialogReg=!0}}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-4 q-pa-xs"},[e("q-input",{attrs:{dense:"",type:"date",label:"Fecha",outlined:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),e("div",{staticClass:"col-4"},[e("q-btn",{attrs:{color:"green",icon:"search",label:"Buscar"},on:{click:t.generarList}})],1),e("div",{staticClass:"col-4"},[e("q-btn",{attrs:{color:"info",icon:"print",label:"Impresion"},on:{click:t.printDia}})],1),e("div",{staticClass:"col-4 q-pa-xs"},[e("q-input",{attrs:{dense:"",type:"date",label:"Fecha2",outlined:""},model:{value:t.fecha2,callback:function(e){t.fecha2=e},expression:"fecha2"}})],1),e("div",{staticClass:"col-4"},[e("q-btn",{attrs:{color:"accent",icon:"print",label:"Reporte"},on:{click:t.printReport}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"DATOS DE SALIDA",data:t.salidas,columns:t.colsalida,"row-key":"name",filter:t.filter},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-elementos",fn:function(a){return[e("q-td",{key:"elementos",attrs:{props:a}},t._l(a.row.elementos,(function(a){return e("div",{key:a.id},[t._v("\n                "+t._s(a.cantidad)+" "+t._s(a.material)+" - "+t._s(a.inventario.num)+"\n              ")])})),0)]}},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{color:"info",icon:"print",dense:""},on:{click:function(e){return t.printSalida(a.row)}}})],1)]}}])})],1),e("q-dialog",{attrs:{"full-width":""},model:{value:t.dialogReg,callback:function(e){t.dialogReg=e},expression:"dialogReg"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"shopping_cart",color:"primary","text-color":"white",dense:"",size:"40px"}}),e("span",{staticClass:"q-ml-sm"},[t._v("REGISTRO SALIDA DE MATERIAL")])],1),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{"use-input":"",options:t.tecnicos,label:"Tecnicos",outlined:"",dense:""},on:{filter:t.filterTec},model:{value:t.tecnico,callback:function(e){t.tecnico=e},expression:"tecnico"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"text",label:"Destino",outlined:"",dense:""},model:{value:t.salida.destino,callback:function(e){t.$set(t.salida,"destino",e)},expression:"salida.destino"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"text",label:"Motivo",outlined:"",dense:""},model:{value:t.salida.motivo,callback:function(e){t.$set(t.salida,"motivo",e)},expression:"salida.motivo"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{options:t.carros,label:"Carro",outlined:"",dense:""},model:{value:t.salida.carro,callback:function(e){t.$set(t.salida,"carro",e)},expression:"salida.carro"}})],1),e("div",{staticClass:"col-6",style:"background-color: "+t.material.color},[e("q-select",{attrs:{outlined:"",dense:"","use-input":"",options:t.materiales,label:"Material"},on:{filter:t.filterMat},scopedSlots:t._u([{key:"option",fn:function(a){return[e("q-item",t._b({},"q-item",a.itemProps,!1),[e("q-item-section",{style:"background-color: "+a.opt.color,on:{click:function(e){t.material=a.opt}}},[e("q-item-label",{style:a.opt.style},[t._v(t._s(a.opt.label))])],1)],1)]}}]),model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-4"},[e("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Cantidad"},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"green",icon:"add_circle_outline"},on:{click:t.onclick}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"Detalle",data:t.detalle,columns:t.columna,"row-key":"name",dense:""},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{color:"red",icon:"delete",dense:""},on:{click:function(e){return t.quitarLista(a)}}})],1)]}},{key:"body-cell-material",fn:function(a){return[e("q-td",{key:"material",attrs:{props:a}},[t._v("\n              "+t._s(a.row.material.nombre)+"\n            ")])]}}])})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",color:"red",icon:"cancel",label:"CANCELAR"}})],1),e("div",{staticClass:"col-4"},[e("q-btn",{attrs:{dense:"",color:"green",icon:"check",label:"REGISTRAR"},on:{click:t.registroSalida}})],1)])])],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},ko=[],Do=(a("9490"),{data(){return{filter:"",salida:{},cantidad:1,material:{label:""},fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),fecha2:P["a"].formatDate(new Date,"YYYY-MM-DD"),salidas:[],materiales:[],filterMateriales:[],tecnico:{},filtertecnicos:[],tecnicos:[],detalle:[],columna:[{name:"cant",label:"Cantidad",field:"cant"},{name:"codigo",label:"codigo",field:"codigo"},{name:"material",label:"material",field:"material"},{name:"estado",label:"estado",field:"estado"},{name:"opcion",label:"opcion",field:"opcion"}],colsalida:[{name:"tecnico",label:"TECNICO",field:t=>t.tecnico.name},{name:"carro",label:"CARRO",field:"carro"},{name:"destino",label:"DESTINO",field:"destino"},{name:"motivo",label:"MOTIVO",field:"motivo"},{name:"elementos",label:"MATERIALES",field:"elementos"},{name:"opcion",label:"OPCION",field:"opcion"}],codigo:"",carros:["","CARRO VALDE 1","CARRO VALDE 2","CARRO VALDE 3","CARRO VALDE AZUL","CAMIONETA ROJA","CAMIONETA ROJA II","CAMIONETA BLANCA","CARRO DE TRAFICO","C Dependencia","C Parques y Plazas","C Posteadores","Linea Piloto"],dialogReg:!1}},created(){this.getMaterial(),this.cargarTecnicos(),this.generarList()},methods:{printReport(){this.$axios.post("reporteMaterial",{ini:this.fecha,fin:this.fecha2}).then((t=>{if(console.log(t.data),t.data.length>0){let e="<style>      *{font-size:10px;}      .table1{        width:100%;        border-collapse: collapse;      }      table, th, td {        border: 1px solid;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>      <div class='titulo'>SALIDA DE MATERIAL DE "+this.fecha+" AL "+this.fecha2+"</div> <br>      <table class='table1'><tr><th>CODIGO</th> <th>CANTIDAD</th><th>MATERIAL</th><th>STOCK_ALMACEN</th><tr>";t.data.forEach((t=>{e+="<tr><td>"+t.codigo+"</td><td>"+t.cantidad+"</td><td>"+t.material+"</td><td>"+t.almacen+"</td></tr> "})),e+="</table></div>",document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))}}))},onclick(){return void 0==this.material.id?(this.$q.notify({color:"red-4",icon:"info",message:"DEBE REGISTRAR MATERIAL"}),!1):this.cantidad<=0||""==this.cantidad||void 0==this.cantidad?(this.$q.notify({color:"red-4",icon:"info",message:"DEBE Ingresar cantidad correcta"}),!1):this.material.stock<this.cantidad?(this.$q.notify({color:"red-4",icon:"info",message:"No ay Suficiente Material"}),!1):(this.material.cantidad=this.cantidad,this.$q.loading.show(),void this.$axios.post("inventDisponible",this.material).then((t=>{if(console.log(t.data),"SI"==this.material.codificar)t.data.forEach((t=>{let e=this.detalle.find((e=>e.codigo==t.codigo));void 0==e&&(t.cant=1,this.detalle.push(t))}));else{let e=this.detalle.find((e=>e.codigo===t.data.codigo));console.log(e),void 0==e?(t.data.cant=this.cantidad,this.detalle.push(t.data)):e.cant+parseInt(this.cantidad)<=this.material.stock&&(e.cant=parseInt(e.cant)+parseInt(this.cantidad))}this.$q.loading.hide(),console.log(this.detalle)})).catch((t=>{this.$q.notify({color:"red-4",icon:"info",message:t.message})})))},filterMat(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.materiales=this.filterMateriales.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.materiales=this.filterMateriales})},getMaterial(){this.materiales=[],this.$axios.get("listmaterial").then((t=>{t.data.forEach((t=>{t.label=t.nombre,this.materiales.push(t)})),this.filterMateriales=this.materiales}))},generarList(){if(void 0==this.fecha||""==this.fecha)return!1;this.$axios.post("listsalida",{fecha:this.fecha}).then((t=>{this.salidas=t.data}))},registroSalida(){return 0==this.detalle.length?(this.$q.notify({color:"red-4",icon:"info",message:"DEBE REGISTRAR MATERIAL"}),!1):void 0==this.tecnico.id?(this.$q.notify({color:"red-4",icon:"info",message:"Debe Seleccioanr tecnico"}),!1):(this.salida.user_id=this.$store.state.login.user.id,this.salida.tecnico=this.tecnico.id,this.salida.detalle=this.detalle,this.$q.loading.show(),void this.$axios.post("salida",this.salida).then((t=>{this.$q.notify({color:"green-4",icon:"info",message:"Regsitrado"}),console.log(t.data),this.salida={},this.tecnico={label:""},this.detalle=[],this.dialogReg=!1,this.$q.loading.hide()})).catch((t=>{this.$q.notify({color:"red-4",icon:"info",message:t.message}),this.$q.loading.hide()})))},quitarLista(t){console.log(t),this.detalle.splice(t.rowIndex,1)},cargarTecnicos(){this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name})),this.tecnicos=t.data,this.tecnico={label:""},this.filtertecnicos=this.tecnicos}))},filterTec(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tecnicos=this.filtertecnicos.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tecnicos=this.filtertecnicos})},printSalida(t){let e="";t.elementos.forEach((t=>{e+="<tr><td>"+t.cantidad+"</td><td>"+t.material+"</td><td>"+t.inventario.codigo+"</td></tr>"}));let a="<style>      table{        width:100%;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>        <table style='padding:5px'><tr><td>      <div class='titulo'>SALIDA DE ALMACEN</div>      <div><b>FECHA: </b>"+t.fecha+" "+t.hora+"</div>      <div><b>TECNICO: </b>"+t.tecnico.name+"</div>      <div><b>CARRO: </b>"+t.carro+"</div>      <div><b>DESTINO: </b>"+t.destino+"</div>      <div><b>MOTIVO: </b>"+t.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:10px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>"+e+"</table>        </td><td>          <div class='titulo'>SALIDA DE ALMACEN</div>      <div><b>FECHA: </b>"+t.fecha+" "+t.hora+"</div>      <div><b>TECNICO: </b>"+t.tecnico.name+"</div>      <div><b>CARRO: </b>"+t.carro+"</div>      <div><b>DESTINO: </b>"+t.destino+"</div>      <div><b>MOTIVO: </b>"+t.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:10px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>"+e+"</table></td></tr>";a+="</table></div>\n      ",document.getElementById("myelement").innerHTML=a;const o=new Q["Printd"];o.print(document.getElementById("myelement"))},printDia(){let t="<style>      *{font-size:10px;}      table{        width:100%;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>      <div class='titulo'>SALIDA DE ALMACEN</div>";this.salidas.forEach((e=>{t+="<div><b>FECHA: </b>"+e.fecha+" "+e.hora+"</div>      <div><b>TECNICO: </b>"+e.tecnico.name+"</div>      <div><b>CARRO: </b>"+e.carro+"</div>      <div><b>DESTINO: </b>"+e.destino+"</div>      <div><b>MOTIVO: </b>"+e.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:5px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>",e.elementos.forEach((e=>{t+="<tr><td>"+e.cantidad+"</td><td>"+e.material+"</td><td>"+e.inventario.codigo+"</td></tr> "})),t+='</table><hr style=" border: 1px solid red;">'})),t+="</div>",document.getElementById("myelement").innerHTML=t;const e=new Q["Printd"];e.print(document.getElementById("myelement"))},regList(){this.$axios.get("consultaInv/"+this.codigo).then((t=>{if(console.log(t.data),""!=t.data){let e=this.detalle.find((t=>t.codigo===this.codigo));console.log(e),void 0==e?(t.data.cant=1,this.detalle.push(t.data)):(e.cant>=t.data.cantidad||(e.cant+=1),console.log(e)),console.log(this.detalle)}this.codigo=""}))}}}),Ao=Do,Eo=a("0170"),Oo=Object(f["a"])(Ao,wo,ko,!1,null,null,null),Io=Oo.exports;at()(Oo,"components",{QPage:Y["a"],QBtn:B["a"],QInput:G["a"],QTable:V["a"],QIcon:Z["a"],QTd:H["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QAvatar:Qe["a"],QSelect:tt["a"],QItem:Aa["a"],QItemSection:Ea["a"],QItemLabel:Eo["a"],QForm:K["a"]}),at()(Oo,"directives",{ClosePopup:pt["a"]});var Ro=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"text-h5",attrs:{align:"center"}},[t._v("DEVOLUCION MATERIAL TECNICO")]),e("div",{staticClass:"col-6"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.consultar.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{"use-input":"",options:t.tecnicos,label:"Tecnicos",outlined:"",dense:""},on:{filter:t.filterTec},model:{value:t.tecnico,callback:function(e){t.tecnico=e},expression:"tecnico"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"text",label:"Codigo Material",autofocus:"",dense:"",outlined:""},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"number",label:"Cantidad",dense:"",outlined:""},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),e("div",{staticClass:"col-3"},[e("q-btn",{attrs:{color:"primary",icon:"check",label:"OK",type:"submit"}})],1)]),e("div")])],1),t.correcto?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("table",[e("tr",[e("th",[t._v("Tecnico")]),e("td",[t._v(t._s(t.info.user.name))])]),e("tr",[e("th",[t._v("Codigo ")]),e("td",[t._v(t._s(t.info.inventario.codigo))])]),e("tr",[e("th",[t._v("Material")]),e("td",[t._v(t._s(t.info.material.nombre))])]),e("tr",[e("th",[t._v("Cantidad")]),e("td",[t._v(t._s(t.info.saldo))])]),e("tr",[e("th",[t._v("Fecha")]),e("td",[t._v(t._s(t.info.fecha))])])])]),e("div",{staticClass:"col-6"},[e("q-btn",{attrs:{color:"primary",icon:"keyboard_return  ",label:"DEVOLVER"},on:{click:t.onClick}})],1)])]:t._e()],2)},To=[],$o={components:{},data(){return{isLoading:!0,cantidad:1,camera:"auto",result:null,showScanConfirmation:!1,info:{},correcto:!1,codigo:"",error:"",tecnicos:[],tecnico:{},filtertecnicos:[]}},mounted(){this.cargarTecnicos()},methods:{cargarTecnicos(){this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name})),this.tecnicos=t.data,this.tecnico={label:""},this.filtertecnicos=this.tecnicos}))},filterTec(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tecnicos=this.filtertecnicos.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tecnicos=this.filtertecnicos})},onClick(){return!(this.cantidad<=0||""==this.cantidad||void 0==this.cantidad)&&(!(this.cantidad>this.info.saldo)&&void this.$q.dialog({title:"DEVOLUCION MATERIAL",message:"Esta seguro de devolver?",cancel:!0,persistent:!1}).onOk((()=>{this.$axios.post("devolucionMaterial",{codigo:this.info.inventario.codigo,id:this.info.user_id,cantidad:this.cantidad}).then((t=>{console.log(t.data),this.correcto=!1,this.info={},this.cantidad=1,this.codigo=""}))})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{})))},onDecode(t){console.log(t),this.codigo=t,this.consultar()},consultar(){return console.log(this.tecnico),void 0!=this.codigo&&""!=this.codigo&&(void 0!=this.tecnico.id&&(this.info={},this.correcto=!1,void this.$axios.post("consultaBodega",{cod:this.codigo,id:this.tecnico.id}).then((t=>{console.log(t.data),""!=t.data&&(this.info=t.data,this.cantidad=t.data.saldo,this.info.fecha=P["a"].formatDate(this.info.created_at,"YYYY-MM-DD H:m"),this.correcto=!0)}))))}}},So=$o,No=(a("e45b"),Object(f["a"])(So,Ro,To,!1,null,null,null)),Mo=No.exports;at()(No,"components",{QPage:Y["a"],QForm:K["a"],QSelect:tt["a"],QInput:G["a"],QBtn:B["a"]});var jo=function(){var t=this,e=t._self._c;return e("q-page",[e("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.misjobs.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 q-pa-xs"},[e("q-input",{attrs:{outlined:"",type:"date",label:"Fecha",dense:"",required:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),e("div",{staticClass:"col-3 q-pa-xs"},[e("q-btn",{attrs:{label:"Buscar",type:"submit",color:"primary",icon:"search",dense:""}})],1)]),e("div")]),e("div",{staticClass:"col-12"},[e("l-map",{staticStyle:{height:"50vh"},attrs:{zoom:t.zoom,center:t.center},on:{click:t.cargarpunto}},[e("l-tile-layer",{attrs:{url:t.styleMap?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}","layer-type":"base",name:"OpenStreetMap",attribution:t.attribution,options:{maxNativeZoom:18,maxZoom:20}}}),e("l-marker",{attrs:{"lat-lng":[t.lat,t.lng],draggable:"",title:"Usted esta Aqui"},on:{moveend:t.updateCoordinates,click:function(e){t.modalpunto=!0}}},[e("l-icon",{attrs:{"icon-url":"http://maps.google.com/mapfiles/ms/icons/pink-pushpin.png"}})],1),t._l(t.jobs,(function(a){return e("l-marker",{key:a.id,attrs:{"lat-lng":[a.lat,a.lng]},on:{click:function(e){t.center=[a.lat,a.lng]}}},[e("l-icon",{attrs:{"icon-url":"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}})],1)})),e("l-control",{attrs:{position:"topright"}},[e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"my_location",dense:"",round:""},on:{click:t.geolocate}}),e("q-btn",{staticClass:"bg-primary text-white",attrs:{icon:"map",dense:"",round:""},on:{click:function(e){t.styleMap=!t.styleMap}}})],1)],2)],1),e("q-table",{attrs:{data:t.jobs,columns:t.colums,filter:t.filter},scopedSlots:t._u([{key:"top-left",fn:function(){return[e("q-toggle",{attrs:{color:"green",label:t.tipo2,"true-value":"PLAZAS Y PARQUES","false-value":"DEPENDENCIAS"},model:{value:t.tipo2,callback:function(e){t.tipo2=e},expression:"tipo2"}}),e("q-btn",{attrs:{color:"red",label:"PDF"},on:{click:t.exportPdf}})]},proxy:!0},{key:"top-right",fn:function(){return[e("q-btn",{attrs:{icon:"refresh",color:"info"},on:{click:t.misjobs}}),e("q-btn",{attrs:{icon:"adjust",color:"negative"},on:{click:t.centro}}),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-op",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"red",icon:"location_on",dense:""},on:{click:function(e){return t.goPlace(a.row)}}})],1)]}}])}),e("q-dialog",{attrs:{"full-width":""},model:{value:t.modalpunto,callback:function(e){t.modalpunto=e},expression:"modalpunto"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("REGISTRO DE "+t._s(t.tipo))])]),e("q-card-section",{staticClass:"q-pt-none"},[e("q-form",{on:{submit:t.registroJob}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("b",[t._v("LAT: ")]),t._v(" "+t._s(t.job.lat)+"\n            ")]),e("div",{staticClass:"col-6"},[e("b",[t._v("LNG: ")]),t._v(t._s(t.job.lng)+"\n            ")])]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",dense:"",label:"Lugar",list:"lugares"},model:{value:t.lugar,callback:function(e){t.lugar=e},expression:"lugar"}}),e("datalist",{attrs:{id:"lugares"}},t._l(t.lugares,(function(a){return e("option",{key:a.lugar},[t._v(t._s(a.lugar))])})),0)],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-toggle",{attrs:{color:"green",label:t.tipo,"true-value":"PLAZAS Y PARQUES","false-value":"DEPENDENCIAS"},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1)]),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{required:"",dense:"",outlined:"",type:"textarea",label:"Actividad"},model:{value:t.job.actividad,callback:function(e){t.$set(t.job,"actividad",e)},expression:"job.actividad"}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",options:t.listMaterial,label:"Materiales",outlined:""},on:{input:function(e){return t.buscar()}},model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("q-select",{attrs:{dense:"",options:t.codigos,label:"Codigo",outlined:""},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),e("div",{staticClass:"col-md-3 col-xs-6"},[e("b",[t._v("Disponible:")]),t._v(t._s(t.codigo.saldo)+"\n              ")]),e("div",{staticClass:"col-md-2 col-xs-4"},[e("q-input",{attrs:{type:"number",label:"Cantidad",required:"",outlined:"",dense:""},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),e("div",{staticClass:"col-md-1 col-xs-2 q-pa-xs"},[e("q-btn",{attrs:{color:"green",icon:"add_circle",dense:""},on:{click:t.agregar}})],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"DETALLE",data:t.detalle,columns:t.coldetalle,"row-key":"name",dense:""},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"red",icon:"delete",size:"xs",round:""},on:{click:function(e){return t.delDetalle(a.rowIndex)}}})],1)]}}])})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha"},model:{value:t.job.fecha,callback:function(e){t.$set(t.job,"fecha",e)},expression:"job.fecha"}})],1),e("div",{staticClass:"col-md-6 col-xs-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"time",label:"Hora"},model:{value:t.job.hora,callback:function(e){t.$set(t.job,"hora",e)},expression:"job.hora"}})],1),e("div",{staticClass:"col-12 flex flex-center"},[e("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Realizar mantenimiento",color:"positive",icon:"construction"}})],1)])])],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},Lo=[],Po={data(){return{lugar:"",max:19,modalpunto:!1,styleMap:!0,detalle:[],material:{},codigo:{},codigos:[],tipo:"PLAZAS Y PARQUES",tipo2:"PLAZAS Y PARQUES",fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),filter:"",job:{fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),hora:P["a"].formatDate(new Date,"HH:mm")},persona:{},cantidad:1,colums:[{name:"op",label:"OP",field:"op"},{name:"lat",label:"LAT",field:"lat"},{name:"lng",label:"LNG",field:"lng"},{name:"lugar",label:"LUGAR",field:"lugar"},{name:"tipo",label:"TIPO",field:"tipo"},{name:"actividad",label:"ACTIVIDAD",field:"actividad"}],coldetalle:[{label:"OP",field:"opcion",name:"opcion"},{label:"MATERIAL",field:"material",name:"material"},{label:"CODIGO",field:t=>t.inventario.codigo,name:"codigo"},{label:"CANT",field:"uso",name:"uso"}],jobs:[],lugares:[],listMaterial:[],attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:13,center:{lat:-17.97031,lng:-67.11178},markerLatLng:[-17.97031,-67.11178],lat:0,lng:0}},created(){this.geolocate(),this.misjobs(),this.cargarMaterial(),this.cargalugar()},methods:{exportPdf(){if(this.jobs.length>0){this.cadena="<style>          .fuente{font-size:10px}          table{width:100%; border-collapse: collapse;}          table, th, td {  border: 1px solid;}          titulo{font-weight: bold; font-size:16px; text-align: center;}          </style>          <div class='fuente'>            <table style='border:0;'><tr><td style='border:0;width:20%;'><img src='logo.jpg' style='width:50px; height:50px;'/></td>               <td class='titulo' style='border:0;'> RESUMEN DE "+this.tipo2+" DEL "+this.fecha+" Usuario: "+this.jobs[0].user.name+"</td>               </tr>            </table>            <table>            <thead><tr><th>N</th><th>LAT</th><th>LNG</th><th>FECHA</th><th>HORA</th><th>LUGAR</th><th>TECNICO</th><th>TIPO</th><th>ACTIVIDAD</th></tr></thead>          <tbody>";let t=0;this.jobs.forEach((e=>{e.tipo==this.tipo2&&(t++,this.cadena+="<tr>              <td>"+t+"</td>              <td>"+e.lat+"</td>              <td>"+e.lng+"</td>              <td>"+e.fecha+"</td>              <td>"+e.hora+"</td>              <td>"+e.lugar+"</td>              <td>"+e.user.name+"</td>              <td>"+e.tipo+"</td>              <td>"+e.actividad+"</td>              </tr>")})),this.cadena+="</tbody></table></div>",document.getElementById("myelement").innerHTML=this.cadena;const e=new Q["Printd"];e.print(document.getElementById("myelement"))}},goPlace(t){this.zoom=18,this.ubicacion=[t.lat,t.lng],this.center=this.ubicacion},cargarpunto(t){console.log(t.latlng),this.lat=t.latlng.lat,this.lng=t.latlng.lng,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion,this.job.lat=this.lat.toFixed(8),this.job.lng=this.lng.toFixed(8),this.job.fecha=P["a"].formatDate(new Date,"YYYY-MM-DD"),this.hora=P["a"].formatDate(new Date,"HH:mm")},updateCoordinates(t){this.lat=t.latLng.lat(),this.lng=t.latLng.lng(),this.ubicacion=[this.lat,this.lng],this.job.lat=this.lat.toFixed(8),this.job.lng=this.lng.toFixed(8),this.job.fecha=P["a"].formatDate(new Date,"YYYY-MM-DD"),this.hora=P["a"].formatDate(new Date,"HH:mm")},registroJob(){if(this.job.tipo=this.tipo,""==this.lugar)return!1;this.job.lugar=this.lugar,this.job.detalle=this.detalle,this.$q.loading.show(),this.$axios.post("trabajo",this.job).then((t=>{this.modalpunto=!1,this.job={},this.detalle=[],this.cargarMaterial(),this.misjobs(),this.$q.notify({icon:"info",message:"registrado ",color:"green"}),this.$q.loading.hide()})).catch((t=>{this.$q.notify({icon:"info",message:t.message,color:"red"}),this.$q.loading.hide()}))},cargalugar(){this.lugares=[],this.$axios.get("listLugar").then((t=>{this.lugares=t.data}))},async geolocate(){this.ubicacion=[0,0],console.log(navigator.geolocation),navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{this.zoom=18,this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.ubicacion=[this.lat,this.lng],this.center=this.ubicacion,this.job.lat=this.lat.toFixed(8),this.job.lng=this.lng.toFixed(8),this.job.fecha=P["a"].formatDate(new Date,"YYYY-MM-DD"),this.hora=P["a"].formatDate(new Date,"HH:mm")}))},delDetalle(t){this.detalle.splice(t,1),this.llenarActividad},agregar(){if(void 0==this.cantidad||""==this.cantidad||this.cantidad<=0)return this.cantidad=1,!1;this.cantidad>this.codigo.saldo&&(this.cantidad=this.codigo.saldo),this.detalle.find((t=>t.id===this.codigo.id))||(this.codigo.uso=this.cantidad,this.detalle.push(this.codigo),this.llenarActividad())},llenarActividad(){let t="Cambio o instalacion materiales: ";0==this.detalle.length&&(t=""),this.detalle.forEach((e=>{t+=" "+e.material+" Cod: "+e.inventario.codigo+", "})),this.job.actividad=t},buscar(){this.codigos=this.material.lista,this.codigo=this.material.lista[0],this.cantidad=1},cargarMaterial(){this.$axios.post("disponible").then((t=>{t.data.forEach((t=>{t.label=t.inventario.codigo;let e=this.listMaterial.find((e=>e.id===t.material_id));e?e.lista.push(t):this.listMaterial.push({id:t.material_id,label:t.material,lista:[t]})})),console.log(this.listMaterial),this.listMaterial.length>0?(this.material=this.listMaterial[0],this.codigo=this.material.lista[0],this.codigos=this.material.lista,this.cantidad=1):(this.material={label:""},this.codigo={label:""},this.cantidad=0)}))},clickclientes(t){this.center={lat:t.lat,lng:t.lng},this.zoom=18},centro(){this.center=[-17.97031,-67.11178],this.zoom=13},misjobs(){if(""==this.fecha||void 0==this.fecha)return!1;this.$q.loading.show(),this.jobs=[],this.$axios.post("listaTrabajos",{fecha:this.fecha}).then((t=>{console.log(t.data),this.jobs=t.data,this.$q.loading.hide()}))}}},Qo=Po,zo=Object(f["a"])(Qo,jo,Lo,!1,null,null,null),Fo=zo.exports;at()(zo,"components",{QPage:Y["a"],QForm:K["a"],QInput:G["a"],QBtn:B["a"],QTable:V["a"],QToggle:dt["a"],QIcon:Z["a"],QTd:H["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QSelect:tt["a"]});var Uo=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-xs"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-card",[e("q-card-section",{staticClass:"bg-accent text-white text-center text-subtitle2"},[t._v("REPORTE DEPENDENCIAS / PLAZAS Y PARQUES")]),e("q-card-section",[e("q-form",{on:{submit:function(e){return e.preventDefault(),t.reporte2.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-md-3"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha inicio",type:"date",required:""},model:{value:t.fecha1,callback:function(e){t.fecha1=e},expression:"fecha1"}})],1),e("div",{staticClass:"col-xs-12 col-md-3"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha fin",type:"date",required:""},model:{value:t.fecha2,callback:function(e){t.fecha2=e},expression:"fecha2"}})],1),e("div",{staticClass:"col-xs-12 col-md-3"},[e("q-toggle",{attrs:{color:"green",label:t.tipo,"true-value":"PLAZAS Y PARQUES","false-value":"DEPENDENCIAS"},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1),e("div",{staticClass:"col-12 col-sm-3"},[e("q-select",{attrs:{outlined:"",dense:"",label:"Usuario",options:t.users,"use-input":""},on:{filter:t.filterUs},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),e("div",{staticClass:"col-12 col-sm-3 flex flex-center"},[e("q-btn",{staticClass:"full-width full-height",attrs:{type:"submit",label:"Generar reporte",color:"positive",icon:"print"}})],1)])])],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"Denuncias",data:t.misjobs,color:"primary","row-key":"name",columns:t.columns,filter:t.filter},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-btn",{attrs:{color:"red",label:"PDF"},on:{click:t.exportPdf}}),e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])})],1)]),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})])},Yo=[],Bo={name:"Reportejob",data(){return{tipo:"PLAZAS Y PARQUES",tiprint:"",filter:"",fecha1:P["a"].formatDate(new Date,"YYYY-MM-DD"),fecha2:P["a"].formatDate(new Date,"YYYY-MM-DD"),misjobs:[],ini:"",fin:"",cadena:"",users:[{lable:"TODOS",id:0}],user:{},userprint:{},filtUser:[],columns:[{name:"lat",field:"lat",label:"LAT"},{name:"lng",field:"lng",label:"LNG"},{name:"fecha",field:"fecha",label:"FECHA",sortable:!0},{name:"hora",field:"hora",label:"HORA",sortable:!0},{name:"lugar",field:"lugar",label:"LUGAR",sortable:!0},{name:"tecnico",field:t=>t.user.name,label:"TECNICO",sortable:!0},{name:"tipo",field:"tipo",label:"TIPO"},{name:"actividad",field:"actividad",label:"ACTIVIDAD"}]}},created(){this.getUsers(),this.$store.state.login.boolreporte||this.$router.replace({path:"/home"})},methods:{filterUs(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.users=this.filtUser.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.users=this.filtUser})},getUsers(){this.users=[{label:"TODOS",id:0}],this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name,this.users.push(t)})),this.filtUser=this.users,this.user={label:""}}))},exportPdf(){if(this.misjobs.length>0){this.cadena="<style>          .fuente{font-size:10px}          table{width:100%; border-collapse: collapse;}          table, th, td {  border: 1px solid;}          titulo{font-weight: bold; font-size:16px; text-align: center;}          </style>          <div class='fuente'>            <table style='border:0;'><tr><td style='border:0;width:20%;'><img src='logo.jpg' style='width:50px; height:50px;'/></td>               <td class='titulo' style='border:0;'> RESUMEN DE "+this.tiprint+" DEL "+this.ini+" AL "+this.fin+" Usuario: "+this.userprint.label+"</td>               </tr>            </table>            <table>            <thead><tr><th>N</th><th>LAT</th><th>LNG</th><th>FECHA</th><th>HORA</th><th>LUGAR</th><th>TECNICO</th><th>TIPO</th><th>ACTIVIDAD</th></tr></thead>          <tbody>";let t=0;this.misjobs.forEach((e=>{t++,this.cadena+="<tr>              <td>"+t+"</td>              <td>"+e.lat+"</td>              <td>"+e.lng+"</td>              <td>"+e.fecha+"</td>              <td>"+e.hora+"</td>              <td>"+e.lugar+"</td>              <td>"+e.user.name+"</td>              <td>"+e.tipo+"</td>              <td>"+e.actividad+"</td>              </tr>"})),this.cadena+="</tbody></table></div>",document.getElementById("myelement").innerHTML=this.cadena;const e=new Q["Printd"];e.print(document.getElementById("myelement"))}},reporte2(){if(void 0==this.user.id)return!1;this.cadena="",this.$axios.post("reportJob",{ini:this.fecha1,fin:this.fecha2,id:this.user.id,tipo:this.tipo}).then((t=>{console.log(t.data),this.misjobs=t.data,this.userprint=this.user,this.tiprint=this.tipo,this.ini=this.fecha1,this.fin=this.fecha2}))}}},Vo=Bo,Ho=Object(f["a"])(Vo,Uo,Yo,!1,null,"446b0306",null),Go=Ho.exports;at()(Ho,"components",{QPage:Y["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QInput:G["a"],QToggle:dt["a"],QSelect:tt["a"],QBtn:B["a"],QTable:V["a"],QIcon:Z["a"]});var Zo=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("center",{staticClass:"text-h5"},[t._v("ACTAS DE ENTREGA")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 q-pa-xs"},[e("q-input",{attrs:{outlined:"",dense:"",type:"date",label:"Fecha Ini"},model:{value:t.ini,callback:function(e){t.ini=e},expression:"ini"}})],1),e("div",{staticClass:"col-md-3 q-pa-xs"},[e("q-input",{attrs:{outlined:"",dense:"",type:"date",label:"Fecha Fin"},model:{value:t.fin,callback:function(e){t.fin=e},expression:"fin"}})],1),e("div",{staticClass:"col-md-3 q-pa-xs"},[e("q-btn",{attrs:{color:"info",icon:"search",label:"Buscar"},on:{click:t.searchActa}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{data:t.actas,columns:t.columns,"row-key":"name",filter:t.filter},scopedSlots:t._u([{key:"top-right",fn:function(){return[t.$store.state.login.boolregacta?e("q-btn",{attrs:{color:"green",icon:"assignment",label:"Registrar"},on:{click:function(e){t.dialogForm=!0}}}):t._e(),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-op",fn:function(a){return[e("q-td",{attrs:{props:a}},[t.$store.state.login.booleditacta?e("q-btn",{attrs:{color:"yellow",icon:"edit",dense:""},on:{click:function(e){return t.cargarActa(a.row)}}}):t._e(),t.$store.state.login.booleditacta&&"NUEVAS INSTALACIONES"==a.row.tipo?e("q-btn",{attrs:{color:"orange",icon:"toc",dense:""},on:{click:function(e){return t.detalle(a.row)}}}):t._e(),t.$store.state.login.booleditacta?e("q-btn",{attrs:{color:"info",icon:"image",dense:""},on:{click:function(e){t.modif=a.row,t.dialogImg=!0}}}):t._e(),e("q-btn",{attrs:{color:"accent",icon:"download",dense:""},on:{click:function(e){return t.descargar(a.row)}}})],1)]}}])})],1),e("q-dialog",{model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("q-card-section",{staticClass:"row items-center"},[e("span",{staticClass:"q-ml-sm text-h5"},[t._v("REGISTRO DE ACTA")])]),e("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.registrarActa.apply(null,arguments)}}},[e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-select",{attrs:{dense:"","use-input":"","input-debounce":"0",options:t.juntas,label:"Junta Vecinal",outlined:""},on:{input:t.cargaDatos,filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\r\n                            No results\r\n                          ")])],1)]},proxy:!0}]),model:{value:t.junta,callback:function(e){t.junta=e},expression:"junta"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"date",label:"Fecha",outlined:"",dense:"",required:""},model:{value:t.datos.fecha,callback:function(e){t.$set(t.datos,"fecha",e)},expression:"datos.fecha"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{options:t.distritos,label:"Distrito",outlined:"",dense:"",required:""},model:{value:t.datos.distrito,callback:function(e){t.$set(t.datos,"distrito",e)},expression:"datos.distrito"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",dense:"",label:"Junta Vec"},model:{value:t.datos.junta,callback:function(e){t.$set(t.datos,"junta",e)},expression:"datos.junta"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",dense:"",label:"Lugar",list:"lugares"},model:{value:t.datos.lugar,callback:function(e){t.$set(t.datos,"lugar",e)},expression:"datos.lugar"}}),e("datalist",{attrs:{id:"lugares"}},t._l(t.lugares,(function(a){return e("option",{key:a.lugar},[t._v(t._s(a.lugar))])})),0)],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{options:t.tipos,label:"Tipo",outlined:"",dense:"",required:""},model:{value:t.datos.tipo,callback:function(e){t.$set(t.datos,"tipo",e)},expression:"datos.tipo"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"number",label:"Cantidad",outlined:"",dense:"",required:""},model:{value:t.datos.cantidad,callback:function(e){t.$set(t.datos,"cantidad",e)},expression:"datos.cantidad"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"text",label:"Luminaria",outlined:"",dense:""},model:{value:t.datos.luminaria,callback:function(e){t.$set(t.datos,"luminaria",e)},expression:"datos.luminaria"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{"use-input":"",options:t.tecnicos,label:"Tecnicos",outlined:"",dense:""},on:{filter:t.filterTec},model:{value:t.tecnico,callback:function(e){t.tecnico=e},expression:"tecnico"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",dense:"",label:"Vecino/Representate",list:"vecinos"},model:{value:t.datos.vecino,callback:function(e){t.$set(t.datos,"vecino",e)},expression:"datos.vecino"}}),e("datalist",{attrs:{id:"vecinos"}},t._l(t.vecinos,(function(a){return e("option",{key:a.vecino},[t._v(t._s(a.vecino))])})),0)],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"text",label:"Observacion",outlined:"",dense:""},model:{value:t.datos.observacion,callback:function(e){t.$set(t.datos,"observacion",e)},expression:"datos.observacion"}})],1),void 0!=t.datos.distrito&&""!=t.datos.distrito?e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("ARCHIVO Imagen / PDF")]),e("br"),e("input",{staticClass:"archi",attrs:{type:"file"},on:{change:t.getArch}}),t.porcentaje>0?e("div",{staticClass:"red"},[t._v("Subiendo ..."+t._s(t.porcentaje)+"%")]):t._e()]):t._e()])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outlined:"",dense:"",label:"Cancel",color:"red"}}),e("q-btn",{attrs:{outlined:"",dense:"",label:"registrar",color:"green",type:"submit"}})],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialogImg,callback:function(e){t.dialogImg=e},expression:"dialogImg"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("q-card-section",{staticClass:"row items-center"},[e("span",{staticClass:"q-ml-sm"},[t._v("Modificacion Archivo")])]),e("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.updateActa.apply(null,arguments)}}},[e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("ARCHIVO Imagen / PDF")]),e("br"),e("input",{attrs:{type:"file"},on:{change:t.getArch}}),t.porcentaje>0?e("div",{staticClass:"red"},[t._v("Subiendo ..."+t._s(t.porcentaje)+"%")]):t._e()])])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outlined:"",dense:"",label:"Cancel",color:"red"}}),e("q-btn",{attrs:{outlined:"",dense:"",label:"Modificar",color:"yellow",type:"submit"}})],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialogMod,callback:function(e){t.dialogMod=e},expression:"dialogMod"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("q-card-section",{staticClass:"row items-center"},[e("span",{staticClass:"q-ml-sm"},[t._v("MODIFICACION DE FORMULARIO ACTA")])]),e("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.modificarActa.apply(null,arguments)}}},[e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-select",{attrs:{dense:"","use-input":"","input-debounce":"0",options:t.juntas,label:"Junta Vecinal",outlined:""},on:{input:t.cargaDatos2,filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\r\n                            No results\r\n                          ")])],1)]},proxy:!0}]),model:{value:t.junta,callback:function(e){t.junta=e},expression:"junta"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"date",label:"Fecha",outlined:"",dense:"",required:""},model:{value:t.modif.fecha,callback:function(e){t.$set(t.modif,"fecha",e)},expression:"modif.fecha"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{options:t.distritos,label:"Distrito",outlined:"",dense:"",required:""},model:{value:t.modif.distrito,callback:function(e){t.$set(t.modif,"distrito",e)},expression:"modif.distrito"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",dense:"",label:"Junta Vec",list:"juntas"},model:{value:t.datos.junta,callback:function(e){t.$set(t.datos,"junta",e)},expression:"datos.junta"}}),e("datalist",{attrs:{id:"juntas"}},t._l(t.juntas,(function(a){return e("option",{key:a.junta},[t._v(t._s(a.junta))])})),0)],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",dense:"",label:"Lugar",list:"lugares"},model:{value:t.modif.lugar,callback:function(e){t.$set(t.modif,"lugar",e)},expression:"modif.lugar"}}),e("datalist",{attrs:{id:"lugares"}},t._l(t.lugares,(function(a){return e("option",{key:a.lugar},[t._v(t._s(a.lugar))])})),0)],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{options:t.tipos,label:"Tipo",outlined:"",dense:"",required:""},model:{value:t.modif.tipo,callback:function(e){t.$set(t.modif,"tipo",e)},expression:"modif.tipo"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"number",label:"Cantidad",outlined:"",dense:"",required:""},model:{value:t.modif.cantidad,callback:function(e){t.$set(t.modif,"cantidad",e)},expression:"modif.cantidad"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"text",label:"Luminaria",outlined:"",dense:""},model:{value:t.modif.luminaria,callback:function(e){t.$set(t.modif,"luminaria",e)},expression:"modif.luminaria"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-select",{attrs:{"use-input":"",options:t.tecnicos,label:"Tecnicos",outlined:"",dense:""},on:{filter:t.filterTec},model:{value:t.tecnico,callback:function(e){t.tecnico=e},expression:"tecnico"}})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",dense:"",label:"Vecino/Representate",list:"vecinos"},model:{value:t.modif.vecino,callback:function(e){t.$set(t.modif,"vecino",e)},expression:"modif.vecino"}}),e("datalist",{attrs:{id:"vecinos"}},t._l(t.vecinos,(function(a){return e("option",{key:a.vecino},[t._v(t._s(a.vecino))])})),0)],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{type:"text",label:"Observacion",outlined:"",dense:""},model:{value:t.modif.observacion,callback:function(e){t.$set(t.modif,"observacion",e)},expression:"modif.observacion"}})],1)])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outlined:"",dense:"",label:"Cancel",color:"red"}}),e("q-btn",{attrs:{outlined:"",dense:"",label:"Modificar",color:"yellow",type:"submit"}})],1)],1)],1)],1)],1)},Jo=[],Wo={data(){return{url:"https://alumbradoback.gamo.gob.bo/api/",dialogForm:!1,dialogImg:!1,dialogMod:!1,junta:{},juntas:[],jfilter:[],modif:{},filter:"",datos:{fecha:P["a"].formatDate(Date.now(),"YYYY-MM-DD")},ini:P["a"].formatDate(Date.now(),"YYYY-MM-DD"),fin:P["a"].formatDate(Date.now(),"YYYY-MM-DD"),distritos:["D1","D2","D3","D4","D5","D6"],lugares:[],tecnicos:[],filtertecnicos:[],tecnico:{},archivo:"",porcentaje:0,vecinos:[],tipos:["NUEVAS INSTALACIONES","CAMBIO DE POTENCIA","MANTENIMIENTO","OTRO"],luminarias:["Sodio","Led"],potencias:["1000w","600w","400w","360w","300w","250w","240w","200w","196w","150w","144w","136w","125w","120w","100w","85w","75w","70w","60w","58w","50w","40w","38w","36w","30w","20w","24w","18w","15w","12w","10w","0"],columns:[{label:"OP",name:"op",field:"op"},{label:"FECHA",name:"fecha",field:"fecha"},{label:"JUNTA V",name:"junta",field:"junta"},{label:"LUGAR",name:"lugar",field:"lugar"},{label:"DISTRITO",name:"distrito",field:"distrito"},{label:"TIPO",name:"tipo",field:"tipo"},{label:"LUMINARIA",name:"luminaria",field:"luminaria"},{label:"CANTIDAD",name:"cantidad",field:"cantidad"},{label:"TECNICO",name:"tecnico",field:"tecnico"},{label:"VECINO",name:"vecino",field:"vecino"},{label:"OBS",name:"observacion",field:"observacion"}],actas:[]}},created(){this.listJunta(),this.searchActa(),this.cargarTecnicos()},methods:{cargaDatos(){console.log(this.junta),void 0==this.junta.id?(this.datos.junta="",this.datos.distrito="D1",this.datos.vecino="",this.datos.junta_id=null):(this.datos.junta_id=this.junta.id,this.datos.distrito=this.junta.distrito,this.datos.junta=this.junta.nombre,this.datos.vecino=this.junta.representate)},cargaDatos2(){console.log(this.junta),void 0==this.junta.id?(this.modif.junta="",this.modif.vecino="",this.modif.junta_id=null):(this.modif.junta_id=this.junta.id,this.modif.distrito=this.junta.distrito,this.modif.junta=this.junta.nombre,this.modif.vecino=this.junta.representate)},filterFn(t,e){e(""!==t&&null!==t?()=>{const e=t.toLowerCase();this.juntas=this.jfilter.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.juntas=this.jfilter})},listJunta(){this.juntas=[{label:""}],this.$q.loading.show(),this.$axios.get("junta").then((t=>{t.data.forEach((t=>{t.label=t.nombre+" "+t.distrito,this.juntas.push(t)})),this.$q.loading.hide(),this.jfilter=this.juntas,this.junta=this.juntas[0]}))},eliminar(t){this.$q.dialog({title:"Eliminar Acta",message:"Esta Seguro de Eliminar Acta?",cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),this.$axios.delete("acta/"+t.id).then((t=>{this.$q.notify({color:"red-4",textColor:"white",icon:"delete",message:"Registrado eliminado"}),this.searchActa()}))})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},cargarActa(t){this.modif=t,this.tecnico=t.user,this.tecnico.label=this.tecnico.name,this.dialogMod=!0},descargar(t){var e=this.url+"../archivos/"+t.archivo;window.open(e,"download")},registrarActa(){this.$q.loading.show(),this.datos.archivo=this.nameFile,this.datos.tecnico=this.tecnico.name,this.datos.user_id=this.tecnico.id,this.$axios.post("acta",this.datos).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Registrado correctamente"}),this.dialogForm=!1,this.datos={fecha:P["a"].formatDate(Date.now(),"YYYY-MM-DD")},this.nameFile="",this.tecnico={label:""},this.porcentaje=0,this.searchActa()}))},modificarActa(){this.$q.loading.show(),this.modif.tecnico=this.tecnico.name,this.modif.user_id=this.tecnico.id,this.$axios.put("acta/"+this.modif.id,this.modif).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialogMod=!1,this.datos={fecha:P["a"].formatDate(Date.now(),"YYYY-MM-DD")},this.nameFile="",this.searchActa()}))},updateActa(){if(this.$q.loading.show(),""==this.nameFile)return!1;this.modif.archivo=this.nameFile,this.$axios.post("uparchivo",this.modif).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Agregado correctamente"}),this.dialogImg=!1,this.datos={fecha:P["a"].formatDate(Date.now(),"YYYY-MM-DD")},this.nameFile="",this.porcentaje=0,this.searchActa()}))},getArch(t){this.archivo=t.target.files[0],this.porcentaje=0;let e="",a="";void 0!=this.datos.distrito&&""!=this.datos.distrito?a=this.datos.distrito:(a=this.modif.distrito,e=this.modif.id);const o=new FormData;o.append("file",this.archivo),o.append("distrito",a),o.append("id",e),this.$axios.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t=>{this.porcentaje=Math.round(t.loaded/t.total*100)}}).then((t=>{this.nameFile=t.data}))},cargajunta(){this.juntas=[],this.$axios.get("juntaActa").then((t=>{this.juntas=t.data}))},cargavecino(){this.vecinos=[],this.$axios.get("vecinosActa").then((t=>{this.vecinos=t.data}))},searchActa(){if(void 0==this.ini||void 0==this.fin)return!1;this.$q.loading.show(),this.$axios.post("listActa",{ini:this.ini,fin:this.fin}).then((t=>{console.log(t.data),this.actas=t.data,this.$q.loading.hide()}))},cargarTecnicos(){this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name})),this.tecnicos=t.data,this.tecnico={label:""},this.filtertecnicos=this.tecnicos}))},filterTec(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tecnicos=this.filtertecnicos.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tecnicos=this.filtertecnicos})}}},Xo=Wo,Ko=(a("4aa1"),Object(f["a"])(Xo,Zo,Jo,!1,null,null,null)),ti=Ko.exports;at()(Ko,"components",{QPage:Y["a"],QInput:G["a"],QBtn:B["a"],QTable:V["a"],QIcon:Z["a"],QTd:H["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QSelect:tt["a"],QItem:Aa["a"],QItemSection:Ea["a"],QCardActions:ut["a"]}),at()(Ko,"directives",{ClosePopup:pt["a"]});var ei=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"text-h5 text-center"},[t._v("SALIDA DE MATERIAL")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 q-pa-xs"},[e("q-input",{attrs:{dense:"",type:"date",label:"Fecha",outlined:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),e("div",{staticClass:"col-3 q-pa-xs"},[e("q-input",{attrs:{dense:"",type:"date",label:"Fecha2",outlined:""},model:{value:t.fecha2,callback:function(e){t.fecha2=e},expression:"fecha2"}})],1),e("div",{staticClass:"col-3 q-pa-xs"},[e("q-select",{attrs:{outlined:"",dense:"","use-input":"",options:t.materiales,label:"Material"},on:{filter:t.filterMat},model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-3 q-pa-xs"},[e("q-btn",{attrs:{color:"green",icon:"search",label:"Buscar"},on:{click:t.generarList}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"DATOS DE SALIDA",data:t.salidas,columns:t.colsalida,"row-key":"name",filter:t.filter},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])})],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})])},ai=[],oi={data(){return{filter:"",salida:{},cantidad:1,material:{label:""},fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),fecha2:P["a"].formatDate(new Date,"YYYY-MM-DD"),salidas:[],materiales:[],filterMateriales:[],tecnico:{},filtertecnicos:[],tecnicos:[],detalle:[],colsalida:[{name:"fecha",label:"FECHA",field:"fecha"},{name:"destino",label:"DESTINO",field:"destino"},{name:"motivo",label:"MOTIVO",field:"motivo"},{name:"carro",label:"CARRO",field:"carro"},{name:"tecnico",label:"TECNICO",field:"name"},{name:"cantidad",label:"CANTIDAD",field:"cantidad"},{name:"material",label:"MATERIAL",field:"material"},{name:"codigo",label:"CODIGO",field:"codigo"}],codigo:"",carros:["","CARRO VALDE 1","CARRO VALDE 2","CARRO VALDE 3","CARRO VALDE AZUL","CAMIONETA ROJA","CAMIONETA BLANCA","CARRO DE TRAFICO","C Dependencia","C Parques y Plazas","C Posteadores"],dialogReg:!1}},created(){this.getMaterial(),this.generarList()},methods:{printReport(){this.$axios.post("reporteMaterial",{ini:this.fecha,fin:this.fecha2}).then((t=>{if(console.log(t.data),t.data.length>0){let e="<style>      *{font-size:10px;}      .table1{        width:100%;        border-collapse: collapse;      }      table, th, td {        border: 1px solid;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>      <div class='titulo'>SALIDA DE MATERIAL DE "+this.fecha+" AL "+this.fecha2+"</div> <br>      <table class='table1'><tr><th>CODIGO</th> <th>CANTIDAD</th><th>MATERIAL</th><th>STOCK_ALMACEN</th><tr>";t.data.forEach((t=>{e+="<tr><td>"+t.codigo+"</td><td>"+t.cantidad+"</td><td>"+t.material+"</td><td>"+t.almacen+"</td></tr> "})),e+="</table></div>",document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))}}))},onclick(){return void 0==this.material.id?(this.$q.notify({color:"red-4",icon:"info",message:"DEBE REGISTRAR MATERIAL"}),!1):this.cantidad<=0||""==this.cantidad||void 0==this.cantidad?(this.$q.notify({color:"red-4",icon:"info",message:"DEBE Ingresar cantidad correcta"}),!1):this.material.stock<this.cantidad?(this.$q.notify({color:"red-4",icon:"info",message:"No ay Suficiente Material"}),!1):(this.material.cantidad=this.cantidad,this.$q.loading.show(),void this.$axios.post("inventDisponible",this.material).then((t=>{if(console.log(t.data),"SI"==this.material.codificar)t.data.forEach((t=>{let e=this.detalle.find((e=>e.codigo==t.codigo));void 0==e&&(t.cant=1,this.detalle.push(t))}));else{let e=this.detalle.find((e=>e.codigo===t.data.codigo));console.log(e),void 0==e?(t.data.cant=this.cantidad,this.detalle.push(t.data)):e.cant+parseInt(this.cantidad)<=this.material.stock&&(e.cant=parseInt(e.cant)+parseInt(this.cantidad))}this.$q.loading.hide(),console.log(this.detalle)})).catch((t=>{this.$q.notify({color:"red-4",icon:"info",message:t.message})})))},filterMat(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.materiales=this.filterMateriales.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.materiales=this.filterMateriales})},getMaterial(){this.materiales=[],this.$axios.get("material").then((t=>{t.data.forEach((t=>{t.label=t.nombre,this.materiales.push(t)})),this.filterMateriales=this.materiales}))},generarList(){return void 0!=this.fecha&&""!=this.fecha&&(void 0!=this.fecha2&&""!=this.fecha2&&(void 0!=this.material.id&&void this.$axios.post("reportEntregaMat",{ini:this.fecha,fin:this.fecha2,material_id:this.material.id}).then((t=>{this.salidas=t.data}))))},registroSalida(){return 0==this.detalle.length?(this.$q.notify({color:"red-4",icon:"info",message:"DEBE REGISTRAR MATERIAL"}),!1):void 0==this.tecnico.id?(this.$q.notify({color:"red-4",icon:"info",message:"Debe Seleccioanr tecnico"}),!1):(this.salida.user_id=this.$store.state.login.user.id,this.salida.tecnico=this.tecnico.id,this.salida.detalle=this.detalle,this.$q.loading.show(),void this.$axios.post("salida",this.salida).then((t=>{this.$q.notify({color:"green-4",icon:"info",message:"Regsitrado"}),console.log(t.data),this.salida={},this.tecnico={label:""},this.detalle=[],this.dialogReg=!1,this.$q.loading.hide()})).catch((t=>{this.$q.notify({color:"red-4",icon:"info",message:t.message}),this.$q.loading.hide()})))},quitarLista(t){console.log(t),this.detalle.splice(t.rowIndex,1)},cargarTecnicos(){this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name})),this.tecnicos=t.data,this.tecnico={label:""},this.filtertecnicos=this.tecnicos}))},filterTec(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tecnicos=this.filtertecnicos.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tecnicos=this.filtertecnicos})},printSalida(t){let e="";t.elementos.forEach((t=>{e+="<tr><td>"+t.cantidad+"</td><td>"+t.material+"</td><td>"+t.inventario.codigo+"</td></tr>"}));let a="<style>      table{        width:100%;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>        <table style='padding:5px'><tr><td>      <div class='titulo'>SALIDA DE ALMACEN</div>      <div><b>FECHA: </b>"+t.fecha+" "+t.hora+"</div>      <div><b>TECNICO: </b>"+t.tecnico.name+"</div>      <div><b>CARRO: </b>"+t.carro+"</div>      <div><b>DESTINO: </b>"+t.destino+"</div>      <div><b>MOTIVO: </b>"+t.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:10px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>"+e+"</table>        </td><td>          <div class='titulo'>SALIDA DE ALMACEN</div>      <div><b>FECHA: </b>"+t.fecha+" "+t.hora+"</div>      <div><b>TECNICO: </b>"+t.tecnico.name+"</div>      <div><b>CARRO: </b>"+t.carro+"</div>      <div><b>DESTINO: </b>"+t.destino+"</div>      <div><b>MOTIVO: </b>"+t.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:10px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>"+e+"</table></td></tr>";a+="</table></div>\n      ",document.getElementById("myelement").innerHTML=a;const o=new Q["Printd"];o.print(document.getElementById("myelement"))},printDia(){let t="<style>      *{font-size:10px;}      table{        width:100%;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>      <div class='titulo'>SALIDA DE ALMACEN</div>";this.salidas.forEach((e=>{t+="<div><b>FECHA: </b>"+e.fecha+" "+e.hora+"</div>      <div><b>TECNICO: </b>"+e.tecnico.name+"</div>      <div><b>CARRO: </b>"+e.carro+"</div>      <div><b>DESTINO: </b>"+e.destino+"</div>      <div><b>MOTIVO: </b>"+e.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:5px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>",e.elementos.forEach((e=>{t+="<tr><td>"+e.cantidad+"</td><td>"+e.material+"</td><td>"+e.inventario.codigo+"</td></tr> "})),t+='</table><hr style=" border: 1px solid red;">'})),t+="</div>",document.getElementById("myelement").innerHTML=t;const e=new Q["Printd"];e.print(document.getElementById("myelement"))},regList(){this.$axios.get("consultaInv/"+this.codigo).then((t=>{if(console.log(t.data),""!=t.data){let e=this.detalle.find((t=>t.codigo===this.codigo));console.log(e),void 0==e?(t.data.cant=1,this.detalle.push(t.data)):(e.cant>=t.data.cantidad||(e.cant+=1),console.log(e)),console.log(this.detalle)}this.codigo=""}))}}},ii=oi,si=Object(f["a"])(ii,ei,ai,!1,null,null,null),li=si.exports;at()(si,"components",{QPage:Y["a"],QInput:G["a"],QSelect:tt["a"],QBtn:B["a"],QTable:V["a"],QIcon:Z["a"]});var ni=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("center",{staticClass:"text-h5"},[t._v("LISTADO DE ACTAS DE ENTREGA")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 q-pa-xs"},[e("q-input",{attrs:{outlined:"",dense:"",type:"date",label:"Fecha Ini"},model:{value:t.ini,callback:function(e){t.ini=e},expression:"ini"}})],1),e("div",{staticClass:"col-md-3 q-pa-xs"},[e("q-input",{attrs:{outlined:"",dense:"",type:"date",label:"Fecha Fin"},model:{value:t.fin,callback:function(e){t.fin=e},expression:"fin"}})],1),e("div",{staticClass:"col-md-3 q-pa-xs"},[e("q-btn",{attrs:{color:"info",icon:"search",label:"Buscar"},on:{click:t.searchActa}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{data:t.actas,columns:t.columns,"row-key":"name",filter:t.filter},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-op",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{color:"accent",icon:"download",dense:""},on:{click:function(e){return t.descargar(a.row)}}})],1)]}}])})],1)],1)},ri=[],ci={data(){return{url:"https://alumbradoback.gamo.gob.bo/api/",dialogForm:!1,dialogImg:!1,dialogMod:!1,modif:{},filter:"",datos:{fecha:P["a"].formatDate(Date.now(),"YYYY-MM-DD")},ini:P["a"].formatDate(Date.now(),"YYYY-MM-DD"),fin:P["a"].formatDate(Date.now(),"YYYY-MM-DD"),distritos:["D1","D2","D3","D4","D5","D6"],lugares:[],tecnicos:[],filtertecnicos:[],tecnico:{},archivo:"",porcentaje:0,vecinos:[],tipos:["NUEVAS INSTALACIONES","CAMBIO DE POTENCIA","MANTENIMIENTO","OTRO"],columns:[{label:"OP",name:"op",field:"op"},{label:"FECHA",name:"fecha",field:"fecha",sortable:!0},{label:"LUGAR",name:"lugar",field:"lugar",sortable:!0},{label:"DISTRITO",name:"distrito",field:"distrito",sortable:!0},{label:"TIPO",name:"tipo",field:"tipo"},{label:"LUMINARIA",name:"luminaria",field:"luminaria"},{label:"CANTIDAD",name:"cantidad",field:"cantidad"},{label:"TECNICO",name:"tecnico",field:"tecnico",sortable:!0},{label:"VECINO",name:"vecino",field:"vecino",sortable:!0},{label:"OBS",name:"observacion",field:"observacion"}],actas:[]}},created(){this.searchActa()},methods:{cargarActa(t){this.modif=t,this.tecnico=t.user,this.tecnico.label=this.tecnico.name,this.dialogMod=!0},descargar(t){var e=this.url+"../archivos/"+t.archivo;window.open(e,"download")},cargalugar(){this.lugares=[],this.$axios.get("lugaresActa").then((t=>{this.lugares=t.data}))},cargavecino(){this.vecinos=[],this.$axios.get("vecinosActa").then((t=>{this.vecinos=t.data}))},searchActa(){if(void 0==this.ini||void 0==this.fin)return!1;this.$q.loading.show(),this.$axios.post("listActa",{ini:this.ini,fin:this.fin}).then((t=>{console.log(t.data),this.actas=t.data,this.$q.loading.hide()}))},cargarTecnicos(){this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name})),this.tecnicos=t.data,this.tecnico={label:""},this.filtertecnicos=this.tecnicos}))},filterTec(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tecnicos=this.filtertecnicos.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tecnicos=this.filtertecnicos})}}},di=ci,ui=(a("72f4"),Object(f["a"])(di,ni,ri,!1,null,null,null)),pi=ui.exports;at()(ui,"components",{QPage:Y["a"],QInput:G["a"],QBtn:B["a"],QTable:V["a"],QIcon:Z["a"],QTd:H["a"]});var hi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("center",{staticClass:"text-h5"},[t._v("REGISTRO DE MANTENIMIENTO")]),e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registro",color:"positive",icon:"add_circle"},on:{click:function(e){t.junta={label:""},t.alert=!0}}}),e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registrar Junta V",color:"accent",icon:"add_circle"},on:{click:function(e){t.junta2={},t.jvDialog=!0}}}),e("q-dialog",{model:{value:t.jvDialog,callback:function(e){t.jvDialog=e},expression:"jvDialog"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO DE JUNTA VECINAL")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.regJV,reset:t.onReset}},[e("q-input",{attrs:{outlined:"",type:"text",label:"Nombre ",hint:"Ingresar nombre","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.junta2.nombre,callback:function(e){t.$set(t.junta2,"nombre",e)},expression:"junta2.nombre"}}),e("q-select",{attrs:{options:["D1","D2","D3","D4","D5","D6"],label:"Distrito",outlined:""},model:{value:t.junta2.distrito,callback:function(e){t.$set(t.junta2,"distrito",e)},expression:"junta2.distrito"}}),e("q-select",{attrs:{options:["ZONA NORTE","ZONA ESTE","ZONA CENTRAL","ZONA OESTE","ZONA SUD","ZONA NOR ESTE","ZONA NOR OESTE","ZONA SUD ESTE","ZONA SUD OESTE"],label:"Zona",outlined:""},model:{value:t.junta2.zona,callback:function(e){t.$set(t.junta2,"zona",e)},expression:"junta2.zona"}}),e("q-input",{attrs:{outlined:"",type:"text",label:"Representante",hint:"nombre completo"},model:{value:t.junta2.representante,callback:function(e){t.$set(t.junta2,"representante",e)},expression:"junta2.representante"}}),e("q-input",{attrs:{outlined:"",label:"Celular",hint:"numero de contacto"},model:{value:t.junta2.celular,callback:function(e){t.$set(t.junta2,"celular",e)},expression:"junta2.celular"}}),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO NUEVO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-select",{attrs:{dense:"","use-input":"","input-debounce":"0",options:t.juntas,label:"Junta Vecinal",outlined:""},on:{input:t.cargaDatos,filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:t.junta,callback:function(e){t.junta=e},expression:"junta"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{type:"text",label:"JuntaV / Ubicacion",outlined:"",dense:""},model:{value:t.agenda.junta,callback:function(e){t.$set(t.agenda,"junta",e)},expression:"agenda.junta"}})],1),e("div",{staticClass:"col-6"},[e("q-select",{attrs:{options:t.distritos,label:"Distrito",outlined:"",dense:""},model:{value:t.agenda.distrito,callback:function(e){t.$set(t.agenda,"distrito",e)},expression:"agenda.distrito"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{type:"text",label:"Dirigente / Rep",outlined:"",dense:""},model:{value:t.agenda.dirigente,callback:function(e){t.$set(t.agenda,"dirigente",e)},expression:"agenda.dirigente"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{type:"text",label:"Telefono",outlined:"",dense:""},model:{value:t.agenda.telefono,callback:function(e){t.$set(t.agenda,"telefono",e)},expression:"agenda.telefono"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha",type:"date","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.agenda.fecha,callback:function(e){t.$set(t.agenda,"fecha",e)},expression:"agenda.fecha"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Inst Nuevas"},model:{value:t.agenda.nueva,callback:function(e){t.$set(t.agenda,"nueva",e)},expression:"agenda.nueva"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Mantenimiento"},model:{value:t.agenda.mtto,callback:function(e){t.$set(t.agenda,"mtto",e)},expression:"agenda.mtto"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Repotenciacion"},model:{value:t.agenda.repot,callback:function(e){t.$set(t.agenda,"repot",e)},expression:"agenda.repot"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Otros"},model:{value:t.agenda.otros,callback:function(e){t.$set(t.agenda,"otros",e)},expression:"agenda.otros"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Observacion"},model:{value:t.agenda.observacion,callback:function(e){t.$set(t.agenda,"observacion",e)},expression:"agenda.observacion"}})],1)]),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha Ini"},model:{value:t.ini,callback:function(e){t.ini=e},expression:"ini"}})],1),e("div",{staticClass:"col-3"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha Fin"},model:{value:t.fin,callback:function(e){t.fin=e},expression:"fin"}})],1),e("div",{staticClass:"col-3"},[e("q-select",{attrs:{options:t.estado1,label:"Estado",outlined:"",dense:""},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{dense:"",color:"green",icon:"search",label:"Buscar"},on:{click:t.Buscar}})],1)]),e("q-table",{attrs:{dense:"",filter:t.filter,title:"CRONOGRAMA",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[0,50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(a){return[e("q-tr",{style:"background-color:"+a.row.color,attrs:{props:a}},[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn-dropdown",{attrs:{dense:"","auto-close":"",rounded:"",color:"primary",label:"OP",split:""}},[e("q-list",{staticStyle:{width:"20px"},attrs:{dense:""}},["INICIO"!=a.row.estado?e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"indigo-7",icon:"checklist_rtl"},on:{click:function(e){return t.cargaEstado(a.row)}}}):t._e(),"SUSPENDIDO"!=a.row.estado&&"REALIZADO"!=a.row.estado?e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"accent",icon:"manage_accounts"},on:{click:function(e){return t.cargaAsigna(a.row)}}}):t._e(),"SUSPENDIDO"!=a.row.estado&&"REALIZADO"!=a.row.estado?e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"blue-10",icon:"today"},on:{click:function(e){return t.cargaFecha(a.row)}}}):t._e(),"SUSPENDIDO"!=a.row.estado&&"REALIZADO"!=a.row.estado?e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"orange-6",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}):t._e(),a.row.cantidad>0?e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"info",icon:"print"},on:{click:function(e){return t.printReport(a.row)}}}):t._e()],1)],1)],1),e("q-td",{key:"distrito",attrs:{props:a}},[t._v(t._s(a.row.distrito))]),e("q-td",{key:"junta",attrs:{props:a}},[t._v(t._s(a.row.junta))]),e("q-td",{key:"dirigente",attrs:{props:a}},[t._v(t._s(a.row.dirigente))]),e("q-td",{key:"telefono",attrs:{props:a}},[t._v(t._s(a.row.telefono))]),e("q-td",{key:"fecha",attrs:{props:a}},[t._v(t._s(a.row.fecha))]),e("q-td",{key:"estado",staticClass:"text-bold",attrs:{props:a}},[t._v(t._s(a.row.estado))]),e("q-td",{key:"nueva",attrs:{props:a}},[t._v(t._s(a.row.nueva))]),e("q-td",{key:"plantado",attrs:{props:a}},[t._v(t._s(a.row.plantado))]),e("q-td",{key:"mtto",attrs:{props:a}},[t._v(t._s(a.row.mtto))]),e("q-td",{key:"repot",attrs:{props:a}},[t._v(t._s(a.row.repot))]),e("q-td",{key:"otros",attrs:{props:a}},[t._v(t._s(a.row.otros))]),e("q-td",{key:"detalle",attrs:{props:a}},[a.row.cantidad>1?e("q-btn",{attrs:{dense:"",flat:"",color:"info",icon:"visibility"},on:{click:function(e){return t.verDetalle(a.row)}}}):t._e()],1),e("q-td",{key:"observacion",attrs:{props:a}},[t._v(t._s(a.row.observacion))]),e("q-td",{key:"tecnico",attrs:{props:a}},[t._v(t._s(a.row.tecnico))])],1)]}}])}),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR DATOS ")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("q-select",{attrs:{dense:"","use-input":"","input-debounce":"0",options:t.juntas,label:"Junta Vecinal",outlined:""},on:{input:t.cargaDatos2,filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:t.junta,callback:function(e){t.junta=e},expression:"junta"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{type:"text",label:"JuntaV / Ubicacion",outlined:"",dense:""},model:{value:t.agenda2.junta,callback:function(e){t.$set(t.agenda2,"junta",e)},expression:"agenda2.junta"}})],1),e("div",{staticClass:"col-6"},[e("q-select",{attrs:{options:t.distritos,label:"Distrito",outlined:"",dense:""},model:{value:t.agenda2.distrito,callback:function(e){t.$set(t.agenda2,"distrito",e)},expression:"agenda2.distrito"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{type:"text",label:"Dirigente / Rep",outlined:"",dense:""},model:{value:t.agenda2.dirigente,callback:function(e){t.$set(t.agenda2,"dirigente",e)},expression:"agenda2.dirigente"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{type:"text",label:"Telefono",outlined:"",dense:""},model:{value:t.agenda2.telefono,callback:function(e){t.$set(t.agenda2,"telefono",e)},expression:"agenda2.telefono"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Fecha",type:"date","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa datos"]},model:{value:t.agenda2.fecha,callback:function(e){t.$set(t.agenda2,"fecha",e)},expression:"agenda2.fecha"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Inst Nuevas"},model:{value:t.agenda2.nueva,callback:function(e){t.$set(t.agenda2,"nueva",e)},expression:"agenda2.nueva"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Mantenimiento"},model:{value:t.agenda2.mtto,callback:function(e){t.$set(t.agenda2,"mtto",e)},expression:"agenda2.mtto"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Repotenciacion"},model:{value:t.agenda2.repot,callback:function(e){t.$set(t.agenda2,"repot",e)},expression:"agenda2.repot"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Otros"},model:{value:t.agenda2.otros,callback:function(e){t.$set(t.agenda2,"otros",e)},expression:"agenda2.otros"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",dense:"",label:"Observacion"},model:{value:t.agenda2.observacion,callback:function(e){t.$set(t.agenda2,"observacion",e)},expression:"agenda2.observacion"}})],1)]),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("q-dialog",{model:{value:t.dialog_asig,callback:function(e){t.dialog_asig=e},expression:"dialog_asig"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("q-card-section",{staticClass:"row items-center"},[e("span",{staticClass:"q-ml-sm"},[t._v("ASIGNAR PERSONAL / INICIO")])]),e("q-card-section",{staticStyle:{"font-size":"10px"}},[e("div",[t._v(t._s(t.agenda2.fecha))]),e("div",[t._v(t._s(t.agenda2.junta))]),e("ul",[null!=t.agenda2.nueva?e("li",[t._v(t._s(t.agenda2.nueva))]):t._e(),null!=t.agenda2.repot?e("li",[t._v(t._s(t.agenda2.repot))]):t._e(),null!=t.agenda2.mtto?e("li",[t._v(t._s(t.agenda2.mtto))]):t._e(),null!=t.agenda2.plantado?e("li",[t._v(t._s(t.agenda2.plantado))]):t._e(),null!=t.agenda2.otros?e("li",[t._v(t._s(t.agenda2.otros))]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 q-pa-xs"},[e("q-select",{attrs:{options:t.tecnicos,label:"Tecnicos",outlined:"",dense:"","use-input":""},on:{filter:t.filterTec},model:{value:t.tecnico,callback:function(e){t.tecnico=e},expression:"tecnico"}})],1),e("div",{staticClass:"col-md-4 col-xs-12 q-pa-xs"},[e("q-input",{attrs:{type:"number",label:"Cantidad",dense:"",outlined:""},model:{value:t.agenda2.cantidad,callback:function(e){t.$set(t.agenda2,"cantidad",e)},expression:"agenda2.cantidad"}})],1),e("div",{staticClass:"col-md-4 col-xs-12 q-pa-xs"},[e("q-input",{attrs:{type:"text",label:"Tipo",dense:"",outlined:""},model:{value:t.agenda2.tipo,callback:function(e){t.$set(t.agenda2,"tipo",e)},expression:"agenda2.tipo"}})],1),e("div",{staticClass:"col-md-4 col-xs-12 q-pa-xs"},[e("q-input",{attrs:{type:"text",label:"Potencia",dense:"",outlined:""},model:{value:t.agenda2.potencia,callback:function(e){t.$set(t.agenda2,"potencia",e)},expression:"agenda2.potencia"}})],1),e("div",{staticClass:"col-12 q-pa-xs"},[e("q-input",{attrs:{type:"text",label:"Observacion",dense:"",outlined:""},model:{value:t.agenda2.observacion,callback:function(e){t.$set(t.agenda2,"observacion",e)},expression:"agenda2.observacion"}})],1)])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Asignar",color:"purple"},on:{click:t.asignar}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.dialog_fec,callback:function(e){t.dialog_fec=e},expression:"dialog_fec"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("span",{staticClass:"q-ml-sm"},[t._v("MODIFICAR FECHA")])]),e("q-card-section",{staticStyle:{"font-size":"10px"}},[e("div",[t._v(t._s(t.agenda2.fecha))]),e("div",[t._v(t._s(t.agenda2.junta))]),e("ul",[null!=t.agenda2.nueva?e("li",[t._v(t._s(t.agenda2.nueva))]):t._e(),null!=t.agenda2.repot?e("li",[t._v(t._s(t.agenda2.repot))]):t._e(),null!=t.agenda2.mtto?e("li",[t._v(t._s(t.agenda2.mtto))]):t._e(),null!=t.agenda2.plantado?e("li",[t._v(t._s(t.agenda2.plantado))]):t._e(),null!=t.agenda2.otros?e("li",[t._v(t._s(t.agenda2.otros))]):t._e()]),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{type:"date",label:"Fecha",dense:"",outlined:""},model:{value:t.agenda2.fecha,callback:function(e){t.$set(t.agenda2,"fecha",e)},expression:"agenda2.fecha"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{type:"text",label:"Observacion",dense:"",outlined:""},model:{value:t.agenda2.observacion,callback:function(e){t.$set(t.agenda2,"observacion",e)},expression:"agenda2.observacion"}})],1)]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Modificar",color:"yellow"},on:{click:t.cambioFecha}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.dialog_estado,callback:function(e){t.dialog_estado=e},expression:"dialog_estado"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("span",{staticClass:"q-ml-sm"},[t._v("MODIFICAR ESTADO")])]),e("q-card-section",{staticStyle:{"font-size":"10px"}},[e("div",[t._v(t._s(t.agenda2.fecha))]),e("div",[t._v(t._s(t.agenda2.junta))]),e("ul",[null!=t.agenda2.nueva?e("li",[t._v(t._s(t.agenda2.nueva))]):t._e(),null!=t.agenda2.repot?e("li",[t._v(t._s(t.agenda2.repot))]):t._e(),null!=t.agenda2.mtto?e("li",[t._v(t._s(t.agenda2.mtto))]):t._e(),null!=t.agenda2.plantado?e("li",[t._v(t._s(t.agenda2.plantado))]):t._e(),null!=t.agenda2.otros?e("li",[t._v(t._s(t.agenda2.otros))]):t._e()]),e("div",{staticClass:"col-12"},[e("q-select",{attrs:{type:"date",label:"Estado",options:t.estado2,dense:"",outlined:""},model:{value:t.agenda2.estado,callback:function(e){t.$set(t.agenda2,"estado",e)},expression:"agenda2.estado"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{type:"text",label:"Observacion",dense:"",outlined:""},model:{value:t.agenda2.observacion,callback:function(e){t.$set(t.agenda2,"observacion",e)},expression:"agenda2.observacion"}})],1)]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Modificar",color:"deep-orange"},on:{click:t.cambioEstado}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},mi=[],bi=a("c1df"),gi=a.n(bi);const{addToDate:fi}=P["a"];var vi={data(){return{estado:"TODO",estado1:["TODO","INICIO","EN PROCESO","REALIZADO","PENDIENTE","SUSPENDIDO"],estado2:["REALIZADO","PENDIENTE","SUSPENDIDO"],distritos:["D1","D2","D3","D4","D5","D6"],agendas:[],agenda:{fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),distrito:"D1"},junta:{},alert:!1,junta2:{},agenda2:{},cEstado:"",jvDialog:!1,dialog_mod:!1,dialog_del:!1,dialog_asig:!1,dialog_fec:!1,dialog_estado:!1,filter:"",tipo:{},dato:{},juntas:[],jfilter:[],ini:P["a"].formatDate(new Date,"YYYY-01-01"),fin:P["a"].formatDate(new Date,"YYYY-12-31"),model:"",dato2:{},options:[],tecnico:{},tecnicos:[],filtertecnicos:[],props:[],modelpermiso:!1,uni:{},columns:[{name:"opcion",label:"OPCION",field:"opcion",sortable:!1},{name:"distrito",align:"left",label:"DISTRITO ",field:"distrito",sortable:!0},{name:"junta",align:"left",label:"JUNTA",field:"junta",sortable:!0},{name:"dirigente",align:"left",label:"DIRIGENTE ",field:"dirigente",sortable:!0},{name:"telefono",align:"left",label:"TELEFONO",field:"telefono",sortable:!0},{name:"fecha",align:"left",label:"FECHA",field:"fecha",sortable:!0},{name:"estado",align:"left",label:"ESTADO",field:"estado",sortable:!0},{name:"nueva",align:"left",label:"NUEVOS",field:"nueva",sortable:!0},{name:"mtto",align:"left",label:"MTTO",field:"mtto",sortable:!0},{name:"plantado",align:"left",label:"PLANTADO ",field:"plantado",sortable:!0},{name:"repot",align:"left",label:"REPOTENCIACION",field:"repot",sortable:!0},{name:"otros",align:"left",label:"OTROS",field:"otros",sortable:!0},{name:"detalle",align:"left",label:"DETALLE",field:"detalle",sortable:!0},{name:"observacion",align:"left",label:"OBSERVACION",field:"observacion",sortable:!0},{name:"tecnico",align:"left",label:"TECNICO",field:"tecnico",sortable:!0}],data:[]}},created(){this.Buscar(),this.listJunta(),this.cargarTecnicos()},methods:{printReport(t){let e="<style>            .table1{        width:100%;        border-collapse: collapse;      }      table, th, td {        border: 1px solid;        font-size:10px;      }      .titulo{      text-align:center;      font-weight:bold;      font-size:20px;      text-decoration-line: underline;      font-style: oblique;      }      .tabtitulo{writing-mode:  vertical-rl; width:0.7cm;}      .encabezado{      text-align:justify;      font-size:14px;      }      .enc{        justify-content: space-between;      font-size:9px;      font-style: oblique;      display: flex;       flex-wrap: wrap;      align-content: flex-end;      }      .pie{      font-size:9px;      font-style: oblique;      }      .contenido{      height:0.5cm}      .cuadrado{ border-radius: 5px;  border: 1px solid #000000;     background: #000;    width: 0.4cm;    height: 0.4cm; }      .tab2 {font-size:10px; font-weight:bold;}      </style>      <div id='myelement'>      <div class='enc'><div><img src='logelectrico.png' style='height:70px; width:60px;  position:absolute; left:20px;'/></div><span>Unidad de Alumbrado Publico y Servicios Electricos</span></div>      <br><div class='titulo'>ACTA DE INSTALACION DE<br> LUMINARIAS GESTION 2023</div> <br><br>      <div class='encabezado'>En Fecha <b>"+gi()(t.fecha).format("DD/MM/YYYY")+"</b> se realizo la instalacion de nuevas luminarias en la Junta Vecinal <b>"+t.junta+"</b>, Distrito <b>"+t.distrito+"</b>        con el fin de proveer iluminacion en areas y sectores de acceso publico, en horario nocturno, y brindar seguridad ciudadana, en el marco          de las compotencias de la Unidad de Alumbrado Publico y Servicios Electricos del Gobierno Autonomo Municipal de Oruro, para lo cual se detallan          las siguientes instalaciones: </div><br>          <div class='encabezado' style='text-justify: distribute; '>Cantidad luminarias = <b>"+t.cantidad+" (Unid)</b>;  Tipo = <b>"+t.tipo+"</b> ; Potencia = <b>"+t.potencia+" (Watts)</b></div><br>      <table class='table1'><tr><th rowspan=2>COORDENADAS</th><th colspan=3>Codigo</th><th colspan=3>Tipo Poste</th><th colspan=2>Tipo Brazo</th><th>Cable</th><th rowspan=2>Observaciones</th></tr>        <tr><th style='width:1.5cm;'>Poste</th> <th style='width:1.5cm;'>luminaria</th><th style='width:1.5cm;'>Fotocelula</th><th class='tabtitulo'>Metalico</th><th class='tabtitulo'>Madera</th><th class='tabtitulo'>Cemento</th><th class='tabtitulo'>Brazo 3m</th><th class='tabtitulo'>Brazo 1.5m</th><th>Metros<br><div style='  display: flex;justify-content: space-between;'>Cu <div class='cuadrado'></div></div><div style='  display: flex; justify-content: space-between;'>Al<div class='cuadrado'></div></div></th></tr>";for(let o=0;o<15;o++)e+="<tr class='contenido'><td></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td><td rowspan=2></td></tr><tr class='contenido'><td></td></tr>";e+="</table>En constancia firman: <br><br>      <table class='table1'><tr><td><span class='tab2'>DIRIGENTE O ENCARGADO SELLO FIRMA:</span><br><br><br><br><br><br><br><div style='font-size:8px; text-align:center;'>"+t.dirigente+"<br>Celular: "+t.telefono+"</div></td>      <td style='vertical-align:top;'><span class='tab2'>SELLO DE LA URBANIZACION Y/O JUNTA VECINAL: </span></td></tr><tr><td style='vertical-align:top;'><span class='tab2'>TRABAJO INSTRUIDO POR: </span></td><td><span class='tab2'>TECNICO:</span> <br><br><br><br><br><br><br><div style='text-align:center'> Tec: "+t.user.name+"</div</td></tr></table>      <span class='pie'>Este documento es legal para ser llevado a procesos de auditoria a personal de la U.A.P.</span>      </div>",document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))},verDetalle(t){this.$q.dialog({title:"DETALLE",message:"<ul><li><b>CANTIDAD: </b>"+t.cantidad+"</li><li><b>TIPO: </b>"+t.tipo+"</li><li><b>POTENCIA: </b>"+t.potencia+"</li></ul>",html:!0}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},cargaEstado(t){this.agenda2.id=t.id,this.agenda2.distrito=t.distrito,this.agenda2.junta=t.junta,this.agenda2.dirigente=t.dirigente,this.agenda2.telefono=t.telefono,this.agenda2.fecha=t.fecha,this.agenda2.estado=t.estado,this.agenda2.nueva=t.nueva,this.agenda2.plantado=t.plantado,this.agenda2.mtto=t.mtto,this.agenda2.repot=t.repot,this.agenda2.otros=t.otros,this.agenda2.observacion=t.observacion,this.dialog_estado=!0},cargaFecha(t){this.agenda2.id=t.id,this.agenda2.distrito=t.distrito,this.agenda2.junta=t.junta,this.agenda2.dirigente=t.dirigente,this.agenda2.telefono=t.telefono,this.agenda2.fecha=t.fecha,this.agenda2.estado=t.estado,this.agenda2.nueva=t.nueva,this.agenda2.plantado=t.plantado,this.agenda2.mtto=t.mtto,this.agenda2.repot=t.repot,this.agenda2.otros=t.otros,this.agenda2.observacion=t.observacion,this.dialog_fec=!0},cargaAsigna(t){this.agenda2.id=t.id,this.agenda2.distrito=t.distrito,this.agenda2.junta=t.junta,this.agenda2.dirigente=t.dirigente,this.agenda2.telefono=t.telefono,this.agenda2.fecha=t.fecha,this.agenda2.estado=t.estado,this.agenda2.nueva=t.nueva,this.agenda2.plantado=t.plantado,this.agenda2.mtto=t.mtto,this.agenda2.repot=t.repot,this.agenda2.otros=t.otros,this.agenda2.observacion=t.observacion,void 0!=t.user_id&&null!=t.user_id&&(this.tecnico=t.user,this.tecnico.label=this.tecnico.name),this.dialog_asig=!0},asignar(){if(void 0==this.tecnico.id)return!1;this.agenda2.user_id=this.tecnico.id,this.$axios.post("asignar",this.agenda2).then((t=>{this.dialog_asig=!1,this.agenda2={},this.Buscar(),this.$q.notify({color:"green-4",icon:"info",message:"Modificado Tecnico"})}))},cambioFecha(){if(void 0==this.agenda2.fecha||""==this.agenda2.fecha)return!1;this.$axios.post("cambioFecha",this.agenda2).then((t=>{this.agenda2={},this.dialog_fec=!1,this.Buscar(),this.$q.notify({color:"green-4",icon:"info",message:"Modificado Fecha"})}))},cambioEstado(){this.$axios.post("cambioEstado",this.agenda2).then((t=>{this.agenda2={},this.dialog_estado=!1,this.Buscar(),this.$q.notify({color:"green-4",icon:"info",message:"Modificado Estado"})}))},cargaDatos(){console.log(this.junta),void 0==this.junta.id?(this.agenda.junta="",this.agenda.distrito="D1",this.agenda.dirigente="",this.agenda.telefono="",this.agenda.junta_id=""):(this.agenda.junta_id=this.junta.id,this.agenda.distrito=this.junta.distrito,this.agenda.junta=this.junta.nombre,this.agenda.dirigente=this.junta.representate,this.agenda.telefono=this.junta.celular)},cargaDatos2(){console.log(this.junta),void 0==this.junta.id?(this.agenda2.junta="",this.agenda2.dirigente="",this.agenda2.telefono="",this.agenda2.junta_id=""):(this.agenda2.junta_id=this.junta.id,this.agenda2.distrito=this.junta.distrito,this.agenda2.junta=this.junta.nombre,this.agenda2.dirigente=this.junta.representate,this.agenda2.telefono=this.junta.celular)},cargarTecnicos(){this.$axios.get("listUser").then((t=>{t.data.forEach((t=>{t.label=t.name})),this.tecnicos=t.data,this.tecnico={label:""},this.filtertecnicos=this.tecnicos}))},filterTec(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tecnicos=this.filtertecnicos.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tecnicos=this.filtertecnicos})},regJV(){this.$q.loading.show(),this.$axios.post("junta",this.junta2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"JV Agregado"}),this.junta2={},this.jvDialog=!1,this.listJunta()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},filterFn(t,e){e(""!==t&&null!==t?()=>{const e=t.toLowerCase();this.juntas=this.jfilter.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.juntas=this.jfilter})},Buscar(){this.$q.loading.show(),this.data=[],this.$axios.post("listAgenda",{ini:this.ini,fin:this.fin,estado:this.estado}).then((t=>{console.log(t.data),t.data.forEach((t=>{switch(void 0==t.user_id||null==t.user_id?t.tecnico="":t.tecnico=t.user.name,t.estado){case"EN PROCESO":t.color="#FF6948";break;case"REALIZADO":t.color="yellow";break;case"PENDIENTE":t.color="#FF48FF";break;case"SUSPENDIDO":t.color="#A8A1C9";break;default:t.color="white";break}this.data.push(t)})),this.$q.loading.hide()}))},listJunta(){this.juntas=[{label:""}],this.$q.loading.show(),this.$axios.get("junta").then((t=>{t.data.forEach((t=>{t.label=t.nombre+" "+t.distrito,this.juntas.push(t)})),this.$q.loading.hide(),this.jfilter=this.juntas,this.junta=this.juntas[0]}))},impresion(){this.$q.loading.show(),this.$axios.post("datoImp",{ini:this.ini,fin:this.fin}).then((t=>{let e=[{sheet:"Cronograma",columns:[{label:"CAT PROD",value:"codigo"},{label:"NOMBRE DE LA ACTIVIDAD",value:"actividad"},{label:"DISTRITO",value:"distrito"},{label:"BENEFICIARIO",value:"junta"},{label:"UBICACION",value:"zona"},{label:"SUPERVISOR",value:""},{label:"AVANCE FISICO DEL PERIODO",value:"valor1"},{label:"AVANCE FISICO ACUMULADO",value:"valor2"},{label:"CANTIDAD",value:"total"},{label:"UNIDAD",value:"unidad"},{label:"DESCRIPCION",value:"tipo"},{label:"OBSERVACION",value:"detalle"}],content:t.data}],a={fileName:"Cronograma",extraLength:6,writeOptions:{}};_a()(e,a),console.log(t.data),this.$q.loading.hide()}))},exportExcel(){this.$q.loading.show();let t=[{sheet:"Cronograma",columns:[{label:"DISTRITO",value:t=>t.junta.distrito},{label:"BENEFICIARIO",value:t=>t.junta.nombre},{label:"CELULAR",value:t=>t.junta.celular},{label:"UBICACION",value:t=>t.junta.zona},{label:"CANTIDAD",value:"cantidad"},{label:"FECHA",value:"fecha"},{label:"DESCRIPCION",value:"tipo"},{label:"OBSERVACION",value:"descripcion"}],content:this.data}],e={fileName:"Planificacion",extraLength:6,writeOptions:{}};_a()(t,e),this.$q.loading.hide()},editRow(t){this.agenda2={},this.agenda2.id=t.row.id,this.agenda2.distrito=t.row.distrito,this.agenda2.junta=t.row.junta,this.agenda2.dirigente=t.row.dirigente,this.agenda2.telefono=t.row.telefono,this.agenda2.fecha=t.row.fecha,this.agenda2.estado=t.row.estado,this.agenda2.nueva=t.row.nueva,this.agenda2.plantado=t.row.plantado,this.agenda2.mtto=t.row.mtto,this.agenda2.repot=t.row.repot,this.agenda2.otros=t.row.otros,this.agenda2.observacion=t.row.observacion,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),void 0!=this.junta.id&&(this.agenda.junta_id=this.junta.id),this.$axios.post("agenda",this.agenda).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.agenda={fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),distrito:"D1"},this.junta={label:""},this.alert=!1,this.Buscar(),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("agenda/"+this.agenda2.id,this.agenda2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.Buscar()}))},onDel(){this.$q.loading.show(),this.$axios.delete("cronograma/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.buscar(),this.$q.loading.hide()}))},onReset(){this.dato={}}}},qi=vi,Ci=a("f20b"),xi=a("1c1c"),yi=Object(f["a"])(qi,hi,mi,!1,null,null,null),_i=yi.exports;at()(yi,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QSelect:tt["a"],QItem:Aa["a"],QItemSection:Ea["a"],QTable:V["a"],QTr:Pe["a"],QTd:H["a"],QBtnDropdown:Ci["a"],QList:xi["a"],QCardActions:ut["a"]}),at()(yi,"directives",{ClosePopup:pt["a"]});var wi=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"text-h5 text-center"},[t._v("RESUMEN SALIDA DE MATERIAL")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pa-xs"},[e("q-input",{attrs:{dense:"",type:"date",label:"Fecha",outlined:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),e("div",{staticClass:"col-6 q-pa-xs"},[e("q-input",{attrs:{dense:"",type:"date",label:"Fecha2",outlined:""},model:{value:t.fecha2,callback:function(e){t.fecha2=e},expression:"fecha2"}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"REPORTE POR MATERIAL",data:t.salidas,columns:t.colsalida,"row-key":"name",filter:t.filter},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("div",{staticClass:"col-6 q-pa-xs"},[e("q-select",{attrs:{outlined:"",dense:"","use-input":"",options:t.materiales,label:"Material"},on:{filter:t.filterMat},model:{value:t.material,callback:function(e){t.material=e},expression:"material"}})],1),e("div",{staticClass:"col-6 q-pa-xs"},[e("q-btn",{attrs:{color:"green",icon:"search",label:"Reporte Material"},on:{click:t.generarList}})],1),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])})],1),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"REPORTE POR TECNICO",data:t.reporte,columns:t.coltecnico,"row-key":"name",filter:t.filter2},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("div",{staticClass:"col-6 q-pa-xs"},[e("q-select",{attrs:{outlined:"",dense:"","use-input":"",options:t.tecnicos,label:"Tecnicos"},on:{filter:t.filterTec},model:{value:t.tecnico,callback:function(e){t.tecnico=e},expression:"tecnico"}})],1),e("div",{staticClass:"col-6 q-pa-xs"},[e("q-btn",{attrs:{color:"accent",icon:"search",label:"Reporte Tecnico"},on:{click:t.generarListTecnico}})],1),e("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter2,callback:function(e){t.filter2=e},expression:"filter2"}})]},proxy:!0}])})],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})])},ki=[],Di={data(){return{filter:"",filter2:"",material:{label:""},fecha:P["a"].formatDate(new Date,"YYYY-MM-DD"),fecha2:P["a"].formatDate(new Date,"YYYY-MM-DD"),salidas:[],materiales:[],filterMateriales:[],filterTecnicos:[],tecnicos:[],detalle:[],tecnico:{label:""},colsalida:[{name:"fecha",label:"FECHA",field:"fecha"},{name:"tecnico",label:"TECNICO",field:"tecnico"},{name:"total",label:"TOTAL",field:"total"},{name:"material",label:"MATERIAL",field:"material"}],coltecnico:[{name:"codigo",label:"CODIGO",field:"codigo"},{name:"material",label:"MATERIAL",field:"material"},{name:"total",label:"TOTAL",field:"total"}],reporte:[]}},created(){this.getMaterial(),this.getTecnico(),this.generarList(),this.generarListTecnico()},methods:{printReport(){this.$axios.post("reporteMaterial",{ini:this.fecha,fin:this.fecha2}).then((t=>{if(console.log(t.data),t.data.length>0){let e="<style>      *{font-size:10px;}      .table1{        width:100%;        border-collapse: collapse;      }      table, th, td {        border: 1px solid;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>      <div class='titulo'>SALIDA DE MATERIAL DE "+this.fecha+" AL "+this.fecha2+"</div> <br>      <table class='table1'><tr><th>CODIGO</th> <th>CANTIDAD</th><th>MATERIAL</th><th>STOCK_ALMACEN</th><tr>";t.data.forEach((t=>{e+="<tr><td>"+t.codigo+"</td><td>"+t.cantidad+"</td><td>"+t.material+"</td><td>"+t.almacen+"</td></tr> "})),e+="</table></div>",document.getElementById("myelement").innerHTML=e;const a=new Q["Printd"];a.print(document.getElementById("myelement"))}}))},filterMat(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.materiales=this.filterMateriales.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.materiales=this.filterMateriales})},filterTec(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tecnicos=this.filterTecnicos.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tecnicos=this.filterTecnicos})},getMaterial(){this.materiales=[],this.$axios.get("material").then((t=>{t.data.forEach((t=>{t.label=t.nombre,this.materiales.push(t)})),this.filterMateriales=this.materiales}))},getTecnico(){this.tecnicos=[],this.$axios.get("listUser").then((t=>{console.log(t.data),t.data.forEach((t=>{t.label=t.name,this.tecnicos.push(t)})),this.filterTecnicos=this.tecnicos}))},generarList(){return void 0!=this.fecha&&""!=this.fecha&&(void 0!=this.fecha2&&""!=this.fecha2&&(void 0!=this.material.id&&void this.$axios.post("reportEntMat",{ini:this.fecha,fin:this.fecha2,material_id:this.material.id}).then((t=>{this.salidas=t.data}))))},generarListTecnico(){return void 0!=this.fecha&&""!=this.fecha&&(void 0!=this.fecha2&&""!=this.fecha2&&(void 0!=this.tecnico.id&&void this.$axios.post("reportTecnicoMat",{ini:this.fecha,fin:this.fecha2,user_id:this.tecnico.id}).then((t=>{this.reporte=t.data}))))},printSalida(t){let e="";t.elementos.forEach((t=>{e+="<tr><td>"+t.cantidad+"</td><td>"+t.material+"</td><td>"+t.inventario.codigo+"</td></tr>"}));let a="<style>      table{        width:100%;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>        <table style='padding:5px'><tr><td>      <div class='titulo'>SALIDA DE ALMACEN</div>      <div><b>FECHA: </b>"+t.fecha+" "+t.hora+"</div>      <div><b>TECNICO: </b>"+t.tecnico.name+"</div>      <div><b>CARRO: </b>"+t.carro+"</div>      <div><b>DESTINO: </b>"+t.destino+"</div>      <div><b>MOTIVO: </b>"+t.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:10px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>"+e+"</table>        </td><td>          <div class='titulo'>SALIDA DE ALMACEN</div>      <div><b>FECHA: </b>"+t.fecha+" "+t.hora+"</div>      <div><b>TECNICO: </b>"+t.tecnico.name+"</div>      <div><b>CARRO: </b>"+t.carro+"</div>      <div><b>DESTINO: </b>"+t.destino+"</div>      <div><b>MOTIVO: </b>"+t.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:10px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>"+e+"</table></td></tr>";a+="</table></div>\n      ",document.getElementById("myelement").innerHTML=a;const o=new Q["Printd"];o.print(document.getElementById("myelement"))},printDia(){let t="<style>      *{font-size:10px;}      table{        width:100%;      }      .titulo{      text-align:center;      font-weight:bold;      }      </style>      <div id='myelement'>      <div class='titulo'>SALIDA DE ALMACEN</div>";this.salidas.forEach((e=>{t+="<div><b>FECHA: </b>"+e.fecha+" "+e.hora+"</div>      <div><b>TECNICO: </b>"+e.tecnico.name+"</div>      <div><b>CARRO: </b>"+e.carro+"</div>      <div><b>DESTINO: </b>"+e.destino+"</div>      <div><b>MOTIVO: </b>"+e.motivo+"</div><hr>      <div class='titulo'><b>DETALLE </b></div>      <table style='padding:5px'><tr><th>CANTIDAD</th><th>MATERIAL</th><th>CODIGO</th></tr>",e.elementos.forEach((e=>{t+="<tr><td>"+e.cantidad+"</td><td>"+e.material+"</td><td>"+e.inventario.codigo+"</td></tr> "})),t+='</table><hr style=" border: 1px solid red;">'})),t+="</div>",document.getElementById("myelement").innerHTML=t;const e=new Q["Printd"];e.print(document.getElementById("myelement"))}}},Ai=Di,Ei=Object(f["a"])(Ai,wi,ki,!1,null,null,null),Oi=Ei.exports;at()(Ei,"components",{QPage:Y["a"],QInput:G["a"],QTable:V["a"],QSelect:tt["a"],QBtn:B["a"],QIcon:Z["a"]});var Ii=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("center",{staticClass:"text-h5"},[t._v("ALMACEN DE HERRAMIENTAS")]),e("q-table",{attrs:{dense:"",filter:t.filter,title:"ALMACEN",data:t.boxtools,columns:t.columns,"row-key":"name","rows-per-page-options":[0,50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("div",{staticClass:"q-pa-xs"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registro",color:"positive",icon:"add_circle"},on:{click:function(e){t.box={tipo:"SI"},t.dialogReg=!0}}})],1),e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editRow(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteRow(a)}}})],1)]}}])}),e("br"),e("q-table",{attrs:{dense:"",filter:t.filter,title:"HERRAMIENTAS",data:t.tools,columns:t.coltool,"row-key":"name","rows-per-page-options":[0,50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("div",{staticClass:"q-pa-xs"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registro",color:"positive",icon:"add_circle"},on:{click:function(e){t.tool={},t.dialogTool=!0}}})],1),e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(e){return t.editTool(a)}}}),e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteTool(a)}}})],1)]}}])}),e("q-dialog",{model:{value:t.dialogReg,callback:function(e){t.dialogReg=e},expression:"dialogReg"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO NUEVO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{type:"text",label:"Nombre Herramienta",outlined:"",dense:""},model:{value:t.box.nombre,callback:function(e){t.$set(t.box,"nombre",e)},expression:"box.nombre"}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-toggle",{attrs:{color:"green","true-value":"SI","false-value":"NO",label:t.box.tipo+" TIENE CODIGO"},model:{value:t.box.tipo,callback:function(e){t.$set(t.box,"tipo",e)},expression:"box.tipo"}})],1),e("div",[e("q-btn",{attrs:{label:"Registrar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"edit"}}),t._v(" MODIFICAR DATOS ")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[e("div",{staticClass:"row"},[e("div",{staticClass:"q-pa-xs"},[e("q-input",{attrs:{type:"text",label:"Nombre Herramienta",outlined:"",dense:""},model:{value:t.box2.nombre,callback:function(e){t.$set(t.box2,"nombre",e)},expression:"box2.nombre"}})],1),e("div",{staticClass:"q-pa-xs"},[e("q-toggle",{attrs:{color:"green","true-value":"SI","false-value":"NO",label:t.box2.tipo+" TIENE CODIGO"},model:{value:t.box2.tipo,callback:function(e){t.$set(t.box2,"tipo",e)},expression:"box2.tipo"}})],1)]),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"yellow",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("q-dialog",{model:{value:t.dialogTool,callback:function(e){t.dialogTool=e},expression:"dialogTool"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO NUEVO")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.registro,reset:t.onReset}},[e("div",[e("q-select",{attrs:{dense:"",options:t.boxtools,label:"Herramienta",filled:""},model:{value:t.boxtool,callback:function(e){t.boxtool=e},expression:"boxtool"}})],1),void 0!=t.boxtool.id?e("div",{staticClass:"row"},[e("div",{staticClass:"q-pa-xs col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"text",label:"CODIGO"},model:{value:t.tool.codigo,callback:function(e){t.$set(t.tool,"codigo",e)},expression:"tool.codigo"}})],1),"NO"==t.boxtool.tipo?e("div",{staticClass:"q-pa-xs col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"CANTIDAD"},model:{value:t.tool.cantidad,callback:function(e){t.$set(t.tool,"cantidad",e)},expression:"tool.cantidad"}})],1):t._e(),"SI"==t.boxtool.tipo?e("div",{staticClass:"q-pa-xs col-12"},[e("q-input",{attrs:{dense:"",outlined:"",type:"text",label:"OBSERVACION"},model:{value:t.tool.observacion,callback:function(e){t.$set(t.tool,"observacion",e)},expression:"tool.observacion"}})],1):t._e()]):t._e(),e("div",[e("q-btn",{attrs:{label:"Registrar",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("q-dialog",{model:{value:t.dialog_modtool,callback:function(e){t.dialog_modtool=e},expression:"dialog_modtool"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-warning text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" MODIFICACION HERRAMIENTA")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onModTool,reset:t.onReset}},[e("div",{staticClass:"q-pa-xs col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"text",label:"CODIGO"},model:{value:t.tool2.codigo,callback:function(e){t.$set(t.tool2,"codigo",e)},expression:"tool2.codigo"}})],1),e("div",{staticClass:"q-pa-xs col-12"},[e("q-input",{attrs:{dense:"",outlined:"",type:"text",label:"OBSERVACION"},model:{value:t.tool2.observacion,callback:function(e){t.$set(t.tool2,"observacion",e)},expression:"tool2.observacion"}})],1),e("div",[e("q-btn",{attrs:{label:"Modificar",type:"submit",color:"yellow",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("div",{staticClass:"hidden",attrs:{id:"myelement"}})],1)},Ri=[];const{addToDate:Ti}=P["a"];var $i={data(){return{dialogReg:!1,dialogTool:!1,box:{},tool:{},cEstado:"",jvDialog:!1,dialog_mod:!1,dialog_modtool:!1,dialog_del:!1,dialog_asig:!1,dialog_fec:!1,dialog_estado:!1,filter:"",tipo:{},dato:{},boxtools:[],boxtool:{label:""},tool2:{},box2:{},jfilter:[],ini:P["a"].formatDate(new Date,"YYYY-01-01"),fin:P["a"].formatDate(new Date,"YYYY-12-31"),tools:[],model:"",dato2:{},options:[],props:[],modelpermiso:!1,uni:{},columns:[{name:"opcion",label:"OPCION",field:"opcion",sortable:!1},{name:"nombre",align:"left",label:"NOMBRE",field:"nombre",sortable:!0},{name:"stock",align:"left",label:"STOCK",field:"stock",sortable:!0},{name:"disponible",align:"left",label:"DISPONIBLE",field:"disponible",sortable:!0},{name:"tipo",align:"left",label:"CODIGO",field:"tipo",sortable:!0}],coltool:[{name:"opcion",label:"OPCION",field:"opcion",sortable:!1},{name:"nombre",align:"left",label:"NOMBRE",field:"nombre",sortable:!0},{name:"cantidad",align:"left",label:"cantidad",field:"cantidad",sortable:!0},{name:"codigo",align:"left",label:"codigo",field:"codigo",sortable:!0},{name:"saldo",align:"left",label:"saldo",field:"saldo",sortable:!0},{name:"estado",align:"left",label:"ESTADO",field:"estado",sortable:!0}],data:[]}},created(){this.buscar(),this.getTools()},methods:{buscar(){this.$q.loading.show(),this.boxtools=[],this.$axios.get("boxtool").then((t=>{t.data.forEach((t=>{t.label=t.nombre,this.boxtools.push(t)})),this.$q.loading.hide()}))},getTools(){this.$q.loading.show(),this.$axios.get("tool").then((t=>{this.tools=t.data,this.$q.loading.hide()}))},editRow(t){this.box2=t.row,this.dialog_mod=!0},editTool(t){this.tool2=t.row,this.boxtool=this.tool2.boxtool,this.boxtool.label=this.boxtool.nombre,this.dialog_modtool=!0},deleteRow(t){this.$q.dialog({title:"SEGURO",message:"Desea Eliminar registro?",cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),this.$axios.delete("boxtool/"+t.row.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.buscar(),this.$q.loading.hide()}))})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},deleteTool(t){this.$q.dialog({title:"SEGURO",message:"Desea Eliminar registro?",cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),this.$axios.delete("tool/"+t).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.tool(),this.$q.loading.hide()}))})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},onSubmit(){this.$q.loading.show(),this.$axios.post("boxtool",this.box).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Registrado correctamente"}),this.box={tipo:"NO"},this.dialogReg=!1,this.buscar(),this.$q.loading.hide()}))},registro(){this.$q.loading.show(),this.tool.boxtool_id=this.boxtool.id,this.$axios.post("tool",this.tool).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Registrado correctamente"}),this.tool={},this.dialogTool=!1,this.buscar(),this.getTools(),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("boxtool/"+this.box2.id,this.box2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.buscar()}))},onModTool(){this.$q.loading.show(),this.$axios.put("tool/"+this.tool2.id,this.tool2).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_modtool=!1,this.buscar()}))},onDel(){},onReset(){this.dato={}}}},Si=$i,Ni=Object(f["a"])(Si,Ii,Ri,!1,null,null,null),Mi=Ni.exports;at()(Ni,"components",{QTable:V["a"],QBtn:B["a"],QInput:G["a"],QIcon:Z["a"],QTd:H["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QForm:K["a"],QToggle:dt["a"],QSelect:tt["a"]}),at()(Ni,"directives",{ClosePopup:pt["a"]});var ji=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Registro Orden Compra",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),e("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"bg-green-14 text-white"},[e("div",{staticClass:"text-h7"},[e("q-icon",{attrs:{name:"add_circle"}}),t._v(" REGISTRO ORDEN COMPRA")],1)]),e("q-card-section",{staticClass:"q-pt-xs"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.registrar,reset:t.onReset}},[""!=t.mensaje?e("div",{staticClass:"q-pd-md",staticStyle:{color:"red"}},[t._v(t._s(t.mensaje))]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Nro Orden Compra",required:""},model:{value:t.dato.norden,callback:function(e){t.$set(t.dato,"norden",e)},expression:"dato.norden"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",type:"date",label:"Fecha","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor ingresa Fecha"],required:""},model:{value:t.dato.fecha,callback:function(e){t.$set(t.dato,"fecha",e)},expression:"dato.fecha"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Responsable","lazy-rules":"",required:"",list:"respon"},model:{value:t.dato.responsable,callback:function(e){t.$set(t.dato,"responsable",e)},expression:"dato.responsable"}}),e("datalist",{attrs:{id:"respon"}},t._l(t.responsables,(function(a){return e("option",{key:a.responsable},[t._v(t._s(a.responsable))])})),0)],1),e("div",{staticClass:"col-6"},[e("q-select",{attrs:{"use-input":"","input-debounce":"0",dense:"",options:t.tiendas,label:"Tienda/Proveedor",outlined:""},on:{filter:t.filterTienda},model:{value:t.tienda,callback:function(e){t.tienda=e},expression:"tienda"}})],1),e("div",{staticClass:"col-6"},[e("b",[t._v("REPRESENTANTE: ")]),t._v(" "+t._s(t.tienda.representante)),e("br"),e("b",[t._v("DIRECCION: ")]),t._v(" "+t._s(t.tienda.direccion)),e("br"),e("b",[t._v("TELEFONO: ")]),t._v(" "+t._s(t.tienda.telefono))]),e("div",{staticClass:"col-2"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Unidad","lazy-rules":"",list:"unidades"},model:{value:t.det.unidad,callback:function(e){t.$set(t.det,"unidad",e)},expression:"det.unidad"}}),e("datalist",{attrs:{id:"unidades"}},t._l(t.unidades,(function(a){return e("option",{key:a.unidad},[t._v(t._s(a.unidad))])})),0)],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Material","lazy-rules":"",list:"materiales"},model:{value:t.det.material,callback:function(e){t.$set(t.det,"material",e)},expression:"det.material"}}),e("datalist",{attrs:{id:"materiales"}},t._l(t.materiales,(function(a){return e("option",{key:a.material},[t._v(t._s(a.material))])})),0)],1),e("div",{staticClass:"col-3"},[e("q-input",{attrs:{dense:"",type:"number",label:"Cantidad",outlined:""},model:{value:t.det.cantidad,callback:function(e){t.$set(t.det,"cantidad",e)},expression:"det.cantidad"}})],1),e("div",{staticClass:"col-1"},[e("q-btn",{attrs:{dense:"",color:"green",icon:"control_point"},on:{click:t.agregarMaterial}})],1)]),e("div",{staticClass:"col-12"},[e("q-table",{attrs:{title:"Lista de Compra ",data:t.detalle,columns:t.columna2,"row-key":"name"},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",color:"red",icon:"delete"},on:{click:function(e){return t.eliminar(a)}}})],1)]}}])})],1),e("div",[e("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-4 q-pa-xs"},[e("q-input",{attrs:{type:"date",label:"Fecha Ini",dense:"",outlined:""},model:{value:t.ini,callback:function(e){t.ini=e},expression:"ini"}})],1),e("div",{staticClass:"col-4 q-pa-xs"},[e("q-input",{attrs:{type:"date",label:"Fecha Fin",dense:"",outlined:""},model:{value:t.fin,callback:function(e){t.fin=e},expression:"fin"}})],1)]),e("q-table",{attrs:{filter:t.filter,title:"LISTA ORDEN COMPRAS",data:t.compras,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("div",{staticClass:"q-pa-xs"},[e("q-btn",{attrs:{color:"info",icon:"search",label:" Buscar"},on:{click:t.misdatos}})],1),e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"accent",icon:"local_mall"},on:{click:function(e){return t.viewRow(a.row)}}})],1)]}}])}),e("br"),e("q-table",{attrs:{filter:t.filter,title:"LISTA MATERIALES",data:t.tabDetalle,columns:t.colDetalle,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("div",{staticClass:"q-pa-xs"},[e("q-btn",{attrs:{color:"info",icon:"search",label:" Buscar"},on:{click:t.getDetalle}})],1),e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(a){return[e("q-td",{key:"opcion",attrs:{props:a}},[a.row.cantidad>a.row.entregado?e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"accent",icon:"shopping_cart"},on:{click:function(e){return t.ingresoDetalle(a.row)}}}):t._e(),a.row.logdetalle.length>0?e("q-btn",{attrs:{dense:"",round:"",flat:"",color:"cyan",icon:"edit_note"},on:{click:function(e){return t.logVer(a.row)}}}):t._e()],1)]}},{key:"body-cell-estado",fn:function(t){return[e("q-td",{key:"estado",attrs:{props:t}},[e("q-badge",{attrs:{color:"COMPLETADO"==t.row.estado?"green":"red",label:t.row.estado}})],1)]}}])}),e("q-dialog",{model:{value:t.dialogMod,callback:function(e){t.dialogMod=e},expression:"dialogMod"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"shopping_cart",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("DETALLE DE COMPRA MODIFICAR")])],1),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",type:"number",label:"Nro Compra"},model:{value:t.compra.nrocompra,callback:function(e){t.$set(t.compra,"nrocompra",e)},expression:"compra.nrocompra"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",type:"date",label:"Fecha Compra"},model:{value:t.compra.fechacompra,callback:function(e){t.$set(t.compra,"fechacompra",e)},expression:"compra.fechacompra"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{attrs:{outlined:"",type:"number",label:"Nro Vale"},model:{value:t.compra.nrovale,callback:function(e){t.$set(t.compra,"nrovale",e)},expression:"compra.nrovale"}})],1)])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Modificar",color:"yellow"},on:{click:t.modificar}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.dialogDetalle,callback:function(e){t.dialogDetalle=e},expression:"dialogDetalle"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"shopping_cart",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("DETALLE DE COMPRA")])],1),e("q-card-section",[e("table",[e("tr",[e("th",[t._v("UNIDAD")]),e("th",[t._v("MATERIAL")]),e("th",[t._v("CANTIDAD")])]),t._l(t.detalle,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.unidad))]),e("td",[t._v(t._s(a.material))]),e("td",[t._v(t._s(a.cantidad))])])}))],2)]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.dialog_ingreso,callback:function(e){t.dialog_ingreso=e},expression:"dialog_ingreso"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"shopping_cart",color:"red","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("RECOGER MATERIAL")])],1),e("q-form",{staticClass:"q-gutter-md",on:{submit:t.regIngreso,reset:t.onReset}},[e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pa-xs"},[e("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Cantidad",required:""},model:{value:t.ingreso.cantidad,callback:function(e){t.$set(t.ingreso,"cantidad",e)},expression:"ingreso.cantidad"}})],1),e("div",{staticClass:"col-6 q-pa-xs"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Nro Vale"},model:{value:t.ingreso.vale,callback:function(e){t.$set(t.ingreso,"vale",e)},expression:"ingreso.vale"}})],1),e("div",{staticClass:"col-12 q-pa-xs"},[e("q-input",{attrs:{dense:"",outlined:"",label:"Observacion"},model:{value:t.ingreso.obs,callback:function(e){t.$set(t.ingreso,"obs",e)},expression:"ingreso.obs"}})],1)]),e("div")]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"Registrar",type:"submit",color:"green"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1),e("q-dialog",{model:{value:t.dialog_ver,callback:function(e){t.dialog_ver=e},expression:"dialog_ver"}},[e("q-card",{staticStyle:{"max-width":"80%",width:"70%"}},[e("q-card-section",{staticClass:"row items-center bg-primary text-white"},[e("span",{staticClass:"q-ml-sm text-weight-bold"},[t._v("HISTORIAL DE INGRESO A ALMACEN")])]),e("q-card-section",[e("q-table",{attrs:{data:t.retiros,columns:t.colIng,"row-key":"name",dense:""}})],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}})],1)],1)],1)],1)},Li=[];const{addToDate:Pi}=P["a"];var Qi={data(){return{ini:P["a"].formatDate(Date.now(),"YYYY-01-01"),fin:P["a"].formatDate(Date.now(),"YYYY-12-31"),alert:!1,det:{cantidad:1},detalle:[],materiales:[],responsables:[],unidades:[],dialog_mod:!1,dialog_del:!1,dialogDetalle:!1,dialogMod:!1,dialog_ingreso:!1,dialog_ver:!1,filter:"",dato:{fecha:P["a"].formatDate(Date.now(),"YYYY-MM-DD")},model:"",dato2:{},props:[],material:{},tienda:{},compra:{},tiendas:[],filtertiendas:[],compras:[],modelpermiso:!1,mensaje:"",ingreso:{},uni:{},tabDetalle:[],calDetalle:{},columns:[{name:"opcion",label:"OPCIÓN",field:"opcion",sortable:!1},{name:"norden",align:"left",label:"NRO ORDEN COMPRA ",field:"norden",sortable:!0},{name:"fecha",align:"left",label:"FECHA ORDEN",field:"fecha",sortable:!0},{name:"tienda",align:"left",label:"TIENDA/PROV",field:t=>t.tienda.nombre,sortable:!0},{name:"responsable",align:"left",label:"RESPONSABLE",field:"responsable",sortable:!0}],columna2:[{name:"opcion",label:"opcion",field:"opcion"},{name:"cantidad",label:"CANTIDAD",field:"cantidad"},{name:"unidad",label:"UNIDAD",field:"unidad"},{name:"material",label:"MATERIAL",field:"material"}],colDetalle:[{name:"opcion",label:"opcion",field:"opcion"},{name:"cantidad",label:"CANTIDAD",field:"cantidad",sortable:!0},{name:"entregado",label:"ENTREGADO",field:"entregado"},{name:"unidad",label:"UNIDAD",field:"unidad",sortable:!0},{name:"material",label:"MATERIAL",field:"material",sortable:!0},{name:"estado",label:"ESTADO",field:"estado"},{name:"norden",align:"left",label:"NRO ORDEN COMPRA ",field:t=>t.ordencompra.norden,sortable:!0},{name:"fecha",align:"left",label:"FECHA ORDEN",field:t=>t.ordencompra.fecha,sortable:!0}],colIng:[{name:"fecha",label:"FECHA",field:"fecha",align:"center"},{name:"cantidad",label:"CANTIDAD",field:"cantidad",align:"center"},{name:"vale",label:"N VALE",field:"vale",align:"center"},{name:"obs",label:"OBSERVACION",field:"obs",align:"left"}],data:[],retiros:[]}},created(){this.getUnid(),this.getResp(),this.getMat(),this.mistiendas(),this.misdatos(),this.getDetalle()},methods:{logVer(t){this.retiros=t.logdetalle,this.dialog_ver=!0},regIngreso(){return this.ingreso.cantidad<=0?(this.$q.notify({icon:"info",message:"Debe Ingresar Cantidad ",color:"red"}),!1):this.ingreso.cantidad>parseInt(this.calDetalle.cantidad)-parseInt(this.calDetalle.entregado)?(this.$q.notify({icon:"info",message:"No debe exeder la cantidad",color:"red"}),!1):(this.ingreso.ordendetalle_id=this.calDetalle.id,void this.$axios.post("ordendetalle",this.ingreso).then((t=>{this.$q.notify({icon:"info",message:"Registrado",color:"green"}),this.dialog_ingreso=!1,this.getDetalle()})))},ingresoDetalle(t){console.log(t),this.calDetalle=t,this.ingreso={cantidad:1},this.dialog_ingreso=!0},getDetalle(){this.$axios.post("listDetalle",{ini:this.ini,fin:this.fin}).then((t=>{console.log(t.data),this.tabDetalle=t.data}))},getMat(){this.$axios.post("listMaterial").then((t=>{this.materiales=t.data}))},getResp(){this.$axios.post("listResp").then((t=>{this.responsables=t.data}))},getUnid(){this.$axios.post("listUnid").then((t=>{this.unidades=t.data}))},editDato(t){this.compra=t,this.dialogMod=!0},modificar(){this.$axios.put("compra/"+this.compra.id,this.compra).then((t=>{this.compra={},this.dialogMod=!1,this.misdatos()}))},filterTienda(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.tiendas=this.filtertiendas.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.tiendas=this.filtertiendas})},filterMat(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.materiales=this.filterMateriales.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.materiales=this.filterMateriales})},validarCompra(){this.$axios.get("valCompra/"+this.dato.nrocompra).then((t=>{t.data.length>0?this.mensaje="La compra ya existe":this.mensaje=""}))},viewRow(t){this.detalle=t.ordendetalle,this.dialogDetalle=!0},registrar(){return 0==this.detalle.length?(this.$q.notify({icon:"info",message:"Debe Ingresar material ",color:"red"}),!1):void 0==this.tienda.id?(this.$q.notify({icon:"info",message:"Debe Seleccionar Proveedor",color:"red"}),!1):""==this.dato.fecha||void 0==this.dato.fecha?(this.$q.notify({icon:"info",message:"Debe ingresar fecha",color:"red"}),!1):(this.$q.loading.show(),this.dato.detalle=this.detalle,this.dato.tienda_id=this.tienda.id,void this.$axios.post("ordencompra",this.dato).then((t=>{console.log(t.data),this.misdatos(),this.$q.notify({color:"green-4",icon:"check",message:"Creado correctamente"}),this.alert=!1,this.dato={fecha:P["a"].formatDate(Date.now(),"YYYY-MM-DD")},this.detalle=[],this.getMat(),this.getResp(),this.getUnid(),this.$q.loading.hide()})))},eliminar(t){console.log(t),this.detalle.splice(t.rowIndex,1)},agregarMaterial(){return console.log(this.listado),void 0==this.det.cantidad||this.det.cantidad<=0||void 0==this.det.unidad||""==this.det.unidad||void 0==this.det.material||""==this.det.material?(console.log("error2 ing"),!1):(this.detalle.push(this.det),void(this.det={cantidad:1}))},mistiendas(){this.$q.loading.show(),this.$axios.get("tienda").then((t=>{console.log(t.data),t.data.forEach((t=>{t.label=t.nombre})),this.tiendas=t.data,this.filtertiendas=this.tiendas,this.$q.loading.hide(),this.tienda={label:""}}))},misdatos(){this.$q.loading.show(),this.$axios.post("listOrden",{ini:this.ini,fin:this.fin}).then((t=>{console.log(t.data),this.compras=t.data,this.$q.loading.hide()}))},editRow(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow(t){this.dato2=t.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("material",this.dato).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={},this.alert=!1,this.misdatos()})).catch((t=>{console.log(t.response.data),this.$q.notify({message:t.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onDel(){this.$q.loading.show(),this.$axios.delete("compra/"+this.dato2.id).then((t=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:t.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato={}}}},zi=Qi,Fi=Object(f["a"])(zi,ji,Li,!1,null,null,null),Ui=Fi.exports;at()(Fi,"components",{QBtn:B["a"],QDialog:J["a"],QCard:W["a"],QCardSection:X["a"],QIcon:Z["a"],QForm:K["a"],QInput:G["a"],QSelect:tt["a"],QTable:V["a"],QTd:H["a"],QBadge:ct["a"],QAvatar:Qe["a"],QCardActions:ut["a"]}),at()(Fi,"directives",{ClosePopup:pt["a"]});var Yi=a("bc13");const Bi=[{path:"/",component:()=>Promise.all([a.e(0),a.e(2)]).then(a.bind(null,"713b")),children:[{path:"",component:()=>Promise.resolve().then(a.bind(null,"bc13")),meta:{requiresAuth:!0}},{path:"mantenimiento",component:it,meta:{requiresAuth:!0}},{path:"denuncia",component:mt,meta:{requiresAuth:!0}},{path:"mapa",component:Rt,meta:{requiresAuth:!0}},{path:"reportedenuncia",component:Qt,meta:{requiresAuth:!0}},{path:"alumbrado",component:Vt,meta:{requiresAuth:!0}},{path:"reclamos/:cedula",component:Te,meta:{requiresAuth:!0}},{path:"reclamos",component:Te,meta:{requiresAuth:!0}},{path:"usuarios",component:Fe,meta:{requiresAuth:!0}},{path:"tecnicos",component:Ze,meta:{requiresAuth:!0}},{path:"apublico",component:ea,meta:{requiresAuth:!0}},{path:"reportereclamo",component:na,meta:{requiresAuth:!0}},{path:"reporteposte",component:ha,meta:{requiresAuth:!0}},{path:"inspeccion",component:qa,meta:{requiresAuth:!0}},{path:"cronograma",component:Ia,meta:{requiresAuth:!0}},{path:"juntavecinal",component:ja,meta:{requiresAuth:!0}},{path:"materiales",component:Va,meta:{requiresAuth:!0}},{path:"compras",component:go,meta:{requiresAuth:!0}},{path:"tiendas",component:_o,meta:{requiresAuth:!0}},{path:"inventarios",component:eo,meta:{requiresAuth:!0}},{path:"materialinfo",component:ro,meta:{requiresAuth:!0}},{path:"salidas",component:Io,meta:{requiresAuth:!0}},{path:"home",component:Yi["default"],meta:{requiresAuth:!0}},{path:"devolucion",component:Mo,meta:{requiresAuth:!0}},{path:"dependencias",component:Fo,meta:{requiresAuth:!0}},{path:"reportes",component:Go,meta:{requiresAuth:!0}},{path:"acta",component:ti,meta:{requiresAuth:!0}},{path:"agenda",component:_i,meta:{requiresAuth:!0}},{path:"reportematerial",component:li,meta:{requiresAuth:!0}},{path:"resumenreporte",component:Oi,meta:{requiresAuth:!0}},{path:"herramientas",component:Mi,meta:{requiresAuth:!0}},{path:"ordencompras",component:Ui,meta:{requiresAuth:!0}},{path:"informacion",component:Xt},{path:"listaActa",component:pi},{path:"login",component:kt}]},{path:"/reclamoalumbrado",component:pe},{path:"/registroreclamo",component:ke},{path:"/consulta/:cedula",component:ve},{path:"/consulta",component:ve},{path:"*",component:()=>a.e(3).then(a.bind(null,"e51e"))}];var Vi=Bi;l["a"].use(M["a"]);var Hi=function(){const t=new M["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Vi,mode:"hash",base:""});return t.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requiresAuth))){if(N().getters["login/isLoggedIn"])return void a();a("/login")}else a()})),t},Gi=async function(){const t="function"===typeof N?await N({Vue:l["a"]}):N,e="function"===typeof Hi?await Hi({Vue:l["a"],store:t}):Hi;t.$router=e;const a={router:e,store:t,render:t=>t(q),el:"#q-app"};return{app:a,store:t,router:e}},Zi=a("92de"),Ji=a("b9ee"),Wi=a("2699"),Xi=a("a40a"),Ki=a("4e2b"),ts=a("fbba"),es=a("2253"),as=a("f60f"),os=(a("6cc5"),a("e11e")),is=a.n(os);l["a"].use(Ji["a"],{load:{key:"AIzaSyDtDisHrUQNc_iS4YcvBS5onSB3f0fcoHs",libraries:"places",v:"3.26",customCallback:"MyCustomCallback"},autoBindAllEvents:!1,installComponents:!0,dynamicLoad:!1}),l["a"].use(Zi,{load:{key:"AIzaSyBXoCUdCBDilSwYQ8ryGAJQagi49o4Fpn0",libraries:"places"},installComponents:!0}),delete is.a.Icon.Default.prototype._getIconUrl,is.a.Icon.Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),l["a"].component("l-map",Wi["a"]),l["a"].component("l-tile-layer",Xi["a"]),l["a"].component("l-marker",Ki["a"]),l["a"].component("l-icon",ts["a"]),l["a"].component("l-control",es["a"]),l["a"].component("l-popup",as["a"]),l["a"].prototype.$axios=I.a,l["a"].prototype.$axios.defaults.baseURL="https://alumbradoback.gamo.gob.bo/api/";const ss="";async function ls(){const{app:t,store:e,router:a}=await Gi();let o=!1;const i=t=>{o=!0;const e=Object(t)===t?a.resolve(t).route.fullPath:t;window.location.href=e},s=window.location.href.replace(window.location.origin,""),n=[void 0];for(let c=0;!1===o&&c<n.length;c++)if("function"===typeof n[c])try{await n[c]({app:t,router:a,store:e,Vue:l["a"],ssrContext:null,redirect:i,urlPath:s,publicPath:ss})}catch(r){return r&&r.url?void(window.location.href=r.url):void console.error("[Quasar] boot error:",r)}!0!==o&&new l["a"](t)}ls()},3:function(t,e){},3072:function(t,e,a){},"31cd":function(t,e,a){},"3c8f":function(t,e,a){},4201:function(t,e,a){},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=s,t.exports=i,i.id="4678"},"4aa1":function(t,e,a){"use strict";a("4201")},"6b70":function(t,e,a){"use strict";a("3072")},"72f4":function(t,e,a){"use strict";a("bce9")},"8ff1":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return i}));var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("q-page",{attrs:{padding:""}},[e("div",[e("q-img",{staticStyle:{display:"block","margin-left":"auto","margin-right":"auto",width:"40%",height:"40%"},attrs:{src:"logoalumbrado.jpeg"}})],1)])},i=[]},a3c0:function(t,e){},bc13:function(t,e,a){"use strict";a.r(e);var o=a("8ff1"),i=a("edfd");for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);var l=a("2877"),n=a("9989"),r=a("068f"),c=a("eebe"),d=a.n(c),u=Object(l["a"])(i["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports,d()(u,"components",{QPage:n["a"],QImg:r["a"]})},bce9:function(t,e,a){},e45b:function(t,e,a){"use strict";a("e8fc")},e8fc:function(t,e,a){},edfd:function(t,e,a){"use strict";a.r(e);var o=a("a3c0"),i=a.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},fc11:function(t,e,a){"use strict";a("3c8f")}});